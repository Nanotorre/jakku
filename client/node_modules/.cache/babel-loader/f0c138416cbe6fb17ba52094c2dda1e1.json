{"ast":null,"code":"import _defineProperty from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{Component}from\"react\";import{withRouter}from'react-router-dom';import PreloaderSpinner from\"../atoms/PreloaderSpinner\";import CollapsibleProducs from\"../molecules/CollapsibleProducs\";var ShowMyPurchases=/*#__PURE__*/function(_Component){_inherits(ShowMyPurchases,_Component);function ShowMyPurchases(props){var _this;_classCallCheck(this,ShowMyPurchases);_this=_possibleConstructorReturn(this,_getPrototypeOf(ShowMyPurchases).call(this,props));_this.getmyproducts=function(){var productsOwned=_this.props.products.filter(function(product){return product.buyer?product.buyer==_this.props.user._id:false;});_this.setState(_objectSpread({},_this.state,{products:productsOwned}));};_this.goBack=function(){_this.props.history.push(\"/\");};_this.state={products:null};return _this;}_createClass(ShowMyPurchases,[{key:\"componentDidMount\",value:function componentDidMount(){// const productsOwned = this.props.products.filter(product =>{\n//   return  product.buyer?  product.buyer == this.props.user._id \n//   : false\n// });\n// this.setState({\n//   ...this.state,\n//   products: productsOwned\n// })\n}},{key:\"render\",// componentDidUpdate(prevProps, prevState) {\n//   if (\n//     this.state.products !==\n//     prevState.someStatefulValue\n//   ) {\n//     this.props.onChange(this.state.someStatefulValue);\n//   }\n// }\n// componentDidUpdate(prevProps, prevState) {\n//   if (prevState.products !== this.state.products) {\n//     let firebaseRef=firebase.database().ref(this.state.products);\n//     this.setState({firebaseRef});\n//   }\n// }\n// static getDerivedStateFromProps(nextProps, prevState){\n//   if(nextProps.products!==prevState.products){\n//     let firebaseRef=prevState.firebaseRef;\n//     return {products : nextProps.products};\n//   }\n//   else return null;\n// }\nvalue:function render(){if(this.props.products&&this.props.user){if(this.props.products.length>0){return React.createElement(\"div\",{className:\"purchases-container\"},React.createElement(\"div\",{className:\"my-purchases\"},React.createElement(\"div\",{className:\"top-box-purchases\"}),React.createElement(\"a\",{className:\"back-btn\"},React.createElement(\"i\",{class:\"medium material-icons\",onClick:this.goBack},\"arrow_back\")),React.createElement(\"h2\",null,\"Tus cajas compradas\"),React.createElement(CollapsibleProducs,{products:this.props.products,user:this.props.user// deleteFromShow={(id)=>this.deleteProduct(id)}\n})));}else{return React.createElement(\"div\",{className:\"purchases-container\"},React.createElement(\"div\",{className:\"purchased-none\"},React.createElement(\"a\",{className:\"back-btn\"},React.createElement(\"i\",{class:\"medium material-icons\",onClick:this.goBack},\"arrow_back\")),React.createElement(\"h2\",null,\"Todav\\xEDa no has comprado nada\")));}}else{return React.createElement(PreloaderSpinner,null);}}}]);return ShowMyPurchases;}(Component);export default withRouter(ShowMyPurchases);","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/pages/ShowMyPurchases.jsx"],"names":["React","Component","withRouter","PreloaderSpinner","CollapsibleProducs","ShowMyPurchases","props","getmyproducts","productsOwned","products","filter","product","buyer","user","_id","setState","state","goBack","history","push","length"],"mappings":"w/CAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,2BAA7B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,iCAA/B,C,GAGMC,CAAAA,e,yEACJ,yBAAYC,KAAZ,CAAmB,iDACjB,iFAAMA,KAAN,GADiB,MAiBnBC,aAjBmB,CAiBL,UAAI,CAChB,GAAMC,CAAAA,aAAa,CAAG,MAAKF,KAAL,CAAWG,QAAX,CAAoBC,MAApB,CAA2B,SAAAC,OAAO,CAAG,CACzD,MAAQA,CAAAA,OAAO,CAACC,KAAR,CAAgBD,OAAO,CAACC,KAAR,EAAiB,MAAKN,KAAL,CAAWO,IAAX,CAAgBC,GAAjD,CACN,KADF,CAED,CAHqB,CAAtB,CAMA,MAAKC,QAAL,kBACK,MAAKC,KADV,EAEEP,QAAQ,CAAED,aAFZ,IAID,CA5BkB,OA8BnBS,MA9BmB,CA8BX,UAAK,CACX,MAAKX,KAAL,CAAWY,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACD,CAhCkB,CAEjB,MAAKH,KAAL,CAAa,CACZP,QAAQ,CAAC,IADG,CAAb,CAFiB,aAKlB,C,yFAEmB,CAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,C,gBAmBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;uBAES,CACP,GAAG,KAAKH,KAAL,CAAWG,QAAX,EAAuB,KAAKH,KAAL,CAAWO,IAArC,CAA2C,CAEzC,GAAG,KAAKP,KAAL,CAAWG,QAAX,CAAoBW,MAApB,CAA2B,CAA9B,CAAgC,CAC9B,MACE,4BAAK,SAAS,CAAC,qBAAf,EAIA,2BAAK,SAAS,CAAC,cAAf,EACE,2BAAK,SAAS,CAAC,mBAAf,EADF,CAIG,yBAAG,SAAS,CAAC,UAAb,EAAwB,yBAAG,KAAK,CAAC,uBAAT,CAAiC,OAAO,CAAE,KAAKH,MAA/C,eAAxB,CAJH,CAKE,oDALF,CAME,oBAAC,kBAAD,EACA,QAAQ,CAAE,KAAKX,KAAL,CAAWG,QADrB,CAC+B,IAAI,CAAE,KAAKH,KAAL,CAAWO,IAChD;AAFA,EANF,CAJA,CADF,CAkBD,CAnBD,IAoBK,CACH,MACE,4BAAK,SAAS,CAAC,qBAAf,EACA,2BAAK,SAAS,CAAC,gBAAf,EACF,yBAAG,SAAS,CAAC,UAAb,EAAwB,yBAAG,KAAK,CAAC,uBAAT,CAAiC,OAAO,CAAE,KAAKI,MAA/C,eAAxB,CADE,CAEA,gEAFA,CADA,CADF,CASD,CAEF,CAlCD,IAmCK,CACH,MACE,qBAAC,gBAAD,MADF,CAID,CAIF,C,6BAzG2BhB,S,EA4G9B,cAAeC,CAAAA,UAAU,CAACG,eAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from 'react-router-dom';\nimport PreloaderSpinner from \"../atoms/PreloaderSpinner\";\nimport CollapsibleProducs from \"../molecules/CollapsibleProducs\";\n\n\nclass ShowMyPurchases extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n     products:null\n    };\n  }\n\n  componentDidMount() {\n    // const productsOwned = this.props.products.filter(product =>{\n    //   return  product.buyer?  product.buyer == this.props.user._id \n    //   : false\n    // });\n    // this.setState({\n    //   ...this.state,\n    //   products: productsOwned\n    // })\n  }\n  getmyproducts=()=>{\n    const productsOwned = this.props.products.filter(product =>{\n      return  product.buyer?  product.buyer == this.props.user._id \n      : false\n    }\n   \n    );\n    this.setState({\n      ...this.state,\n      products: productsOwned\n    })\n  }\n\n  goBack =()=> {\n    this.props.history.push(\"/\")\n  }\n\n\n  // componentDidUpdate(prevProps, prevState) {\n  //   if (\n  //     this.state.products !==\n  //     prevState.someStatefulValue\n  //   ) {\n  //     this.props.onChange(this.state.someStatefulValue);\n  //   }\n  // }\n  // componentDidUpdate(prevProps, prevState) {\n  //   if (prevState.products !== this.state.products) {\n  //     let firebaseRef=firebase.database().ref(this.state.products);\n  //     this.setState({firebaseRef});\n     \n  //   }\n  // }\n\n  // static getDerivedStateFromProps(nextProps, prevState){\n  //   if(nextProps.products!==prevState.products){\n  //     let firebaseRef=prevState.firebaseRef;\n  //     return {products : nextProps.products};\n  //   }\n  //   else return null;\n  // }\n\n  render() {\n    if(this.props.products && this.props.user) { \n       \n      if(this.props.products.length>0){\n        return (\n          <div className=\"purchases-container\">\n      \n\n          \n          <div className=\"my-purchases\">\n            <div className=\"top-box-purchases\">\n\n            </div>\n             <a className=\"back-btn\"><i class=\"medium material-icons\" onClick={this.goBack}>arrow_back</i></a>\n            <h2>Tus cajas compradas</h2>\n            <CollapsibleProducs \n            products={this.props.products} user={this.props.user} \n            // deleteFromShow={(id)=>this.deleteProduct(id)}\n            ></CollapsibleProducs>\n          </div>\n          </div>\n        );\n      }\n      else {\n        return(\n          <div className=\"purchases-container\">\n          <div className=\"purchased-none\">\n        <a className=\"back-btn\"><i class=\"medium material-icons\" onClick={this.goBack}>arrow_back</i></a>\n          <h2>Todav√≠a no has comprado nada</h2>\n          </div>\n          </div>\n  \n        )\n      }\n    \n    }\n    else {\n      return (\n        <PreloaderSpinner></PreloaderSpinner>\n       \n      )\n    } \n\n    \n    \n  }\n}\n\nexport default withRouter(ShowMyPurchases)"]},"metadata":{},"sourceType":"module"}