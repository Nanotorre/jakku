{"ast":null,"code":"import _defineProperty from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{Component}from\"react\";import RoutesService from\"../../RoutesService\";import AllProductsAndSearch from\"../organisms/AllProductsAndSearch\";import PreloaderSpinner from\"../atoms/PreloaderSpinner\";import{withRouter}from\"react-router-dom\";import moment from\"moment\";import\"moment/locale/es\";import AllProductsAndSearchOfBid from\"../organisms/AllProductsAndSearchOfBid\";import Bidmapcontainer from\"../molecules/Bidmapcontainer\";moment.locale(\"es\");var ShowBid=/*#__PURE__*/function(_Component){_inherits(ShowBid,_Component);function ShowBid(props){var _this;_classCallCheck(this,ShowBid);_this=_possibleConstructorReturn(this,_getPrototypeOf(ShowBid).call(this,props));_this.goBack=function(){_this.props.history.goBack();};_this.transformDate=function(){moment.lang(\"es\");var dateTransformed=moment(_this.state.bid.deadLine).format(\"LL\");return React.createElement(\"p\",null,dateTransformed);};_this.state={bid:null};_this.router=new RoutesService();return _this;}_createClass(ShowBid,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.router.getBid(this.props.id).then(function(bid){var centerBid={lat:bid.location.coordinates[1],lng:bid.location.coordinates[0]};_this2.setState(_objectSpread({},_this2.state,{bid:bid,centerBid:centerBid,centerMap:_this2.props.centerMap}));});}},{key:\"render\",value:function render(){if(this.state.bid&&this.state.centerMap){return React.createElement(\"div\",{className:\"render-bid-container\"},React.createElement(\"h2\",null,\"Ficha de mudanza\"),React.createElement(\"div\",{className:\"upper-section\"},React.createElement(\"a\",{className:\"back-btn\"},React.createElement(\"i\",{class:\"medium material-icons\",onClick:this.goBack},\"arrow_back\")),React.createElement(\"div\",{className:\"bid-info-container\"},React.createElement(Bidmapcontainer,{zoomMap:17,title:\"Localización de la subasta\",bids:[this.state.bid],centerMap:this.state.centerMap,centerBid:this.state.centerBid,mapSize:[50,358]}),React.createElement(\"div\",{className:\"bid-text-container\"},React.createElement(\"div\",{className:\"deadline\"},React.createElement(\"p\",null,\"Se acaba el d\\xEDa \",React.createElement(\"span\",null,this.transformDate()),\" entre las\",React.createElement(\"span\",null,this.state.bid.from),\" y las \",React.createElement(\"span\",null,this.state.bid.to))),React.createElement(\"div\",{className:\"profile-owner-container\"},React.createElement(\"div\",{className:\"profile-image-container\"},React.createElement(\"img\",{className:\"profile-image\",src:this.state.bid.owner.imgPath})),React.createElement(\"p\",null,this.state.bid.owner.username))))),React.createElement(AllProductsAndSearchOfBid,{title:\"Localización de la subasta\",products:this.state.bid.productsList}));}else{return React.createElement(PreloaderSpinner,null);}}}]);return ShowBid;}(Component);export default withRouter(ShowBid);","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/pages/ShowBid.jsx"],"names":["React","Component","RoutesService","AllProductsAndSearch","PreloaderSpinner","withRouter","moment","AllProductsAndSearchOfBid","Bidmapcontainer","locale","ShowBid","props","goBack","history","transformDate","lang","dateTransformed","state","bid","deadLine","format","router","getBid","id","then","centerBid","lat","location","coordinates","lng","setState","centerMap","from","to","owner","imgPath","username","productsList"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport RoutesService from \"../../RoutesService\";\nimport AllProductsAndSearch from \"../organisms/AllProductsAndSearch\";\nimport PreloaderSpinner from \"../atoms/PreloaderSpinner\";\nimport { withRouter } from \"react-router-dom\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport AllProductsAndSearchOfBid from \"../organisms/AllProductsAndSearchOfBid\";\nimport Bidmapcontainer from \"../molecules/Bidmapcontainer\";\nmoment.locale(\"es\");\n\nclass ShowBid extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bid: null\n    };\n    this.router = new RoutesService();\n  }\n\n  componentDidMount() {\n    this.router.getBid(this.props.id).then(bid => {\n      const centerBid = {\n        lat: bid.location.coordinates[1],\n        lng: bid.location.coordinates[0]\n      };\n      this.setState({\n        ...this.state,\n        bid,\n        centerBid,\n        centerMap: this.props.centerMap\n      });\n    });\n  }\n  goBack = () => {\n    this.props.history.goBack();\n  };\n  transformDate = () => {\n    moment.lang(\"es\");\n    const dateTransformed = moment(this.state.bid.deadLine).format(\"LL\");\n    return <p>{dateTransformed}</p>;\n  };\n\n  render() {\n    if (this.state.bid && this.state.centerMap) {\n      return (\n        <div className=\"render-bid-container\">\n          <h2>Ficha de mudanza</h2>\n          <div className=\"upper-section\">\n          <a className=\"back-btn\">\n                <i class=\"medium material-icons\" onClick={this.goBack}>\n                  arrow_back\n                </i>\n              </a>\n          <div className=\"bid-info-container\">\n          <Bidmapcontainer\n              zoomMap={17}\n              title={\"Localización de la subasta\"}\n              bids={[this.state.bid]}\n              centerMap={this.state.centerMap}\n              centerBid={this.state.centerBid}\n              mapSize={[50, 358]}\n            ></Bidmapcontainer>\n            <div className=\"bid-text-container\">\n\n              <div className=\"deadline\">\n              <p>\n                Se acaba el día <span>{this.transformDate()}</span> entre las\n                <span>{this.state.bid.from}</span> y las <span>{this.state.bid.to}</span>\n              </p>\n              </div>\n              <div className=\"profile-owner-container\">\n              <div className=\"profile-image-container\">\n              <img className=\"profile-image\" src={this.state.bid.owner.imgPath}></img>\n              </div>\n              <p>{this.state.bid.owner.username}</p>\n\n              </div>\n            </div>\n            \n         \n          </div>\n          </div>\n\n          <AllProductsAndSearchOfBid\n            title={\"Localización de la subasta\"}\n            products={this.state.bid.productsList}\n          ></AllProductsAndSearchOfBid>\n          {/* <AllProductsAndSearch\n        title={\"Localización de la subasta\"}\n        bids={[this.state.bid]}\n        centerMap={this.state.centerMap}\n        centerBid={this.state.centerBid}\n        products={this.state.bid.productsList}\n        zoomMap={16}\n        ></AllProductsAndSearch> */}\n        </div>\n      );\n    } else {\n      return <PreloaderSpinner></PreloaderSpinner>;\n    }\n  }\n}\nexport default withRouter(ShowBid);\n"]},"metadata":{},"sourceType":"module"}