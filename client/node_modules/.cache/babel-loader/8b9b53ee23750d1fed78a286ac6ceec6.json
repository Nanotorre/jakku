{"ast":null,"code":"import _defineProperty from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{Component}from'react';import{Redirect}from'react-router-dom';import{NavLink}from\"react-router-dom\";import'date-fns';import DateFnsUtils from'@date-io/date-fns';import TextField from'@material-ui/core/TextField';import{MuiPickersUtilsProvider,KeyboardTimePicker,KeyboardDatePicker}from'@material-ui/pickers';import RoutesService from\"../../RoutesService\";import LocationSearchInput from\"../atoms/LocationSearchInput\";import moment from'moment';import{withRouter}from'react-router-dom';import ButtonAdd from'../atoms/ButtonAdd';var CreateBid=/*#__PURE__*/function(_Component){_inherits(CreateBid,_Component);function CreateBid(props){var _this;_classCallCheck(this,CreateBid);_this=_possibleConstructorReturn(this,_getPrototypeOf(CreateBid).call(this));_this.transformDate=function(){moment.lang('es');var dateTransformed=moment(_this.state.deadLine).format('LLLL');console.log(dateTransformed);return React.createElement(\"p\",null,dateTransformed);};_this.componentDidMount=function(){if(_this.props.user.bid){_this.setState(_objectSpread({},_this.state,{isBid:true}));}};_this.state={sent:false,isBid:false};_this.routes=new RoutesService();return _this;}_createClass(CreateBid,[{key:\"updateFormData\",value:function updateFormData(e,field){var newState=_objectSpread({},this.state);newState[field]=e.target.value;this.setState(newState);}},{key:\"sendState\",value:function sendState(e){var _this2=this;e.preventDefault();this.setState(_objectSpread({},this.state,{sent:true}));this.routes.createBid(this.state).then(function(){_this2.props.fromApp(_this2.state);// this.props.history.push('/show-bid')\n}).catch(function(e){return console.log(e);});}},{key:\"changeState\",value:function changeState(newValue){this.setState(_objectSpread({},this.state,{location:{lat:newValue.lat,lng:newValue.lng,address:newValue.address}}));}},{key:\"render\",value:function render(){var _this3=this;if(this.state.isBid){return React.createElement(\"div\",{className:\"create-bid-active\"},React.createElement(\"h1\",null,\"Ya tienes una subasta activa\"),React.createElement(ButtonAdd,null));}else{if(!this.state.sent){return React.createElement(\"div\",{className:\"create-bid-container\"},React.createElement(\"h1\",null,\"CREA TU MUDANZA\"),React.createElement(\"form\",null,React.createElement(\"label\",{htmlFor:\"input-day\"},\"D\\xEDa de finalizaci\\xF3n\"),React.createElement(\"input\",{type:\"date\",class:\"datepicker\",placeholder:\"Cuando quieres que se lo lleven\",name:\"dia\",id:\"input-day\",onChange:function onChange(e){return _this3.updateFormData(e,\"deadLine\");}}),React.createElement(\"label\",{htmlFor:\"hora\"},\"Hora de recogida\"),React.createElement(\"input\",{type:\"time\",placeholder:\"Hora de comienzo de recogida\",name:\"hora\",onChange:function onChange(e){return _this3.updateFormData(e,\"from\");}}),React.createElement(\"label\",{htmlFor:\"fin\"},\"Finalizaci\\xF3n de recogida\"),React.createElement(\"input\",{type:\"time\",placeholder:\"Hora de finalizaci\\xF3n de recogida\",name:\"fin\",onChange:function onChange(e){return _this3.updateFormData(e,\"to\");}}),React.createElement(\"label\",{htmlFor:\"location\"},\"Lugar de recogida\"),React.createElement(LocationSearchInput,{changeState:function changeState(newValue){return _this3.changeState(newValue);},value:this.state.value,name:\"location\",placeholder:\"Calle o barrio\",onChange:function onChange(e){return _this3.updateFormData(e,\"location\");}}),React.createElement(\"button\",{onClick:function onClick(e){return _this3.sendState(e);}},\"Listo para a\\xF1adir cajas\")));}else{return React.createElement(\"div\",{className:\"created-bid-container\"},React.createElement(\"h1\",null,\"Tu mudanza\"),React.createElement(\"p\",null,\"Finaliza el d\\xEDa \",this.transformDate()),React.createElement(\"p\",null,\"Los compradores ir\\xE1n a recogerlo de \",React.createElement(\"span\",null,this.state.from),\" a \",React.createElement(\"span\",null,this.state.to)),React.createElement(\"p\",null,\"en \",React.createElement(\"span\",null,this.state.location.address)),React.createElement(\"p\",null,\"Ya puedes a\\xF1adir cajas a tu mudanza\"),React.createElement(NavLink,{to:\"/create-product\"},\"A\\xF1adir caja\"));}}}}]);return CreateBid;}(Component);export default withRouter(CreateBid);","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/organisms/CreateBid.jsx"],"names":["React","Component","Redirect","NavLink","DateFnsUtils","TextField","MuiPickersUtilsProvider","KeyboardTimePicker","KeyboardDatePicker","RoutesService","LocationSearchInput","moment","withRouter","ButtonAdd","CreateBid","props","transformDate","lang","dateTransformed","state","deadLine","format","console","log","componentDidMount","user","bid","setState","isBid","sent","routes","e","field","newState","target","value","preventDefault","createBid","then","fromApp","catch","newValue","location","lat","lng","address","updateFormData","changeState","sendState","from","to"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { NavLink } from \"react-router-dom\";\n\nimport 'date-fns';\nimport DateFnsUtils from '@date-io/date-fns';\nimport TextField from '@material-ui/core/TextField';\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport RoutesService from \"../../RoutesService\";\nimport LocationSearchInput from \"../atoms/LocationSearchInput\";\nimport moment from 'moment';\nimport { withRouter } from 'react-router-dom'\nimport ButtonAdd from '../atoms/ButtonAdd';\n\n\n\n\n\nclass CreateBid extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      sent: false,\n      isBid: false\n    }\n    this.routes = new RoutesService()\n  }\n  updateFormData(e,field){\n    let newState = {\n      ...this.state\n    };\n    newState[field] = e.target.value;\n\n    this.setState(newState);\n  }\n\n  sendState(e) {\n    e.preventDefault();\n    this.setState({\n      ...this.state,\n      sent: true\n    });\n    this.routes.createBid(this.state)\n    .then(() => {\n      \n      this.props.fromApp(this.state);\n      // this.props.history.push('/show-bid')\n    })\n    .catch(e => console.log(e))\n    \n  }\n  changeState(newValue) {\n    this.setState({\n      ...this.state,\n      location: {\n        lat: newValue.lat,\n        lng: newValue.lng,\n        address: newValue.address\n      }\n    });\n  }\n \n  transformDate = () => {\n    moment.lang('es');\n    const dateTransformed= moment(this.state.deadLine).format('LLLL')\n    console.log(dateTransformed)\n    return <p>{dateTransformed}</p>\n  }\n  componentDidMount=()=>{\n    if(this.props.user.bid) {\n      this.setState({\n        ...this.state,\n        isBid: true\n      })\n    }\n  }\n\n\n  render() {\n    if(this.state.isBid){\n      return(\n        <div className=\"create-bid-active\">\n        <h1>Ya tienes una subasta activa</h1>\n        <ButtonAdd></ButtonAdd>\n     \n      </div>\n      )\n    }\n    else \n    {\n\n      if(!this.state.sent) {\n        return (\n          <div className=\"create-bid-container\">\n            <h1>CREA TU MUDANZA</h1>\n          <form>\n            <label  htmlFor=\"input-day\">Día de finalización</label>\n            <input type=\"date\" class=\"datepicker\" placeholder=\"Cuando quieres que se lo lleven\" name=\"dia\" id=\"input-day\" onChange={e => this.updateFormData(e, \"deadLine\")} ></input>\n            <label htmlFor=\"hora\">Hora de recogida</label>\n            <input type=\"time\" placeholder=\"Hora de comienzo de recogida\" name=\"hora\"  onChange={e => this.updateFormData(e, \"from\")} ></input>\n            <label htmlFor=\"fin\">Finalización de recogida</label>\n            <input type=\"time\" placeholder=\"Hora de finalización de recogida\" name=\"fin\"  onChange={e => this.updateFormData(e, \"to\")}></input>\n            <label htmlFor=\"location\">Lugar de recogida</label>\n            <LocationSearchInput changeState={newValue => this.changeState(newValue)}\n            value={this.state.value} name=\"location\" placeholder=\"Calle o barrio\" onChange={e => this.updateFormData(e, \"location\")}></LocationSearchInput>\n            <button  onClick={e => this.sendState(e)}>Listo para añadir cajas</button>\n          </form>\n          </div>\n        )\n      }\n      else {\n        return (\n          <div className=\"created-bid-container\">\n            <h1>Tu mudanza</h1>\n             <p>Finaliza el día {this.transformDate()}</p>\n          <p>Los compradores irán a recogerlo de <span>{this.state.from}</span> a <span>{this.state.to}</span></p>\n          <p>en <span>{this.state.location.address}</span></p>\n          <p>Ya puedes añadir cajas a tu mudanza</p>\n          <NavLink to={`/create-product`}>Añadir caja</NavLink>\n          </div>  \n        )\n      }\n    }\n    \n  }\n}\n\nexport default withRouter(CreateBid)"]},"metadata":{},"sourceType":"module"}