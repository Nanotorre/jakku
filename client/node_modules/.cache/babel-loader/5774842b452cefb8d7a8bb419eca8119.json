{"ast":null,"code":"import _defineProperty from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{Component}from\"react\";import{Redirect}from\"react-router-dom\";import{NavLink}from\"react-router-dom\";import{withRouter}from'react-router-dom';import RoutesService from\"../../RoutesService\";var CreateProduct=/*#__PURE__*/function(_Component){_inherits(CreateProduct,_Component);function CreateProduct(props){var _this;_classCallCheck(this,CreateProduct);_this=_possibleConstructorReturn(this,_getPrototypeOf(CreateProduct).call(this,props));_this.state={file:null,imgPath1:\"https://screenshotlayer.com/images/assets/placeholder.png\",// imgPath2: \"https://screenshotlayer.com/images/assets/placeholder.png\",\n// imgPath3: \"https://screenshotlayer.com/images/assets/placeholder.png\",\nbid:null};_this.routes=new RoutesService();return _this;}_createClass(CreateProduct,[{key:\"updateFormData\",value:function updateFormData(e,field){var newState=_objectSpread({},this.state);newState[field]=e.target.value;this.setState(newState);}},{key:\"sendState\",value:function sendState(e){var _this2=this;e.preventDefault();console.log(\"envio product&&&&&\",this.state,\"bid&&&&&&&\",this.props.bid);this.routes.createProduct(this.state).then(function(){_this2.props.fromApp();_this2.props.fromAppRefreshProducts();_this2.props.history.push('/your-bid');//  return <Redirect to='/your-bid' />\n});}},{key:\"handleChange\",value:function handleChange(e){console.log(\"archivos seleccionado\");console.log(e.target.files[0]);this.setState(_objectSpread({},this.state,{file:e.target.files[0]}));}},{key:\"handleSubmit\",value:function handleSubmit(e,photo){var _this3=this;e.preventDefault();this.routes.addPicture(this.state.file).then(function(photoData){_this3.setState(_objectSpread({},_this3.state,_defineProperty({},photo,photoData)));});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;this.routes.getMyBids().then(function(response){console.log(\"componenmount\",response);_this4.setState(_objectSpread({},_this4.state,{bid:response[0]._id}));});}},{key:\"render\",value:function render(){var _this5=this;if(this.state.bid){return React.createElement(React.Fragment,null,React.createElement(\"h1\",null,\"Contenido de la caja\"),React.createElement(\"div\",{className:\"container-photo-input\"},React.createElement(\"h2\",null,\"Foto 1\"),React.createElement(\"form\",{onSubmit:function onSubmit(e){return _this5.handleSubmit(e,\"imgPath1\");}},React.createElement(\"input\",{type:\"file\",onChange:function onChange(e){return _this5.handleChange(e);}}),\" \",React.createElement(\"br\",null),React.createElement(\"button\",{type:\"submit\"},\"Guardar foto\")),React.createElement(\"img\",{src:this.state.imgPath1,alt:\"product picture\"})),React.createElement(\"form\",null,React.createElement(\"label\",{htmlFor:\"name\"},\"Nombre\"),React.createElement(\"input\",{type:\"text\",placeholder:\"Contenido de la caja a la venta\",name:\"name\",id:\"input-name\",onChange:function onChange(e){return _this5.updateFormData(e,\"name\");}}),React.createElement(\"label\",{htmlFor:\"description\"},\"Descripci\\xF3n\"),React.createElement(\"input\",{type:\"text\",placeholder:\"Breve descripci\\xF3n\",name:\"description\",onChange:function onChange(e){return _this5.updateFormData(e,\"description\");}}),React.createElement(\"label\",{htmlFor:\"price\"},\"Precio\"),React.createElement(\"input\",{type:\"number\",placeholder:\"Precio\",name:\"price\",onChange:function onChange(e){return _this5.updateFormData(e,\"price\");}}),React.createElement(\"a\",{onClick:function onClick(e){return _this5.sendState(e);}},\"Submit\")));}else{return React.createElement(React.Fragment,null,React.createElement(\"h1\",null,\"Tienes que crear una mudanza para poder tener cajas con productos\"),React.createElement(NavLink,{to:\"/create-bid\"},\"Crear mudanza\"));}}}]);return CreateProduct;}(Component);export default withRouter(CreateProduct);","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/organisms/CreateProduct.jsx"],"names":["React","Component","Redirect","NavLink","withRouter","RoutesService","CreateProduct","props","state","file","imgPath1","bid","routes","e","field","newState","target","value","setState","preventDefault","console","log","createProduct","then","fromApp","fromAppRefreshProducts","history","push","files","photo","addPicture","photoData","getMyBids","response","_id","handleSubmit","handleChange","updateFormData","sendState"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { NavLink } from \"react-router-dom\";\nimport { withRouter } from 'react-router-dom'\n\nimport RoutesService from \"../../RoutesService\";\n\nclass CreateProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: null,\n      imgPath1: \"https://screenshotlayer.com/images/assets/placeholder.png\",\n      // imgPath2: \"https://screenshotlayer.com/images/assets/placeholder.png\",\n      // imgPath3: \"https://screenshotlayer.com/images/assets/placeholder.png\",\n      bid: null,\n    };\n    this.routes = new RoutesService();\n  }\n  updateFormData(e, field) {\n    let newState = {\n      ...this.state\n    };\n    newState[field] = e.target.value;\n\n    this.setState(newState);\n  }\n\n  sendState(e) {\n    e.preventDefault();\n    console.log(\"envio product&&&&&\", this.state, \"bid&&&&&&&\", this.props.bid);\n    this.routes.createProduct(this.state)\n    .then(() =>{\n      this.props.fromApp();\n      this.props.fromAppRefreshProducts();\n      this.props.history.push('/your-bid')\n      //  return <Redirect to='/your-bid' />\n    \n    }) \n  }\n  handleChange(e) {\n    console.log(\"archivos seleccionado\");\n    console.log(e.target.files[0]);\n\n    this.setState({\n      ...this.state,\n      file: e.target.files[0]\n    });\n  }\n\n  handleSubmit(e, photo) {\n    e.preventDefault();\n    this.routes.addPicture(this.state.file).then(photoData => {\n      this.setState({\n        ...this.state,\n        [photo]: photoData\n      });\n\n    });\n  }\n\n  componentDidMount () {\n    this.routes.getMyBids()\n    .then(response => {\n      console.log(\"componenmount\",response)\n\n      this.setState({\n        ...this.state,\n        bid: response[0]._id,\n\n\n      })\n    })\n  }\n\n  render() {\n    if(this.state.bid) {\n      return (\n        <React.Fragment>\n          <h1>Contenido de la caja</h1>\n          <div className=\"container-photo-input\">\n            <h2>Foto 1</h2>\n  \n            <form onSubmit={e => this.handleSubmit(e, \"imgPath1\")}>\n              <input type=\"file\" onChange={e => this.handleChange(e)} /> <br />\n              <button type=\"submit\">Guardar foto</button>\n            </form>\n  \n            <img src={this.state.imgPath1} alt=\"product picture\" />\n            {/* <h2>Foto 2</h2>\n   */}\n            {/* <form onSubmit={e => this.handleSubmit(e, \"imgPath2\")}>\n              <input type=\"file\" onChange={e => this.handleChange(e)} /> <br />\n              <button type=\"submit\">Guardar foto</button>\n            </form>\n  \n            <img src={this.state.imgPath2} alt=\"product picture\" />\n            <h2>Foto 3</h2>\n  \n            <form onSubmit={e => this.handleSubmit(e, \"imgPath3\")}>\n              <input type=\"file\" onChange={e => this.handleChange(e)} /> <br />\n              <button type=\"submit\">Guardar foto</button>\n            </form> */}\n{/*   \n            <img src={this.state.imgPath3} alt=\"product picture\" /> */}\n          </div>\n          <form>\n            <label htmlFor=\"name\">Nombre</label>\n            <input\n              type=\"text\"\n              placeholder=\"Contenido de la caja a la venta\"\n              name=\"name\"\n              id=\"input-name\"\n              onChange={e => this.updateFormData(e, \"name\")}\n            ></input>\n            <label htmlFor=\"description\">Descripción</label>\n            <input\n              type=\"text\"\n              placeholder=\"Breve descripción\"\n              name=\"description\"\n              onChange={e => this.updateFormData(e, \"description\")}\n            ></input>\n            <label htmlFor=\"price\">Precio</label>\n            <input\n              type=\"number\"\n              placeholder=\"Precio\"\n              name=\"price\"\n              onChange={e => this.updateFormData(e, \"price\")}\n            ></input>\n  \n            <a onClick={e => this.sendState(e)}>Submit</a>\n          </form>\n          \n        </React.Fragment>\n      );\n    }\n    else \n    {\n      return (\n      <React.Fragment>\n        <h1>Tienes que crear una mudanza para poder tener cajas con productos</h1>\n        <NavLink to={\"/create-bid\"}>Crear mudanza</NavLink>\n      </React.Fragment>\n      )\n    }\n\n  }\n}\n\n\nexport default withRouter(CreateProduct)\n"]},"metadata":{},"sourceType":"module"}