{"ast":null,"code":"import _defineProperty from \"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/fer/ironhack/week_8/jakku/client/src/components/pages/Home.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport { Tabs, Tab, Col, Row, Preloader } from \"react-materialize\";\nimport AllProducts from \"../organisms/AllProducts\";\nimport SearchBar from \"../atoms/SearchBar\";\nimport Bidmapcontainer from \"../molecules/Bidmapcontainer\";\nimport RoutesService from \"../../RoutesService\";\nimport ModalLogin from \"../auth/ModalLogin\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bids: null,\n      products: null\n    };\n    this.router = new RoutesService();\n  }\n\n  componentDidMount() {\n    this.router.getProducts().then(response => {\n      let bids = response.map(product => product.bid);\n      bids.forEach(bid => bid.productsList.map(id => response.filter(product => product._id === id)));\n      let bidsId = [];\n      bids = bids.filter(bid => {\n        if (bidsId.includes(bid._id)) {\n          return false;\n        } else {\n          bidsId.push(bid._id);\n          return true;\n        }\n      });\n      this.setState(_objectSpread({}, this.state, {\n        products: response,\n        bids: bids\n      }));\n      console.log(this.state);\n    });\n  }\n\n  render() {\n    if (this.state.products && this.state.bids) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Si te acabas de mudar o est\\xE1s a punto de mudarte, podemos ayudarte\"), React.createElement(Tabs, {\n        className: \"tab-demo z-depth-1 tabs-fixed-width\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Tab, {\n        title: \"Me voy a mudar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(Tab, {\n        title: \"Me acabo de mudar\",\n        active: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, this.state.products && this.state.bids ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        updateSearch: searchText => this.makeSearch(searchText) // updateInStock={stockCheckbox => this.changeStock(stockCheckbox)}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(Bidmapcontainer, {\n        bids: this.state.bids,\n        centerMap: this.props.centerMap,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(AllProducts, {\n        products: this.props.products,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Preloader, {\n        flashing: true,\n        size: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(ModalLogin, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })))));\n    } else {}\n  }\n\n}\n\nexport default withRouter(Home);","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/pages/Home.jsx"],"names":["React","Component","NavLink","withRouter","Tabs","Tab","Col","Row","Preloader","AllProducts","SearchBar","Bidmapcontainer","RoutesService","ModalLogin","Home","constructor","props","state","bids","products","router","componentDidMount","getProducts","then","response","map","product","bid","forEach","productsList","id","filter","_id","bidsId","includes","push","setState","console","log","render","searchText","makeSearch","centerMap"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport { Tabs, Tab, Col, Row, Preloader } from \"react-materialize\";\nimport AllProducts from \"../organisms/AllProducts\";\nimport SearchBar from \"../atoms/SearchBar\";\nimport Bidmapcontainer from \"../molecules/Bidmapcontainer\";\nimport RoutesService from \"../../RoutesService\";\nimport ModalLogin from \"../auth/ModalLogin\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bids: null,\n      products: null\n    };\n    this.router= new RoutesService;\n  }\n\n  componentDidMount() {\n    this.router.getProducts()\n    .then(response=> {\n      let bids= response.map(product=> product.bid);\n      bids.forEach(bid=> bid.productsList.map(id=> response.filter(product=> product._id===id)))\n      let bidsId= []\n      bids= bids.filter(bid=> {\n        if(bidsId.includes(bid._id)) {\n          return false\n        }\n        else {\n          bidsId.push(bid._id);\n          return true\n        }\n      })\n      this.setState({\n        ...this.state,\n        products: response,\n        bids: bids\n      })\n      console.log(this.state)\n    })\n  }\n\n\n  render() {\n    if (this.state.products && this.state.bids) {\n      return (\n        <div>\n          <h1>\n            Si te acabas de mudar o est√°s a punto de mudarte, podemos ayudarte\n          </h1>\n          {/* <NavLink to={\"/create-bid\"}>Me voy a mudar</NavLink>\n          <NavLink to={\"/create-bid\"}>Me acabo de mudar</NavLink> */}\n          <Tabs className=\"tab-demo z-depth-1 tabs-fixed-width\">\n            <Tab title=\"Me voy a mudar\"></Tab>\n            <Tab title=\"Me acabo de mudar\" active>\n              {this.state.products && this.state.bids ? (\n                <div>\n                 \n                  <SearchBar\n                    updateSearch={searchText => this.makeSearch(searchText)}\n                    // updateInStock={stockCheckbox => this.changeStock(stockCheckbox)}\n                  />\n                  <Bidmapcontainer\n                    bids={this.state.bids}\n                    centerMap={this.props.centerMap}\n                  ></Bidmapcontainer>\n  \n                  <AllProducts products={this.props.products}></AllProducts>\n                </div>\n              ) : (\n                <div>\n                      <Preloader flashing size=\"small\" />\n                <ModalLogin></ModalLogin>\n  \n                </div>\n            \n               \n              )}\n            </Tab>\n          </Tabs>\n        </div>\n      );\n    }\n    else {\n      \n    }\n  \n    \n  }\n}\n\nexport default withRouter(Home);\n"]},"metadata":{},"sourceType":"module"}