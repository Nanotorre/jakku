{"ast":null,"code":"import _defineProperty from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import AuthService from\"./Authservice\";import{Button,TextInput}from\"react-materialize\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.sendLogin=function(event){event.preventDefault();var _this$state=_this.state,username=_this$state.username,password=_this$state.password;_this.service.login(username,password).then(function(response){_this.setState({username:username,password:password,error:false});_this.props.userVerified(response);}).catch(function(error){_this.setState({username:username,password:password,error:true});});};_this.state={username:\"\",password:\"\"};_this.service=new AuthService();return _this;}_createClass(Login,[{key:\"changeState\",value:function changeState(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;this.setState(_defineProperty({},name,value));}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"login-container\"},React.createElement(\"p\",null,\"Login\"),React.createElement(\"form\",{onSubmit:this.sendLogin},React.createElement(TextInput,{label:\"Nombre\",value:this.state.username,name:\"username\",onChange:function onChange(e){return _this2.changeState(e);},type:\"text\"}),React.createElement(TextInput,{label:\"Contrase\\xF1a\",value:this.state.password,name:\"password\",onChange:function onChange(e){return _this2.changeState(e);},type:\"password\"}),React.createElement(Button,{type:\"submit\",value:\"Log in\"},\"Login\")),React.createElement(\"p\",null,this.state.error?\"Login failed. Please, try again o signup.\":\"\"));}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/auth/Login.jsx"],"names":["React","Component","AuthService","Button","TextInput","Login","props","sendLogin","event","preventDefault","state","username","password","service","login","then","response","setState","error","userVerified","catch","e","target","name","value","changeState"],"mappings":"4uBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,OAASC,MAAT,CAAiBC,SAAjB,KAAkC,mBAAlC,C,GAEqBC,CAAAA,K,+DACnB,eAAYC,KAAZ,CAAmB,uCACjB,uEAAMA,KAAN,GADiB,MAenBC,SAfmB,CAeP,SAACC,KAAD,CAAW,CACrBA,KAAK,CAACC,cAAN,GADqB,gBAEQ,MAAKC,KAFb,CAEdC,QAFc,aAEdA,QAFc,CAEJC,QAFI,aAEJA,QAFI,CAIrB,MAAKC,OAAL,CAAaC,KAAb,CAAmBH,QAAnB,CAA6BC,QAA7B,EACCG,IADD,CACM,SAAAC,QAAQ,CAAI,CAChB,MAAKC,QAAL,CAAc,CACZN,QAAQ,CAAGA,QADC,CAEZC,QAAQ,CAAGA,QAFC,CAGZM,KAAK,CAAG,KAHI,CAAd,EAKA,MAAKZ,KAAL,CAAWa,YAAX,CAAwBH,QAAxB,EACD,CARD,EASCI,KATD,CASO,SAAAF,KAAK,CAAI,CACd,MAAKD,QAAL,CAAc,CACZN,QAAQ,CAAEA,QADE,CAEZC,QAAQ,CAAEA,QAFE,CAGZM,KAAK,CAAE,IAHK,CAAd,EAKD,CAfD,EAgBD,CAnCkB,CAEjB,MAAKR,KAAL,CAAa,CACXC,QAAQ,CAAG,EADA,CAEXC,QAAQ,CAAG,EAFA,CAAb,CAIA,MAAKC,OAAL,CAAe,GAAIX,CAAAA,WAAJ,EAAf,CANiB,aAOlB,C,kEACWmB,C,CAAG,eACSA,CAAC,CAACC,MADX,CACNC,IADM,WACNA,IADM,CACAC,KADA,WACAA,KADA,CAEb,KAAKP,QAAL,oBACGM,IADH,CACWC,KADX,GAGD,C,uCAuBQ,iBACP,MACE,4BAAK,SAAS,CAAC,iBAAf,EACE,qCADF,CAEE,4BAAM,QAAQ,CAAE,KAAKjB,SAArB,EACA,oBAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,CAA0B,KAAK,CAAE,KAAKG,KAAL,CAAWC,QAA5C,CAAwD,IAAI,CAAC,UAA7D,CAAwE,QAAQ,CAAE,kBAAAU,CAAC,QAAE,CAAA,MAAI,CAACI,WAAL,CAAiBJ,CAAjB,CAAF,EAAnF,CAA0G,IAAI,CAAC,MAA/G,EADA,CAEA,oBAAC,SAAD,EAAW,KAAK,CAAC,eAAjB,CAA8B,KAAK,CAAE,KAAKX,KAAL,CAAWE,QAAhD,CAA0D,IAAI,CAAC,UAA/D,CAA0E,QAAQ,CAAE,kBAAAS,CAAC,QAAE,CAAA,MAAI,CAACI,WAAL,CAAiBJ,CAAjB,CAAF,EAArF,CAA4G,IAAI,CAAC,UAAjH,EAFA,CAGA,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,QAA5B,UAHA,CAFF,CAOE,6BAAI,KAAKX,KAAL,CAAWQ,KAAX,CAAkB,2CAAlB,CAAgE,EAApE,CAPF,CADF,CAWD,C,mBAjDgCjB,S,SAAdI,K","sourcesContent":["import React, { Component } from 'react';\nimport AuthService from \"./Authservice\";\nimport { Button, TextInput } from \"react-materialize\";\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username : \"\",\n      password : \"\"\n    }\n    this.service = new AuthService();\n  }\n  changeState(e) {\n    const {name, value} = e.target;\n    this.setState({\n      [name] : value\n    });\n  }\n\n  sendLogin = (event) => {\n    event.preventDefault();\n    const {username, password} = this.state;\n\n    this.service.login(username, password)\n    .then(response => {\n      this.setState({\n        username : username,\n        password : password,\n        error : false\n      });\n      this.props.userVerified(response)\n    })\n    .catch(error => {\n      this.setState({\n        username: username,\n        password: password,\n        error: true\n      });\n    })\n  }\n  render() {\n    return (\n      <div className=\"login-container\">\n        <p>Login</p>\n        <form onSubmit={this.sendLogin}>\n        <TextInput label=\"Nombre\" value={this.state.username}   name=\"username\" onChange={e=>this.changeState(e)} type=\"text\"></TextInput>\n        <TextInput label=\"ContraseÃ±a\" value={this.state.password} name=\"password\" onChange={e=>this.changeState(e)} type=\"password\"></TextInput>\n        <Button type=\"submit\" value=\"Log in\">Login</Button>\n        </form>\n        <p>{this.state.error? \"Login failed. Please, try again o signup.\" : \"\"}</p>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}