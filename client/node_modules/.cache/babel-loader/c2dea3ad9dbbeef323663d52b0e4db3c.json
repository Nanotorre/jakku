{"ast":null,"code":"import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Collapsible,CollapsibleItem,Icon,Switch}from\"react-materialize\";import PreloaderSpinner from\"../atoms/PreloaderSpinner\";import DelModalWarning from\"./DelModalWarning\";import Productmapcontainer from\"../molecules/Productmapcontainer\";import moment from\"moment\";import\"moment/locale/es\";moment.locale(\"es\");var CollapsibleProducs=/*#__PURE__*/function(_Component){_inherits(CollapsibleProducs,_Component);function CollapsibleProducs(props){var _this;_classCallCheck(this,CollapsibleProducs);_this=_possibleConstructorReturn(this,_getPrototypeOf(CollapsibleProducs).call(this,props));// this.state={\n//   products: this.props.products\n// }\n_this.transformDate=function(deadLine){moment.locale(\"es\");var dateTransformed=moment(deadLine).format(\"LL\");return dateTransformed;};return _this;}// deleteProduct(id) {\n//   this.props.deleteFromShow(id)\n//   .then(()=> {\n//     this.setState({\n//       ...this.state,\n//       products: this.props.products\n//     })\n//   })\n// }\n_createClass(CollapsibleProducs,[{key:\"render\",value:function render(){var _this2=this;if(this.props.products&&this.props.user){return React.createElement(\"div\",{className:\"collapsible-container\"},React.createElement(Collapsible,{accordion:true},this.props.products.map(function(product,idx){if(product.buyer==_this2.props.user._id){return React.createElement(CollapsibleItem,{key:idx// header={product.name}\n// icon={<i class=\"medium material-icons\">done</i>}\n,info:React.createElement(\"div\",{className:\"inside-box-purchased\"},React.createElement(\"p\",{className:\"product-title-inside\"},product.name),React.createElement(\"p\",{className:\"info-purchased-container\"},\"Recogida el \",_this2.transformDate(product.bid.deadLine),\" \",\"de \",product.bid.from,\" a \",product.bid.to))},React.createElement(\"div\",{className:\"collaps-open\"},React.createElement(\"div\",{className:\"image-uncol-container\"},React.createElement(\"img\",{className:\"product-image-uncol\",src:product.imgPath1,alt:\"Product image\"})),React.createElement(\"p\",null,product.description),React.createElement(\"p\",null,React.createElement(\"span\",null,product.price,\" \\u20AC\")),React.createElement(\"div\",{className:\"map-uncol-container\"},React.createElement(\"p\",{className:\"map-location-title\"},product.bid.location.address),React.createElement(Productmapcontainer,{products:[product],zoomMap:19,mapSize:[40,300],centerMap:{lat:product.bid.location.coordinates[1],lng:product.bid.location.coordinates[0]}}))));}else{return React.createElement(CollapsibleItem// btnFunction={()=> console.log(product._id)}\n// btnDel={<div className=\"borrar\">\"Ya no vendo esta caja\"</div>}\n,{btnDel:React.createElement(DelModalWarning,{deleteFunction:function deleteFunction(){return _this2.props.deleteFromShow(product._id);}})// header={product.name}\n,key:idx,info:product.active?React.createElement(\"div\",{className:\"inside-box\"},React.createElement(\"p\",{className:\"product-title\"},product.name)):React.createElement(\"div\",{className:\"inside-box\"},React.createElement(\"p\",null,product.name),React.createElement(\"div\",{className:\"selled-badge\"},React.createElement(\"i\",{class:\"medium material-icons\"},\"done\"),React.createElement(\"p\",{className:\"selled-title\"},\"Vendido\")))// icon={\n//\n// }\n},React.createElement(\"div\",{className:\"collaps-open\"},React.createElement(\"div\",{className:\"product-image-uncollapsed-container\"},React.createElement(\"img\",{className:\"product-image-uncollapsed\",src:product.imgPath1,alt:\"Product image\"})),React.createElement(\"div\",{className:\"info-uncollapsed\"},React.createElement(\"p\",null,React.createElement(\"span\",null,product.price,\" \\u20AC\")),React.createElement(\"p\",null,product.description))));}})));}else{return React.createElement(PreloaderSpinner,null);}}}]);return CollapsibleProducs;}(Component);export{CollapsibleProducs as default};","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/molecules/CollapsibleProducs.jsx"],"names":["React","Component","Collapsible","CollapsibleItem","Icon","Switch","PreloaderSpinner","DelModalWarning","Productmapcontainer","moment","locale","CollapsibleProducs","props","transformDate","deadLine","dateTransformed","format","products","user","map","product","idx","buyer","_id","name","bid","from","to","imgPath1","description","price","location","address","lat","coordinates","lng","deleteFromShow","active"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Collapsible, CollapsibleItem, Icon, Switch } from \"react-materialize\";\nimport PreloaderSpinner from \"../atoms/PreloaderSpinner\";\nimport DelModalWarning from \"./DelModalWarning\";\nimport Productmapcontainer from \"../molecules/Productmapcontainer\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nmoment.locale(\"es\");\n\nexport default class CollapsibleProducs extends Component {\n  constructor(props) {\n    super(props);\n    // this.state={\n    //   products: this.props.products\n    // }\n  }\n\n  // deleteProduct(id) {\n  //   this.props.deleteFromShow(id)\n  //   .then(()=> {\n  //     this.setState({\n  //       ...this.state,\n  //       products: this.props.products\n  //     })\n  //   })\n  // }\n  transformDate = deadLine => {\n    moment.locale(\"es\");\n    const dateTransformed = moment(deadLine).format(\"LL\");\n    return dateTransformed;\n  };\n\n  render() {\n    if (this.props.products && this.props.user) {\n      return (\n        <div className=\"collapsible-container\">\n          <Collapsible accordion={true}>\n            {this.props.products.map((product, idx) => {\n              if (product.buyer == this.props.user._id) {\n                return (\n                  <CollapsibleItem\n                    key={idx}\n                    // header={product.name}\n                    // icon={<i class=\"medium material-icons\">done</i>}\n                    info={\n                      <div className=\"inside-box-purchased\">\n                        <p className=\"product-title-inside\">{product.name}</p>\n\n                        <p className=\"info-purchased-container\">\n                          Recogida el {this.transformDate(product.bid.deadLine)}{\" \"}\n                          de {product.bid.from} a {product.bid.to}\n                        </p>\n                      </div>\n                    }\n                  >\n                    <div className=\"collaps-open\">\n                      <div className=\"image-uncol-container\">\n                        <img\n                          className=\"product-image-uncol\"\n                          src={product.imgPath1}\n                          alt=\"Product image\"\n                        ></img>\n                      </div>\n                      <p>{product.description}</p>\n                      <p>\n                        <span>{product.price} €</span>\n                      </p>\n                      <div className=\"map-uncol-container\">\n                        <p className=\"map-location-title\">{product.bid.location.address}</p>\n                      <Productmapcontainer\n                        products={[product]}\n                        zoomMap={19}\n                        mapSize={[40, 300]}\n                        centerMap={{\n                          lat: product.bid.location.coordinates[1],\n                          lng: product.bid.location.coordinates[0]\n                        }}\n                      ></Productmapcontainer>\n                      </div>\n                    </div>\n                  </CollapsibleItem>\n                );\n              } else {\n                return (\n                  <CollapsibleItem\n                    // btnFunction={()=> console.log(product._id)}\n                    // btnDel={<div className=\"borrar\">\"Ya no vendo esta caja\"</div>}\n                    btnDel={\n                      <DelModalWarning\n                        deleteFunction={() =>\n                          this.props.deleteFromShow(product._id)\n                        }\n                      ></DelModalWarning>\n                    }\n                    // header={product.name}\n                    key={idx}\n                    info={\n                      product.active ? (\n                        <div className=\"inside-box\">\n                          <p className=\"product-title\">{product.name}</p>\n                        </div>\n                      ) : (\n                        <div className=\"inside-box\">\n                          <p>{product.name}</p>\n                          <div className=\"selled-badge\">\n                            <i class=\"medium material-icons\">done</i>\n                            <p className=\"selled-title\">Vendido</p>\n                          </div>\n                        </div>\n                      )\n                    }\n                    // icon={\n                    //\n                    // }\n                  >\n                    <div className=\"collaps-open\">\n                      <div className=\"product-image-uncollapsed-container\">\n                        <img\n                          className=\"product-image-uncollapsed\"\n                          src={product.imgPath1}\n                          alt=\"Product image\"\n                        ></img>\n                      </div>\n                      <div className=\"info-uncollapsed\">\n                        <p>\n                          <span>{product.price} €</span>\n                        </p>\n                        <p>{product.description}</p>\n                      </div>\n                    </div>\n                  </CollapsibleItem>\n                );\n              }\n            })}\n          </Collapsible>\n        </div>\n      );\n    } else {\n      return <PreloaderSpinner></PreloaderSpinner>;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}