{"ast":null,"code":"import _defineProperty from \"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/fer/ironhack/week_8/jakku/client/src/components/pages/ShowMyBid.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport Bidmapcontainer from \"../molecules/Productmapcontainer\";\nimport { Row, Card, CardTitle, Col, Preloader } from 'react-materialize';\nimport AllProducts from \"../organisms/AllProducts\";\nimport ButtonAdd from \"../atoms/ButtonAdd\";\nimport CollapsibleProducs from \"../molecules/CollapsibleProducs\";\nimport RoutesService from \"../../RoutesService\";\nexport default class ShowMyBid extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteProduct = id => {\n      console.log(\"borrando\");\n      this.route.deleteProduct(id).then(user => {\n        this.setState(_objectSpread({}, this.state, {\n          user\n        }));\n      });\n    };\n\n    this.state = {\n      user: this.props.user,\n      products: this.props.products\n    };\n    this.route = new RoutesService();\n  }\n\n  componentDidMount() {\n    console.log(this.state);\n    this.props.fromApp().then(() => {\n      const products = this.props.products.filter(product => product.owner == this.props.user._id);\n      this.setState(_objectSpread({}, this.state, {\n        user: this.props.user,\n        products\n      }));\n    });\n  }\n\n  extractCoordinates(latlng) {\n    const lat = latlng[0];\n    const lng = latlng[1];\n    return [{\n      lat,\n      lng\n    }];\n  }\n\n  render() {\n    if (this.props.user.bid) {\n      return React.createElement(\"div\", {\n        className: \"your-bid-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Panel de control de tu mudanza\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, this.props.user.username), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Recoger\\xE1n las cosas el d\\xEDa \", this.props.user.bid.deadLine, \" entre las\", \" \", this.props.user.bid.from, \" y las \", this.props.user.bid.to), React.createElement(ButtonAdd, {\n        product: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Tus cajas\"), React.createElement(CollapsibleProducs, {\n        products: this.state.user.products,\n        user: this.state.user,\n        deleteFromShow: id => this.deleteProduct(id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"div\", {\n        className: \"your-bid-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"No tienes ninguna mudanza creada.\"), React.createElement(ButtonAdd, {\n        bid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/pages/ShowMyBid.jsx"],"names":["React","Component","NavLink","Bidmapcontainer","Row","Card","CardTitle","Col","Preloader","AllProducts","ButtonAdd","CollapsibleProducs","RoutesService","ShowMyBid","constructor","props","deleteProduct","id","console","log","route","then","user","setState","state","products","componentDidMount","fromApp","filter","product","owner","_id","extractCoordinates","latlng","lat","lng","render","bid","username","deadLine","from","to"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport Bidmapcontainer from \"../molecules/Productmapcontainer\";\nimport { Row, Card, CardTitle, Col, Preloader} from 'react-materialize';\nimport AllProducts from \"../organisms/AllProducts\";\nimport ButtonAdd from \"../atoms/ButtonAdd\";\nimport CollapsibleProducs from \"../molecules/CollapsibleProducs\";\nimport RoutesService from \"../../RoutesService\";\n\nexport default class ShowMyBid extends Component {\n  constructor(props) {\n    super(props);\n    this.state= {\n      user: this.props.user,\n      products: this.props.products\n    }\n    this.route = new RoutesService()\n  }\n  componentDidMount() {\n    console.log(this.state)\n    this.props.fromApp()\n    .then(()=> {\n      const products= this.props.products.filter(product=> product.owner==this.props.user._id);\n      this.setState({\n        ...this.state,\n        user: this.props.user,\n        products\n      })\n    })\n\n  }\n  deleteProduct = (id) => {\n    console.log(\"borrando\")\n    this.route.deleteProduct(id)\n    .then(user => {\n      this.setState({\n        ...this.state,\n        user\n      })\n    })\n  }\n\n\n\n  extractCoordinates(latlng) {\n    const lat = latlng[0];\n    const lng = latlng[1];\n    return [{ lat, lng }];\n  }\n\n  render() {\n      if(this.props.user.bid) {\n        return (\n\n          <div className=\"your-bid-container\">\n          <h1>Panel de control de tu mudanza</h1>\n          <p>{this.props.user.username}</p>\n          <p>\n            Recogerán las cosas el día {this.props.user.bid.deadLine} entre las{\" \"}\n            {this.props.user.bid.from} y las {this.props.user.bid.to}\n          </p>\n          \n          <ButtonAdd product={true}></ButtonAdd>\n        \n          <h2>Tus cajas</h2>\n          <CollapsibleProducs \n          products={this.state.user.products} user={this.state.user}\n          deleteFromShow={(id)=>this.deleteProduct(id)}\n          ></CollapsibleProducs>\n         \n    \n          {/* <AllProducts products={this.props.user.products}></AllProducts>} */}\n          </div>\n    \n          )\n      }\n      else {\n        return(\n          <div className=\"your-bid-container\">\n          <p>No tienes ninguna mudanza creada.</p>\n          <ButtonAdd bid={true}></ButtonAdd>\n          </div>\n        )\n      }\n      \n      \n   \n\n   \n  }\n  \n     \n      \n      \n       \n    \n     \n   \n\n}\n\n"]},"metadata":{},"sourceType":"module"}