{"ast":null,"code":"import _defineProperty from \"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/fer/ironhack/week_8/jakku/client/src/components/pages/ShowMyBid.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport Bidmapcontainer from \"../molecules/Productmapcontainer\";\nimport { Row, Card, CardTitle, Col, Preloader } from \"react-materialize\";\nimport AllProducts from \"../organisms/AllProducts\";\nimport ButtonAdd from \"../atoms/ButtonAdd\";\nimport CollapsibleProducs from \"../molecules/CollapsibleProducs\";\nimport RoutesService from \"../../RoutesService\";\nimport PreloaderSpinner from \"../atoms/PreloaderSpinner\";\nimport { withRouter } from \"react-router-dom\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport DelModalWarning from \"../molecules/DelModalWarning\";\nmoment.locale(\"es\");\n\nclass ShowMyBid extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      // this.setState({\n      //   ...this.state,\n      //   products:this.props.user.products\n      // })\n      // this.router.getProducts().then(response => {\n      //   const products= response.filter(product=> product.owner==this.props.user._id)\n      //   this.setState({\n      //     ...this.state,\n      //     products: products\n      //   });\n      // });\n      // console.log(this.state)\n      this.props.fromApp().then(() => {\n        this.setState(_objectSpread({}, this.state, {\n          user: this.props.user,\n          products: this.props.user.products\n        }));\n      });\n    };\n\n    this.deleteProduct = id => {\n      console.log(id);\n      console.log(\"borrando\");\n      this.router.deleteProduct(id).then(user => {\n        this.setState(_objectSpread({}, this.state, {\n          user: user,\n          products: user.products\n        }));\n      });\n    };\n\n    this.goBack = () => {\n      this.props.history.push(\"/\");\n    };\n\n    this.transformDate = () => {\n      moment.lang(\"es\");\n      const dateTransformed = moment(this.props.user.bid.deadLine).format(\"LL\");\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, dateTransformed);\n    };\n\n    this.state = {\n      user: this.props.user,\n      product: this.props.user.products\n    };\n    this.router = new RoutesService();\n  }\n\n  extractCoordinates(latlng) {\n    const lat = latlng[0];\n    const lng = latlng[1];\n    return [{\n      lat,\n      lng\n    }];\n  }\n\n  render() {\n    if (this.props.user.bid) {\n      if (this.state.user.products) {\n        return React.createElement(\"div\", {\n          className: \"your-bid-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"top-box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"back-btn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          class: \"medium material-icons\",\n          onClick: this.goBack,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"arrow_back\")), React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, \"Panel de control de tu mudanza\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Recoger\\xE1n las cosas el d\\xEDa \", React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, this.transformDate()), \" \", \"entre las\", React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, this.props.user.bid.from), \" y las\", \" \", React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, this.props.user.bid.to)), React.createElement(ButtonAdd, {\n          product: true,\n          passText: \"Ya no vendo esta caja\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }), React.createElement(CollapsibleProducs, {\n          products: this.state.products,\n          user: this.state.user,\n          deleteFromShow: id => this.deleteProduct(id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(PreloaderSpinner, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        });\n      }\n    } else {\n      return React.createElement(\"div\", {\n        className: \"your-bid-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"No tienes ninguna mudanza creada.\"), React.createElement(ButtonAdd, {\n        bid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default withRouter(ShowMyBid);","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/pages/ShowMyBid.jsx"],"names":["React","Component","NavLink","Bidmapcontainer","Row","Card","CardTitle","Col","Preloader","AllProducts","ButtonAdd","CollapsibleProducs","RoutesService","PreloaderSpinner","withRouter","moment","DelModalWarning","locale","ShowMyBid","constructor","props","componentDidMount","fromApp","then","setState","state","user","products","deleteProduct","id","console","log","router","goBack","history","push","transformDate","lang","dateTransformed","bid","deadLine","format","product","extractCoordinates","latlng","lat","lng","render","from","to"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport Bidmapcontainer from \"../molecules/Productmapcontainer\";\nimport { Row, Card, CardTitle, Col, Preloader } from \"react-materialize\";\nimport AllProducts from \"../organisms/AllProducts\";\nimport ButtonAdd from \"../atoms/ButtonAdd\";\nimport CollapsibleProducs from \"../molecules/CollapsibleProducs\";\nimport RoutesService from \"../../RoutesService\";\nimport PreloaderSpinner from \"../atoms/PreloaderSpinner\";\nimport { withRouter } from \"react-router-dom\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport DelModalWarning from \"../molecules/DelModalWarning\";\nmoment.locale(\"es\");\n\nclass ShowMyBid extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: this.props.user,\n      product: this.props.user.products\n    };\n    this.router = new RoutesService();\n  }\n  componentDidMount = () => {\n    // this.setState({\n    //   ...this.state,\n    //   products:this.props.user.products\n    // })\n    // this.router.getProducts().then(response => {\n    //   const products= response.filter(product=> product.owner==this.props.user._id)\n    //   this.setState({\n    //     ...this.state,\n    //     products: products\n    //   });\n    // });\n    // console.log(this.state)\n    this.props.fromApp().then(() => {\n      this.setState({\n        ...this.state,\n        user: this.props.user,\n        products: this.props.user.products\n      });\n    });\n  };\n\n  deleteProduct = id => {\n    console.log(id);\n    console.log(\"borrando\");\n    this.router.deleteProduct(id).then(user => {\n      this.setState({\n        ...this.state,\n        user: user,\n        products: user.products\n      });\n    });\n  };\n\n  goBack = () => {\n    this.props.history.push(\"/\");\n  };\n  \n  transformDate = () => {\n    moment.lang(\"es\");\n    const dateTransformed = moment(this.props.user.bid.deadLine).format(\"LL\");\n    return <p>{dateTransformed}</p>;\n  };\n\n  extractCoordinates(latlng) {\n    const lat = latlng[0];\n    const lng = latlng[1];\n    return [{ lat, lng }];\n  }\n\n  render() {\n    if (this.props.user.bid) {\n      if (this.state.user.products) {\n        return (\n          <div className=\"your-bid-container\">\n            <div className=\"top-box\">\n              <a className=\"back-btn\">\n                <i class=\"medium material-icons\" onClick={this.goBack}>\n                  arrow_back\n                </i>\n              </a>\n              <h1>Panel de control de tu mudanza</h1>\n              <p>\n                Recogerán las cosas el día <span>{this.transformDate()}</span>{\" \"}\n                entre las\n                <span>{this.props.user.bid.from}</span> y las{\" \"}\n                <span>{this.props.user.bid.to}</span>\n              </p>\n\n              <ButtonAdd\n                product={true}\n                passText=\"Ya no vendo esta caja\"\n              ></ButtonAdd>\n              \n            </div>\n            <div></div>\n            <CollapsibleProducs\n              products={this.state.products}\n              user={this.state.user}\n              deleteFromShow={id => this.deleteProduct(id)}\n            ></CollapsibleProducs>\n          </div>\n        );\n      } else {\n        return <PreloaderSpinner></PreloaderSpinner>;\n      }\n    } else {\n      return (\n        <div className=\"your-bid-container\">\n          <p>No tienes ninguna mudanza creada.</p>\n          <ButtonAdd bid={true}></ButtonAdd>\n        </div>\n      );\n    }\n  }\n}\nexport default withRouter(ShowMyBid);\n"]},"metadata":{},"sourceType":"module"}