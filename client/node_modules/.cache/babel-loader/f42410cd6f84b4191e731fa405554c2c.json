{"ast":null,"code":"import _defineProperty from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{Component}from'react';import RoutesService from\"../../RoutesService\";import AllProductsAndSearch from'../organisms/AllProductsAndSearch';import PreloaderSpinner from\"../atoms/PreloaderSpinner\";import{withRouter}from'react-router-dom';import moment from\"moment\";import'moment/locale/es';moment.locale('es');var ShowBid=/*#__PURE__*/function(_Component){_inherits(ShowBid,_Component);function ShowBid(props){var _this;_classCallCheck(this,ShowBid);_this=_possibleConstructorReturn(this,_getPrototypeOf(ShowBid).call(this,props));_this.goBack=function(){_this.props.history.goBack();};_this.transformDate=function(){moment.lang('es');var dateTransformed=moment(_this.state.bid.deadLine).format('LL');return React.createElement(\"p\",null,dateTransformed);};_this.state={bid:null};_this.router=new RoutesService();return _this;}_createClass(ShowBid,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.router.getBid(this.props.id).then(function(bid){var centerBid={lat:bid.location.coordinates[1],lng:bid.location.coordinates[0]};_this2.setState(_objectSpread({},_this2.state,{bid:bid,centerBid:centerBid,centerMap:_this2.props.centerMap}));});}},{key:\"render\",value:function render(){if(this.state.bid&&this.state.centerMap){return React.createElement(\"div\",null,React.createElement(\"a\",{className:\"back-btn\"},React.createElement(\"i\",{class:\"medium material-icons\",onClick:this.goBack},\"arrow_back\")),React.createElement(\"p\",null,\"Recoger\\xE1n las cosas el d\\xEDa \",this.transformDate(),\" entre las\",\" \",this.state.bid.from,\" y las \",this.state.bid.to),React.createElement(AllProductsAndSearch,{title:\"Localización de la subasta\",bids:[this.state.bid],centerMap:this.state.centerMap,centerBid:this.state.centerBid,products:this.state.bid.productsList,zoomMap:16}));}else{return React.createElement(PreloaderSpinner,null);}}}]);return ShowBid;}(Component);export default withRouter(ShowBid);","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/pages/ShowBid.jsx"],"names":["React","Component","RoutesService","AllProductsAndSearch","PreloaderSpinner","withRouter","moment","locale","ShowBid","props","goBack","history","transformDate","lang","dateTransformed","state","bid","deadLine","format","router","getBid","id","then","centerBid","lat","location","coordinates","lng","setState","centerMap","from","to","productsList"],"mappings":"w/CAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,aAAP,KAA0B,qBAA1B,CACA,MAAOC,CAAAA,oBAAP,KAAiC,mCAAjC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,2BAA7B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAO,kBAAP,CACAA,MAAM,CAACC,MAAP,CAAc,IAAd,E,GAEMC,CAAAA,O,iEACJ,iBAAYC,KAAZ,CAAmB,yCACjB,yEAAMA,KAAN,GADiB,MAoBnBC,MApBmB,CAoBX,UAAK,CACX,MAAKD,KAAL,CAAWE,OAAX,CAAmBD,MAAnB,GACD,CAtBkB,OAuBnBE,aAvBmB,CAuBH,UAAM,CACpBN,MAAM,CAACO,IAAP,CAAY,IAAZ,EACA,GAAMC,CAAAA,eAAe,CAAER,MAAM,CAAC,MAAKS,KAAL,CAAWC,GAAX,CAAeC,QAAhB,CAAN,CAAgCC,MAAhC,CAAuC,IAAvC,CAAvB,CACA,MAAO,8BAAIJ,eAAJ,CAAP,CACD,CA3BkB,CAEjB,MAAKC,KAAL,CAAY,CACVC,GAAG,CAAE,IADK,CAAZ,CAGA,MAAKG,MAAL,CAAa,GAAIjB,CAAAA,aAAJ,EAAb,CALiB,aAMlB,C,iFAEmB,iBAClB,KAAKiB,MAAL,CAAYC,MAAZ,CAAmB,KAAKX,KAAL,CAAWY,EAA9B,EACCC,IADD,CACM,SAAAN,GAAG,CAAE,CACT,GAAMO,CAAAA,SAAS,CAAG,CAACC,GAAG,CAACR,GAAG,CAACS,QAAJ,CAAaC,WAAb,CAAyB,CAAzB,CAAL,CAAkCC,GAAG,CAAEX,GAAG,CAACS,QAAJ,CAAaC,WAAb,CAAyB,CAAzB,CAAvC,CAAlB,CACA,MAAI,CAACE,QAAL,kBACK,MAAI,CAACb,KADV,EAEEC,GAAG,CAAHA,GAFF,CAGEO,SAAS,CAATA,SAHF,CAIEM,SAAS,CAAE,MAAI,CAACpB,KAAL,CAAWoB,SAJxB,IAMD,CATD,EAUD,C,uCAUQ,CACP,GAAG,KAAKd,KAAL,CAAWC,GAAX,EAAkB,KAAKD,KAAL,CAAWc,SAAhC,CAA2C,CACzC,MACE,gCACA,yBAAG,SAAS,CAAC,UAAb,EAAwB,yBAAG,KAAK,CAAC,uBAAT,CAAiC,OAAO,CAAE,KAAKnB,MAA/C,eAAxB,CADA,CAEA,iEAC8B,KAAKE,aAAL,EAD9B,cAC8D,GAD9D,CAEG,KAAKG,KAAL,CAAWC,GAAX,CAAec,IAFlB,WAE+B,KAAKf,KAAL,CAAWC,GAAX,CAAee,EAF9C,CAFA,CAMA,oBAAC,oBAAD,EACA,KAAK,CAAE,4BADP,CAEA,IAAI,CAAE,CAAC,KAAKhB,KAAL,CAAWC,GAAZ,CAFN,CAGA,SAAS,CAAE,KAAKD,KAAL,CAAWc,SAHtB,CAIA,SAAS,CAAE,KAAKd,KAAL,CAAWQ,SAJtB,CAKA,QAAQ,CAAE,KAAKR,KAAL,CAAWC,GAAX,CAAegB,YALzB,CAMA,OAAO,CAAE,EANT,EANA,CADF,CAkBD,CAnBD,IAoBK,CACH,MACE,qBAAC,gBAAD,MADF,CAID,CAEF,C,qBA1DmB/B,S,EA4DtB,cAAeI,CAAAA,UAAU,CAACG,OAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\nimport RoutesService from \"../../RoutesService\";\nimport AllProductsAndSearch from '../organisms/AllProductsAndSearch';\nimport PreloaderSpinner from \"../atoms/PreloaderSpinner\";\nimport { withRouter } from 'react-router-dom';\nimport moment from \"moment\";\nimport 'moment/locale/es'\nmoment.locale('es')\n\nclass ShowBid extends Component {\n  constructor(props) {\n    super(props)\n    this.state= {\n      bid: null\n    }\n    this.router= new RoutesService;\n  }\n\n  componentDidMount() {\n    this.router.getBid(this.props.id)\n    .then(bid=>{\n      const centerBid = {lat:bid.location.coordinates[1], lng: bid.location.coordinates[0]}\n      this.setState({\n        ...this.state,\n        bid,\n        centerBid,\n        centerMap: this.props.centerMap,\n      })\n    })\n  }\n  goBack =()=> {\n    this.props.history.goBack()\n  }\n  transformDate = () => {\n    moment.lang('es');\n    const dateTransformed= moment(this.state.bid.deadLine).format('LL')\n    return <p>{dateTransformed}</p>\n  }\n\n  render() {\n    if(this.state.bid && this.state.centerMap) {\n      return (\n        <div>\n        <a className=\"back-btn\"><i class=\"medium material-icons\" onClick={this.goBack}>arrow_back</i></a>\n        <p>\n          Recogerán las cosas el día {this.transformDate()} entre las{\" \"}\n          {this.state.bid.from} y las {this.state.bid.to}\n        </p>\n        <AllProductsAndSearch\n        title={\"Localización de la subasta\"}\n        bids={[this.state.bid]}\n        centerMap={this.state.centerMap}\n        centerBid={this.state.centerBid}\n        products={this.state.bid.productsList}\n        zoomMap={16}\n        ></AllProductsAndSearch>\n        \n        </div>\n        )\n    }\n    else {\n      return (\n        <PreloaderSpinner></PreloaderSpinner>\n       \n      )\n    }\n  \n  }\n}\nexport default withRouter(ShowBid)"]},"metadata":{},"sourceType":"module"}