{"ast":null,"code":"import _defineProperty from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{Component}from\"react\";import{NavLink}from\"react-router-dom\";import{Button,Tabs,Tab}from\"react-materialize\";import{withRouter}from\"react-router-dom\";import ShowBid from\"./ShowMyBid\";import AllProducts from\"../organisms/AllProducts\";import SearchBar from\"../atoms/SearchBar\";import Bidmapcontainer from\"../molecules/Bidmapcontainer\";import RoutesService from\"../../RoutesService\";import ModalLoginFirst from\"../auth/ModalLoginFirst\";var HomeLogged=/*#__PURE__*/function(_Component){_inherits(HomeLogged,_Component);function HomeLogged(props){var _this;_classCallCheck(this,HomeLogged);_this=_possibleConstructorReturn(this,_getPrototypeOf(HomeLogged).call(this,props));_this.state={products:props.products,searchProducts:props.products,bids:null};_this.router=new RoutesService();return _this;}_createClass(HomeLogged,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.router.getProducts().then(function(response){var bids=response.map(function(product){return product.bid;});bids.forEach(function(bid){return bid.productsList.map(function(id){return response.filter(function(product){return product._id===id;});});});var bidsId=[];bids=bids.filter(function(bid){if(bidsId.includes(bid._id)){return false;}else{bidsId.push(bid._id);return true;}});_this2.setState(_objectSpread({},_this2.state,{products:response,bids:bids}));console.log(_this2.state);});}},{key:\"makeSearch\",value:function makeSearch(searchText){console.log(this.props);var searchProductsResults=this.state.products.filter(function(product){return product.name.toLowerCase().includes(searchText.toLowerCase());});console.log(this.state);this.setState(_objectSpread({},this.state,{searchProducts:searchProductsResults}));}// changeStock(stockCheckbox) {\n//   this.setState({\n//     ...this.state,\n//     inStock: stockCheckbox\n//   });\n// }\n},{key:\"render\",value:function render(){if(!this.props.user.bid){return React.createElement(\"div\",{className:\"home\"},React.createElement(\"div\",null,React.createElement(\"div\",{className:\"title-container\"},React.createElement(\"h1\",null,\"Si te acabas de mudar o est\\xE1s a punto de mudarte, podemos ayudarte\"),React.createElement(\"img\",{src:\"bkg-img.svg\",alt:\"background image\"})),React.createElement(Tabs,{className:\"tab-demo z-depth-1 tabs-fixed-width tab-container\"},React.createElement(Tab,{title:\"Me voy a mudar\",className:\"me-mudo\"},React.createElement(\"div\",{className:\"mudo-container\"},React.createElement(\"div\",{className:\"create-bid-container\"},React.createElement(\"label\",null,\"Crear mudanza\"),React.createElement(ModalLoginFirst,{passText:\"\"})))))));}else{return React.createElement(\"div\",null);};}}]);return HomeLogged;}(Component);export default withRouter(HomeLogged);","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/pages/HomeLogged.jsx"],"names":["React","Component","NavLink","Button","Tabs","Tab","withRouter","ShowBid","AllProducts","SearchBar","Bidmapcontainer","RoutesService","ModalLoginFirst","HomeLogged","props","state","products","searchProducts","bids","router","getProducts","then","response","map","product","bid","forEach","productsList","id","filter","_id","bidsId","includes","push","setState","console","log","searchText","searchProductsResults","name","toLowerCase","user"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Button, Tabs, Tab } from \"react-materialize\";\nimport { withRouter } from \"react-router-dom\";\nimport ShowBid from \"./ShowMyBid\";\nimport AllProducts from \"../organisms/AllProducts\";\nimport SearchBar from \"../atoms/SearchBar\";\nimport Bidmapcontainer from \"../molecules/Bidmapcontainer\";\nimport RoutesService from \"../../RoutesService\";\nimport ModalLoginFirst from \"../auth/ModalLoginFirst\";\n\nclass HomeLogged extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: props.products,\n      searchProducts: props.products,\n      bids: null\n    };\n    this.router = new RoutesService();\n  }\n\n  componentDidMount() {\n    this.router.getProducts().then(response => {\n      let bids = response.map(product => product.bid);\n      bids.forEach(bid =>\n        bid.productsList.map(id =>\n          response.filter(product => product._id === id)\n        )\n      );\n      let bidsId = [];\n      bids = bids.filter(bid => {\n        if (bidsId.includes(bid._id)) {\n          return false;\n        } else {\n          bidsId.push(bid._id);\n          return true;\n        }\n      });\n      this.setState({\n        ...this.state,\n        products: response,\n        bids: bids\n      });\n      console.log(this.state);\n    });\n  }\n\n  makeSearch(searchText) {\n    console.log(this.props);\n    const searchProductsResults = this.state.products.filter(product =>\n      product.name.toLowerCase().includes(searchText.toLowerCase())\n    );\n    console.log(this.state);\n\n    this.setState({\n      ...this.state,\n      searchProducts: searchProductsResults\n    });\n  }\n\n  // changeStock(stockCheckbox) {\n  //   this.setState({\n  //     ...this.state,\n  //     inStock: stockCheckbox\n  //   });\n  // }\n\n  render() {\n    \n      if (!this.props.user.bid) {\n        return(\n          <div className=\"home\">\n          <div>\n            <div className=\"title-container\">\n              <h1>\n                Si te acabas de mudar o est√°s a punto de mudarte, podemos ayudarte\n              </h1>\n              <img src=\"bkg-img.svg\" alt=\"background image\"></img>\n            </div>\n            <Tabs className=\"tab-demo z-depth-1 tabs-fixed-width tab-container\">\n              <Tab title=\"Me voy a mudar\" className=\"me-mudo\">\n                <div className=\"mudo-container\">\n                  <div className=\"create-bid-container\">\n                    <label>Crear mudanza</label>\n                    <ModalLoginFirst passText={\"\"}></ModalLoginFirst>\n                  </div>\n                </div>\n              </Tab>\n            </Tabs>\n          </div>\n        </div>\n        )\n      }\n      else {\n        return (\n          <div>\n            \n          </div>\n\n        )\n      }\n     \n    ;\n  }\n}\n\nexport default withRouter(HomeLogged);\n"]},"metadata":{},"sourceType":"module"}