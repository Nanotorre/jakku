{"ast":null,"code":"import _defineProperty from \"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/fer/ironhack/week_8/jakku/client/src/components/pages/Home.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport { Tabs, Tab, Col, Row, Preloader } from \"react-materialize\";\nimport AllProducts from \"../organisms/AllProducts\";\nimport SearchBar from \"../atoms/SearchBar\";\nimport Bidmapcontainer from \"../molecules/Bidmapcontainer\";\nimport RoutesService from \"../../RoutesService\";\nimport ModalLogin from \"../auth/ModalLogin\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bids: null,\n      products: null\n    };\n    this.router = new RoutesService();\n  }\n\n  componentDidMount() {\n    this.router.getProducts().then(response => {\n      let bids = response.map(product => product.bid);\n      bids.forEach(bid => bid.productsList.map(id => response.filter(product => product._id === id)));\n      let bidsId = [];\n      bids = bids.filter(bid => {\n        if (bidsId.includes(bid._id)) {\n          return false;\n        } else {\n          bidsId.push(bid._id);\n          return true;\n        }\n      });\n      this.setState(_objectSpread({}, this.state, {\n        products: response,\n        bids: bids\n      }));\n      console.log(this.state);\n    });\n  }\n\n  render() {\n    return React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }) // <div>\n    //   <h1>\n    //     Si te acabas de mudar o estás a punto de mudarte, podemos ayudarte\n    //   </h1>\n    //   {/* <NavLink to={\"/create-bid\"}>Me voy a mudar</NavLink>\n    //   <NavLink to={\"/create-bid\"}>Me acabo de mudar</NavLink> */}\n    //   <Tabs className=\"tab-demo z-depth-1 tabs-fixed-width\">\n    //     <Tab title=\"Me voy a mudar\"></Tab>\n    //     <Tab title=\"Me acabo de mudar\" active>\n    //       {this.state.products && this.state.bids ? (\n    //         <div>\n    //           <SearchBar\n    //             updateSearch={searchText => this.makeSearch(searchText)}\n    //             // updateInStock={stockCheckbox => this.changeStock(stockCheckbox)}\n    //           />\n    //           <Bidmapcontainer\n    //             bids={this.state.bids}\n    //             centerMap={this.props.centerMap}\n    //           ></Bidmapcontainer>\n    //           <AllProducts products={this.props.products}></AllProducts>\n    //         </div>\n    //       ) : (\n    //         <div>\n    //               <Preloader flashing size=\"small\" />\n    //         <ModalLogin></ModalLogin>\n    //         </div>\n    //       )}\n    //     </Tab>\n    //   </Tabs>\n    // </div>\n    ;\n  }\n\n}\n\nexport default withRouter(Home);","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/pages/Home.jsx"],"names":["React","Component","NavLink","withRouter","Tabs","Tab","Col","Row","Preloader","AllProducts","SearchBar","Bidmapcontainer","RoutesService","ModalLogin","Home","constructor","props","state","bids","products","router","componentDidMount","getProducts","then","response","map","product","bid","forEach","productsList","id","filter","_id","bidsId","includes","push","setState","console","log","render"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,kBAApC;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,SAA9B,QAA+C,mBAA/C;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,OAAOC,aAAP,MAA0B,qBAA1B;AACA,OAAOC,UAAP,MAAuB,oBAAvB;;AAEA,MAAMC,IAAN,SAAmBb,SAAnB,CAA6B;AAC3Bc,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,IADK;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAIA,SAAKC,MAAL,GAAa,IAAIR,aAAJ,EAAb;AACD;;AAEDS,EAAAA,iBAAiB,GAAG;AAClB,SAAKD,MAAL,CAAYE,WAAZ,GACCC,IADD,CACMC,QAAQ,IAAG;AACf,UAAIN,IAAI,GAAEM,QAAQ,CAACC,GAAT,CAAaC,OAAO,IAAGA,OAAO,CAACC,GAA/B,CAAV;AACAT,MAAAA,IAAI,CAACU,OAAL,CAAaD,GAAG,IAAGA,GAAG,CAACE,YAAJ,CAAiBJ,GAAjB,CAAqBK,EAAE,IAAGN,QAAQ,CAACO,MAAT,CAAgBL,OAAO,IAAGA,OAAO,CAACM,GAAR,KAAcF,EAAxC,CAA1B,CAAnB;AACA,UAAIG,MAAM,GAAE,EAAZ;AACAf,MAAAA,IAAI,GAAEA,IAAI,CAACa,MAAL,CAAYJ,GAAG,IAAG;AACtB,YAAGM,MAAM,CAACC,QAAP,CAAgBP,GAAG,CAACK,GAApB,CAAH,EAA6B;AAC3B,iBAAO,KAAP;AACD,SAFD,MAGK;AACHC,UAAAA,MAAM,CAACE,IAAP,CAAYR,GAAG,CAACK,GAAhB;AACA,iBAAO,IAAP;AACD;AACF,OARK,CAAN;AASA,WAAKI,QAAL,mBACK,KAAKnB,KADV;AAEEE,QAAAA,QAAQ,EAAEK,QAFZ;AAGEN,QAAAA,IAAI,EAAEA;AAHR;AAKAmB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrB,KAAjB;AACD,KApBD;AAqBD;;AAGDsB,EAAAA,MAAM,GAAG;AAEP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAEE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AApCF;AAsCD;;AA3E0B;;AA8E7B,eAAepC,UAAU,CAACW,IAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport { Tabs, Tab, Col, Row, Preloader } from \"react-materialize\";\nimport AllProducts from \"../organisms/AllProducts\";\nimport SearchBar from \"../atoms/SearchBar\";\nimport Bidmapcontainer from \"../molecules/Bidmapcontainer\";\nimport RoutesService from \"../../RoutesService\";\nimport ModalLogin from \"../auth/ModalLogin\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bids: null,\n      products: null\n    };\n    this.router= new RoutesService;\n  }\n\n  componentDidMount() {\n    this.router.getProducts()\n    .then(response=> {\n      let bids= response.map(product=> product.bid);\n      bids.forEach(bid=> bid.productsList.map(id=> response.filter(product=> product._id===id)))\n      let bidsId= []\n      bids= bids.filter(bid=> {\n        if(bidsId.includes(bid._id)) {\n          return false\n        }\n        else {\n          bidsId.push(bid._id);\n          return true\n        }\n      })\n      this.setState({\n        ...this.state,\n        products: response,\n        bids: bids\n      })\n      console.log(this.state)\n    })\n  }\n\n\n  render() {\n  \n    return (\n      <h1></h1>\n      // <div>\n      //   <h1>\n      //     Si te acabas de mudar o estás a punto de mudarte, podemos ayudarte\n      //   </h1>\n      //   {/* <NavLink to={\"/create-bid\"}>Me voy a mudar</NavLink>\n      //   <NavLink to={\"/create-bid\"}>Me acabo de mudar</NavLink> */}\n      //   <Tabs className=\"tab-demo z-depth-1 tabs-fixed-width\">\n      //     <Tab title=\"Me voy a mudar\"></Tab>\n      //     <Tab title=\"Me acabo de mudar\" active>\n      //       {this.state.products && this.state.bids ? (\n      //         <div>\n               \n      //           <SearchBar\n      //             updateSearch={searchText => this.makeSearch(searchText)}\n      //             // updateInStock={stockCheckbox => this.changeStock(stockCheckbox)}\n      //           />\n      //           <Bidmapcontainer\n      //             bids={this.state.bids}\n      //             centerMap={this.props.centerMap}\n      //           ></Bidmapcontainer>\n\n      //           <AllProducts products={this.props.products}></AllProducts>\n      //         </div>\n      //       ) : (\n      //         <div>\n      //               <Preloader flashing size=\"small\" />\n      //         <ModalLogin></ModalLogin>\n\n      //         </div>\n          \n             \n      //       )}\n      //     </Tab>\n      //   </Tabs>\n      // </div>\n    );\n  }\n}\n\nexport default withRouter(Home);\n"]},"metadata":{},"sourceType":"module"}