{"ast":null,"code":"import _defineProperty from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{Component}from\"react\";import{NavLink,withRouter}from\"react-router-dom\";import{Tabs,Tab,Col,Row,Preloader}from\"react-materialize\";import AllProducts from\"../organisms/AllProducts\";import SearchBar from\"../atoms/SearchBar\";import Bidmapcontainer from\"../molecules/Bidmapcontainer\";import RoutesService from\"../../RoutesService\";import ModalLoginFirst from\"../auth/ModalLoginFirst\";import ModalLogin from\"../auth/ModalLogin\";var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_this.state={bids:null,products:null};_this.router=new RoutesService();return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.router.getProducts().then(function(response){var bids=response.map(function(product){return product.bid;});bids.forEach(function(bid){return bid.productsList.map(function(id){return response.filter(function(product){return product._id===id;});});});var bidsId=[];bids=bids.filter(function(bid){if(bidsId.includes(bid._id)){return false;}else{bidsId.push(bid._id);return true;}});_this2.setState(_objectSpread({},_this2.state,{products:response,bids:bids}));console.log(_this2.state,_this2.props);});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"home\"},React.createElement(\"div\",{className:\"title-container\"},React.createElement(\"h1\",null,\"Si te acabas de mudar o est\\xE1s a punto de mudarte, podemos ayudarte\"),React.createElement(\"img\",{src:\"bkg-img.svg\",alt:\"background image\"})),React.createElement(Tabs,{className:\"tab-demo z-depth-1 tabs-fixed-width tab-container\"},React.createElement(Tab,{title:\"Me voy a mudar\",className:\"me-mudo\"},React.createElement(\"div\",{className:\"mudo-container\"},React.createElement(\"h3\",null,\"\\xBFTienes demasiadas cosas y no vas a llevarlas a tu nuevo hogar?\"),React.createElement(\"h3\",null,\"Est\\xE1s de enhorabuena.\"),React.createElement(\"p\",null,\"Tenemos el escaparate perfecto para venderlo todo el d\\xEDa exacto que t\\xFA decidas.\")),React.createElement(\"main\",{className:\"timeline\"},React.createElement(\"ul\",null,React.createElement(\"li\",{className:\"li-r\"},React.createElement(\"i\",{class:\"medium material-icons\"},\"event_available\"),React.createElement(\"p\",{className:\"number-r\"},\"1\"),React.createElement(\"h4\",null,\"Fija el d\\xEDa\"),React.createElement(\"p\",null,\"Decide cuando quieres vaciar tu vivienda. Te liberas de lo que no necesitas justo cuando te mudas. Ni antes, ni despu\\xE9s.\")),React.createElement(\"li\",{className:\"li-l\"},React.createElement(\"i\",{class:\"medium material-icons\"},\"camera_alt\"),React.createElement(\"p\",{className:\"number-l\"},\"2\"),React.createElement(\"h4\",null,\"Separa lo que no te vas a llevar\"),React.createElement(\"p\",null,\"Hazle fotos y descr\\xEDbelo brevemente. Puedes una sola cosa en cada caja, como una mesa, o meter el sal\\xF3n completo. \\xA1En nuestras cajas cabe todo!\")),React.createElement(\"li\",{className:\"li-r\"},React.createElement(\"i\",{class:\"medium material-icons\"},\"euro_symbol\"),React.createElement(\"p\",{className:\"number-3\"},\"3\"),React.createElement(\"h4\",null,\"Ponles precio\"),React.createElement(\"p\",null,\"Desde 1 c\\xE9ntimo hasta lo que t\\xFA juzgues.\")),React.createElement(\"li\",{className:\"li-l\"},React.createElement(\"i\",{class:\"medium material-icons\"},\"thumb_up\"),React.createElement(\"p\",{className:\"number-4\"},\"4\"),React.createElement(\"h4\",null,\"V\\xE9ndelo\"),React.createElement(\"p\",null,\"Los compradores ir\\xE1n a recogerlo el d\\xEDa acordado. Listo para tu mudanza.\")))),React.createElement(\"div\",{className:\"create-bid-container\"},React.createElement(\"label\",null,\"Crear mudanza\"),React.createElement(ModalLoginFirst,{passText:\"Tienes que identificarte para continuar\"}))),React.createElement(Tab,{title:\"Me acabo de mudar\",active:true},this.state.products&&this.state.bids&&this.props.centerMap?React.createElement(\"div\",null,React.createElement(Bidmapcontainer,{bids:this.state.bids,centerMap:this.props.centerMap}),React.createElement(AllProducts,{products:this.props.products})):React.createElement(\"div\",null,React.createElement(Preloader,{flashing:true,size:\"small\"}),React.createElement(ModalLogin,null)))));}}]);return Home;}(Component);export default withRouter(Home);","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/pages/Home.jsx"],"names":["React","Component","NavLink","withRouter","Tabs","Tab","Col","Row","Preloader","AllProducts","SearchBar","Bidmapcontainer","RoutesService","ModalLoginFirst","ModalLogin","Home","props","state","bids","products","router","getProducts","then","response","map","product","bid","forEach","productsList","id","filter","_id","bidsId","includes","push","setState","console","log","centerMap"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport { Tabs, Tab, Col, Row, Preloader } from \"react-materialize\";\nimport AllProducts from \"../organisms/AllProducts\";\nimport SearchBar from \"../atoms/SearchBar\";\nimport Bidmapcontainer from \"../molecules/Bidmapcontainer\";\nimport RoutesService from \"../../RoutesService\";\nimport ModalLoginFirst from \"../auth/ModalLoginFirst\";\nimport ModalLogin from \"../auth/ModalLogin\";\n\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bids: null,\n      products: null\n    };\n    this.router = new RoutesService();\n  }\n\n  componentDidMount() {\n    this.router.getProducts().then(response => {\n      let bids = response.map(product => product.bid);\n      bids.forEach(bid =>\n        bid.productsList.map(id =>\n          response.filter(product => product._id === id)\n        )\n      );\n      let bidsId = [];\n      bids = bids.filter(bid => {\n        if (bidsId.includes(bid._id)) {\n          return false;\n        } else {\n          bidsId.push(bid._id);\n          return true;\n        }\n      });\n      this.setState({\n        ...this.state,\n        products: response,\n        bids: bids\n      });\n      console.log(this.state, this.props);\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"home\">\n        <div className=\"title-container\">\n        <h1>\n          Si te acabas de mudar o estás a punto de mudarte, podemos ayudarte\n        </h1>\n        <img src='bkg-img.svg' alt=\"background image\"></img>\n\n        </div >\n       \n        {/* <NavLink to={\"/create-bid\"}>Me voy a mudar</NavLink>\n        <NavLink to={\"/create-bid\"}>Me acabo de mudar</NavLink> */}\n        <Tabs className=\"tab-demo z-depth-1 tabs-fixed-width tab-container\">\n          <Tab title=\"Me voy a mudar\" className=\"me-mudo\">\n            <div className=\"mudo-container\">\n            <h3>\n              ¿Tienes demasiadas cosas y no vas a llevarlas a tu nuevo hogar?\n            </h3>\n            <h3>Estás de enhorabuena.</h3>\n            <p>\n              Tenemos el escaparate perfecto para venderlo todo el día exacto\n              que tú decidas.\n            </p>\n\n            </div>\n          \n            <main className=\"timeline\">\n              <ul>\n                <li className=\"li-r\">\n                  <i class=\"medium material-icons\">event_available</i>\n                  <p className=\"number-r\">1</p>\n                  <h4>Fija el día</h4>\n                  <p>\n                    Decide cuando quieres vaciar tu vivienda. Te liberas de lo\n                    que no necesitas justo cuando te mudas. Ni antes, ni\n                    después.\n                  </p>\n                </li>\n                <li className=\"li-l\">\n                  <i class=\"medium material-icons\">camera_alt</i>\n                  <p className=\"number-l\">2</p>\n                  <h4>Separa lo que no te vas a llevar</h4>\n                  <p>Hazle fotos y descríbelo brevemente. Puedes una sola cosa en cada caja, como una mesa, o meter el salón completo. ¡En nuestras cajas cabe todo!</p>\n                </li>\n                <li className=\"li-r\">\n                  <i class=\"medium material-icons\">euro_symbol</i>\n                  <p className=\"number-3\">3</p>\n                  <h4>Ponles precio</h4>\n                  <p>Desde 1 céntimo hasta lo que tú juzgues.</p>\n                </li>\n\n                <li className=\"li-l\">\n                  <i class=\"medium material-icons\">thumb_up</i>\n                  <p className=\"number-4\">4</p>\n                  <h4>Véndelo</h4>\n                  <p>Los compradores irán a recogerlo el día acordado. Listo para tu mudanza.</p>\n                </li>\n              </ul>\n            </main>\n            <div className=\"create-bid-container\">\n        <label>Crear mudanza</label>\n        <ModalLoginFirst passText={\"Tienes que identificarte para continuar\"}></ModalLoginFirst>\n        {/* <a class=\"btn-floating btn-large waves-effect waves-light red\"><i class=\"material-icons\">add</i></a> */}\n        </div>\n          </Tab>\n          <Tab title=\"Me acabo de mudar\" active>\n            {this.state.products && this.state.bids && this.props.centerMap ? (\n              <div>\n                {/* <SearchBar\n                  updateSearch={searchText => this.makeSearch(searchText)}\n                  // updateInStock={stockCheckbox => this.changeStock(stockCheckbox)}\n                /> */}\n                <Bidmapcontainer\n                  bids={this.state.bids}\n                  centerMap={this.props.centerMap}\n                ></Bidmapcontainer>\n                <AllProducts products={this.props.products}></AllProducts>\n              </div>\n            ) : (\n              <div>\n                <Preloader flashing size=\"small\" />\n                <ModalLogin></ModalLogin>\n              </div>\n            )}\n          </Tab>\n        </Tabs>\n      \n      </div>\n    );\n  }\n}\n\nexport default withRouter(Home);\n"]},"metadata":{},"sourceType":"module"}