{"ast":null,"code":"import _defineProperty from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import AuthService from\"./Authservice\";import{Button,TextInput}from\"react-materialize\";import{withRouter}from'react-router-dom';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_possibleConstructorReturn(this,_getPrototypeOf(Signup).call(this,props));_this.sendSignup=function(event){event.preventDefault();var _this$state=_this.state,username=_this$state.username,password=_this$state.password;_this.service.signup(username,password).then(function(response){_this.setState({username:\"\",password:\"\"});_this.props.getUser(response.user);_this.props.history.goBack();}).catch(function(error){console.log(\"catch e\",error);_this.setState({username:username,password:password,error:true});});};_this.state={username:\"\",password:\"\"};_this.service=new AuthService();return _this;}_createClass(Signup,[{key:\"changeState\",value:function changeState(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;this.setState(_defineProperty({},name,value));}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"sign-container .fade-in\"},React.createElement(\"p\",null,\"Signup\"),React.createElement(\"form\",{onSubmit:this.sendSignup},React.createElement(TextInput,{label:\"Nombre\",value:this.state.username,type:\"text\",name:\"username\",onChange:function onChange(e){return _this2.changeState(e);}}),React.createElement(TextInput,{label:\"Contrase\\xF1a\",value:this.state.password,type:\"password\",name:\"password\",onChange:function onChange(e){return _this2.changeState(e);}}),React.createElement(Button,{type:\"submit\",value:\"Sign up\"},\"Signup\")),React.createElement(\"p\",null,this.state.error?\"Something was wrong. Please, try again\":\"\"));}}]);return Signup;}(Component);export default withRouter(Signup);","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/auth/Signup.jsx"],"names":["React","Component","AuthService","Button","TextInput","withRouter","Signup","props","sendSignup","event","preventDefault","state","username","password","service","signup","then","response","setState","getUser","user","history","goBack","catch","error","console","log","e","target","name","value","changeState"],"mappings":"4uBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,OAASC,MAAT,CAAiBC,SAAjB,KAAkC,mBAAlC,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,GAEMC,CAAAA,M,gEACJ,gBAAYC,KAAZ,CAAmB,wCACjB,wEAAMA,KAAN,GADiB,MAgBnBC,UAhBmB,CAgBP,SAACC,KAAD,CAAW,CACrBA,KAAK,CAACC,cAAN,GADqB,gBAEQ,MAAKC,KAFb,CAEdC,QAFc,aAEdA,QAFc,CAEJC,QAFI,aAEJA,QAFI,CAIrB,MAAKC,OAAL,CAAaC,MAAb,CAAoBH,QAApB,CAA8BC,QAA9B,EACCG,IADD,CACO,SAAAC,QAAQ,CAAI,CACjB,MAAKC,QAAL,CAAc,CACZN,QAAQ,CAAE,EADE,CAEZC,QAAQ,CAAE,EAFE,CAAd,EAIA,MAAKN,KAAL,CAAWY,OAAX,CAAmBF,QAAQ,CAACG,IAA5B,EACA,MAAKb,KAAL,CAAWc,OAAX,CAAmBC,MAAnB,GACD,CARD,EASCC,KATD,CASO,SAAAC,KAAK,CAAG,CACbC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBF,KAAvB,EACA,MAAKN,QAAL,CAAc,CACZN,QAAQ,CAAEA,QADE,CAEZC,QAAQ,CAAEA,QAFE,CAGZW,KAAK,CAAE,IAHK,CAAd,EAKD,CAhBD,EAkBD,CAtCkB,CAEjB,MAAKb,KAAL,CAAY,CACVC,QAAQ,CAAC,EADC,CAEVC,QAAQ,CAAE,EAFA,CAAZ,CAIA,MAAKC,OAAL,CAAe,GAAIZ,CAAAA,WAAJ,EAAf,CANiB,aAOlB,C,mEAEWyB,C,CAAG,eACSA,CAAC,CAACC,MADX,CACNC,IADM,WACNA,IADM,CACAC,KADA,WACAA,KADA,CAEb,KAAKZ,QAAL,oBACGW,IADH,CACWC,KADX,GAGD,C,uCA0BQ,iBACP,MACE,4BAAK,SAAS,CAAC,yBAAf,EACO,sCADP,CAEE,4BAAM,QAAQ,CAAE,KAAKtB,UAArB,EACA,oBAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,CAA0B,KAAK,CAAE,KAAKG,KAAL,CAAWC,QAA5C,CAAsD,IAAI,CAAC,MAA3D,CAAkE,IAAI,CAAC,UAAvE,CAAkF,QAAQ,CAAE,kBAACe,CAAD,QAAM,CAAA,MAAI,CAACI,WAAL,CAAiBJ,CAAjB,CAAN,EAA5F,EADA,CAGA,oBAAC,SAAD,EAAW,KAAK,CAAC,eAAjB,CAA8B,KAAK,CAAE,KAAKhB,KAAL,CAAWE,QAAhD,CAA0D,IAAI,CAAC,UAA/D,CAA2E,IAAI,CAAC,UAAhF,CAA4F,QAAQ,CAAE,kBAACc,CAAD,QAAM,CAAA,MAAI,CAACI,WAAL,CAAiBJ,CAAjB,CAAN,EAAtG,EAHA,CAKE,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,SAA5B,WALF,CAFF,CASE,6BAAI,KAAKhB,KAAL,CAAWa,KAAX,CAAkB,wCAAlB,CAA6D,EAAjE,CATF,CADF,CAaD,C,oBAvDkBvB,S,EA2DrB,cAAeI,CAAAA,UAAU,CAACC,MAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\nimport AuthService from \"./Authservice\";\nimport { Button, TextInput } from \"react-materialize\";\nimport { withRouter } from 'react-router-dom'\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state= {\n      username:\"\",\n      password: \"\"\n    }\n    this.service = new AuthService();\n  }\n\n  changeState(e) {\n    const {name, value} = e.target;\n    this.setState({\n      [name] : value\n    })\n  }\n\n  sendSignup= (event) => {\n    event.preventDefault();\n    const {username, password} = this.state;\n\n    this.service.signup(username, password)\n    .then( response => {\n      this.setState({\n        username: \"\",\n        password: \"\"\n      });\n      this.props.getUser(response.user);\n      this.props.history.goBack();\n    })\n    .catch(error=> {\n      console.log(\"catch e\", error);\n      this.setState({\n        username: username,\n        password: password,\n        error: true\n      });\n    })\n\n  }\n\n  render() {\n    return (\n      <div className=\"sign-container .fade-in\">\n             <p>Signup</p>\n        <form onSubmit={this.sendSignup} >\n        <TextInput label=\"Nombre\" value={this.state.username} type=\"text\" name=\"username\" onChange={(e)=> this.changeState(e)}></TextInput>\n  \n        <TextInput label=\"ContraseÃ±a\" value={this.state.password} type=\"password\"  name=\"password\"  onChange={(e)=> this.changeState(e)}/>\n \n          <Button type=\"submit\" value=\"Sign up\">Signup</Button>\n        </form>\n        <p>{this.state.error? \"Something was wrong. Please, try again\" : \"\"}</p>\n      </div>\n    )\n  }\n}\n\n\nexport default withRouter(Signup)"]},"metadata":{},"sourceType":"module"}