{"ast":null,"code":"import _defineProperty from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import AuthService from\"./Authservice\";var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_possibleConstructorReturn(this,_getPrototypeOf(Signup).call(this));_this.sendSignup=function(event){event.preventDefault();var _this$state=_this.state,username=_this$state.username,password=_this$state.password;_this.service.signup(username,password).then(function(response){console.log(\"response sing\",response);_this.setState({username:\"\",password:\"\"});_this.props.getUser(response.user);debugger;}).catch(function(error){_this.setState({username:username,password:\"\",error:true});});};_this.state={username:\"\",password:\"\"};_this.service=new AuthService();return _this;}_createClass(Signup,[{key:\"changeState\",value:function changeState(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;this.setState(_defineProperty({},name,value));}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Signup\"),React.createElement(\"form\",{onSubmit:this.sendSignup},React.createElement(\"input\",{placeholder:\"User Name\",name:\"username\",value:this.state.username,type:\"text\",onChange:function onChange(e){return _this2.changeState(e);}}),React.createElement(\"input\",{placeholder:\"Password\",name:\"password\",value:this.state.password,type:\"password\",onChange:function onChange(e){return _this2.changeState(e);}}),React.createElement(\"input\",{type:\"submit\",value:\"Sign up\"})),React.createElement(\"h1\",null,this.state.error?\"Something was wrong. Please, try again\":\"\"));}}]);return Signup;}(Component);export{Signup as default};","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/auth/Signup.jsx"],"names":["React","Component","AuthService","Signup","props","sendSignup","event","preventDefault","state","username","password","service","signup","then","response","console","log","setState","getUser","user","catch","error","e","target","name","value","changeState"],"mappings":"4uBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,GAEqBC,CAAAA,M,gEACnB,gBAAYC,KAAZ,CAAmB,wCACjB,0EADiB,MAgBnBC,UAhBmB,CAgBP,SAACC,KAAD,CAAW,CACrBA,KAAK,CAACC,cAAN,GADqB,gBAEQ,MAAKC,KAFb,CAEdC,QAFc,aAEdA,QAFc,CAEJC,QAFI,aAEJA,QAFI,CAIrB,MAAKC,OAAL,CAAaC,MAAb,CAAoBH,QAApB,CAA8BC,QAA9B,EACCG,IADD,CACM,SAAAC,QAAQ,CAAI,CAChBC,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BF,QAA7B,EACA,MAAKG,QAAL,CAAc,CACZR,QAAQ,CAAE,EADE,CAEZC,QAAQ,CAAE,EAFE,CAAd,EAIA,MAAKN,KAAL,CAAWc,OAAX,CAAmBJ,QAAQ,CAACK,IAA5B,EACA,SACD,CATD,EAUCC,KAVD,CAUO,SAAAC,KAAK,CAAG,CACb,MAAKJ,QAAL,CAAc,CACZR,QAAQ,CAAEA,QADE,CAEZC,QAAQ,CAAE,EAFE,CAGZW,KAAK,CAAE,IAHK,CAAd,EAKD,CAhBD,EAkBD,CAtCkB,CAEjB,MAAKb,KAAL,CAAY,CACVC,QAAQ,CAAC,EADC,CAEVC,QAAQ,CAAE,EAFA,CAAZ,CAIA,MAAKC,OAAL,CAAe,GAAIT,CAAAA,WAAJ,EAAf,CANiB,aAOlB,C,mEAEWoB,C,CAAG,eACSA,CAAC,CAACC,MADX,CACNC,IADM,WACNA,IADM,CACAC,KADA,WACAA,KADA,CAEb,KAAKR,QAAL,oBACGO,IADH,CACWC,KADX,GAGD,C,uCA0BQ,iBACP,MACE,gCACE,uCADF,CAEE,4BAAM,QAAQ,CAAE,KAAKpB,UAArB,EACE,6BAAO,WAAW,CAAC,WAAnB,CAA+B,IAAI,CAAC,UAApC,CAA+C,KAAK,CAAE,KAAKG,KAAL,CAAWC,QAAjE,CAA2E,IAAI,CAAC,MAAhF,CAAuF,QAAQ,CAAE,kBAACa,CAAD,QAAM,CAAA,MAAI,CAACI,WAAL,CAAiBJ,CAAjB,CAAN,EAAjG,EADF,CAEE,6BAAO,WAAW,CAAC,UAAnB,CAA8B,IAAI,CAAC,UAAnC,CAA8C,KAAK,CAAE,KAAKd,KAAL,CAAWE,QAAhE,CAA0E,IAAI,CAAC,UAA/E,CAA0F,QAAQ,CAAE,kBAACY,CAAD,QAAM,CAAA,MAAI,CAACI,WAAL,CAAiBJ,CAAjB,CAAN,EAApG,EAFF,CAGE,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,SAA3B,EAHF,CAFF,CAOE,8BAAK,KAAKd,KAAL,CAAWa,KAAX,CAAkB,wCAAlB,CAA6D,EAAlE,CAPF,CADF,CAYD,C,oBAtDiCpB,S,SAAfE,M","sourcesContent":["import React, { Component } from 'react'\nimport AuthService from \"./Authservice\";\n\nexport default class Signup extends Component {\n  constructor(props) {\n    super();\n    this.state= {\n      username:\"\",\n      password: \"\"\n    }\n    this.service = new AuthService();\n  }\n\n  changeState(e) {\n    const {name, value} = e.target;\n    this.setState({\n      [name] : value\n    })\n  }\n\n  sendSignup= (event) => {\n    event.preventDefault();\n    const {username, password} = this.state;\n\n    this.service.signup(username, password)\n    .then(response => {\n      console.log(\"response sing\", response)\n      this.setState({\n        username: \"\",\n        password: \"\"\n      });\n      this.props.getUser(response.user)\n      debugger\n    })\n    .catch(error=> {\n      this.setState({\n        username: username,\n        password: \"\",\n        error: true\n      })\n    })\n\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Signup</h1>\n        <form onSubmit={this.sendSignup}>\n          <input placeholder=\"User Name\" name=\"username\" value={this.state.username} type=\"text\" onChange={(e)=> this.changeState(e)}></input>\n          <input placeholder=\"Password\" name=\"password\" value={this.state.password} type=\"password\" onChange={(e)=> this.changeState(e)}></input>\n          <input type=\"submit\" value=\"Sign up\"></input>\n        </form>\n        <h1>{this.state.error? \"Something was wrong. Please, try again\" : \"\"}</h1>\n        \n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}