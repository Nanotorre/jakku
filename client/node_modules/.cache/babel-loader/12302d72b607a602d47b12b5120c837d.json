{"ast":null,"code":"import _defineProperty from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import AuthService from\"./Authservice\";import{Button,TextInput}from\"react-materialize\";var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_possibleConstructorReturn(this,_getPrototypeOf(Signup).call(this));_this.sendSignup=function(event){event.preventDefault();var _this$state=_this.state,username=_this$state.username,password=_this$state.password;_this.service.signup(username,password).then(function(response){_this.setState({username:\"\",password:\"\"});console.log(\"viuelta auth\",response);_this.props.getUser(response.user);}).catch(function(error){console.log(\"catch e\",error);_this.setState({username:username,password:password,error:true});});};_this.state={username:\"\",password:\"\"};_this.service=new AuthService();return _this;}_createClass(Signup,[{key:\"changeState\",value:function changeState(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;this.setState(_defineProperty({},name,value));}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"sign-container .fade-in\"},React.createElement(\"p\",null,\"Signup\"),React.createElement(\"form\",{onSubmit:this.sendSignup},React.createElement(TextInput,{label:\"Nombre\",value:this.state.username,type:\"text\",name:\"username\",onChange:function onChange(e){return _this2.changeState(e);}}),React.createElement(TextInput,{label:\"Contrase\\xF1a\",value:this.state.password,type:\"password\",name:\"password\",onChange:function onChange(e){return _this2.changeState(e);}}),React.createElement(Button,{type:\"submit\",value:\"Sign up\"},\"Signup\")),React.createElement(\"p\",null,this.state.error?\"Something was wrong. Please, try again\":\"\"));}}]);return Signup;}(Component);export{Signup as default};","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/auth/Signup.jsx"],"names":["React","Component","AuthService","Button","TextInput","Signup","props","sendSignup","event","preventDefault","state","username","password","service","signup","then","response","setState","console","log","getUser","user","catch","error","e","target","name","value","changeState"],"mappings":"4uBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,OAASC,MAAT,CAAiBC,SAAjB,KAAkC,mBAAlC,C,GAEqBC,CAAAA,M,gEACnB,gBAAYC,KAAZ,CAAmB,wCACjB,0EADiB,MAgBnBC,UAhBmB,CAgBP,SAACC,KAAD,CAAW,CACrBA,KAAK,CAACC,cAAN,GADqB,gBAEQ,MAAKC,KAFb,CAEdC,QAFc,aAEdA,QAFc,CAEJC,QAFI,aAEJA,QAFI,CAIrB,MAAKC,OAAL,CAAaC,MAAb,CAAoBH,QAApB,CAA8BC,QAA9B,EACCG,IADD,CACM,SAAAC,QAAQ,CAAI,CAEhB,MAAKC,QAAL,CAAc,CACZN,QAAQ,CAAE,EADE,CAEZC,QAAQ,CAAE,EAFE,CAAd,EAIAM,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BH,QAA5B,EACA,MAAKV,KAAL,CAAWc,OAAX,CAAmBJ,QAAQ,CAACK,IAA5B,EAED,CAVD,EAWCC,KAXD,CAWO,SAAAC,KAAK,CAAG,CACbL,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBI,KAAvB,EACA,MAAKN,QAAL,CAAc,CACZN,QAAQ,CAAEA,QADE,CAEZC,QAAQ,CAAEA,QAFE,CAGZW,KAAK,CAAE,IAHK,CAAd,EAKD,CAlBD,EAoBD,CAxCkB,CAEjB,MAAKb,KAAL,CAAY,CACVC,QAAQ,CAAC,EADC,CAEVC,QAAQ,CAAE,EAFA,CAAZ,CAIA,MAAKC,OAAL,CAAe,GAAIX,CAAAA,WAAJ,EAAf,CANiB,aAOlB,C,mEAEWsB,C,CAAG,eACSA,CAAC,CAACC,MADX,CACNC,IADM,WACNA,IADM,CACAC,KADA,WACAA,KADA,CAEb,KAAKV,QAAL,oBACGS,IADH,CACWC,KADX,GAGD,C,uCA4BQ,iBACP,MACE,4BAAK,SAAS,CAAC,yBAAf,EACO,sCADP,CAEE,4BAAM,QAAQ,CAAE,KAAKpB,UAArB,EACA,oBAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,CAA0B,KAAK,CAAE,KAAKG,KAAL,CAAWC,QAA5C,CAAsD,IAAI,CAAC,MAA3D,CAAkE,IAAI,CAAC,UAAvE,CAAkF,QAAQ,CAAE,kBAACa,CAAD,QAAM,CAAA,MAAI,CAACI,WAAL,CAAiBJ,CAAjB,CAAN,EAA5F,EADA,CAGA,oBAAC,SAAD,EAAW,KAAK,CAAC,eAAjB,CAA8B,KAAK,CAAE,KAAKd,KAAL,CAAWE,QAAhD,CAA0D,IAAI,CAAC,UAA/D,CAA2E,IAAI,CAAC,UAAhF,CAA4F,QAAQ,CAAE,kBAACY,CAAD,QAAM,CAAA,MAAI,CAACI,WAAL,CAAiBJ,CAAjB,CAAN,EAAtG,EAHA,CAKE,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,SAA5B,WALF,CAFF,CASE,6BAAI,KAAKd,KAAL,CAAWa,KAAX,CAAkB,wCAAlB,CAA6D,EAAjE,CATF,CADF,CAsBD,C,oBAlEiCtB,S,SAAfI,M","sourcesContent":["import React, { Component } from 'react'\nimport AuthService from \"./Authservice\";\nimport { Button, TextInput } from \"react-materialize\";\n\nexport default class Signup extends Component {\n  constructor(props) {\n    super();\n    this.state= {\n      username:\"\",\n      password: \"\"\n    }\n    this.service = new AuthService();\n  }\n\n  changeState(e) {\n    const {name, value} = e.target;\n    this.setState({\n      [name] : value\n    })\n  }\n\n  sendSignup= (event) => {\n    event.preventDefault();\n    const {username, password} = this.state;\n\n    this.service.signup(username, password)\n    .then(response => {\n  \n      this.setState({\n        username: \"\",\n        password: \"\"\n      });\n      console.log(\"viuelta auth\", response)\n      this.props.getUser(response.user)\n      \n    })\n    .catch(error=> {\n      console.log(\"catch e\", error)\n      this.setState({\n        username: username,\n        password: password,\n        error: true\n      });\n    })\n\n  }\n\n  render() {\n    return (\n      <div className=\"sign-container .fade-in\">\n             <p>Signup</p>\n        <form onSubmit={this.sendSignup} >\n        <TextInput label=\"Nombre\" value={this.state.username} type=\"text\" name=\"username\" onChange={(e)=> this.changeState(e)}></TextInput>\n  \n        <TextInput label=\"ContraseÃ±a\" value={this.state.password} type=\"password\"  name=\"password\"  onChange={(e)=> this.changeState(e)}/>\n \n          <Button type=\"submit\" value=\"Sign up\">Signup</Button>\n        </form>\n        <p>{this.state.error? \"Something was wrong. Please, try again\" : \"\"}</p>\n        \n        {/* <h1>Signup</h1>\n        <form onSubmit={this.sendSignup}>\n          <input placeholder=\"User Name\" name=\"username\" value={this.state.username} type=\"text\" onChange={(e)=> this.changeState(e)}></input>\n          <input placeholder=\"Password\" name=\"password\" value={this.state.password} type=\"password\" onChange={(e)=> this.changeState(e)}></input>\n          <input type=\"submit\" value=\"Sign up\"></input>\n        </form>\n        <h1>{this.state.error? \"Something was wrong. Please, try again\" : \"\"}</h1>\n         */}\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}