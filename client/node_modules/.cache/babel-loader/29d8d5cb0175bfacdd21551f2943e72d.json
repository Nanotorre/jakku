{"ast":null,"code":"import _defineProperty from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import AuthService from\"./Authservice\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.sendLogin=function(event){event.preventDefault();var _this$state=_this.state,username=_this$state.username,password=_this$state.password;_this.service.login(username,password).then(function(response){_this.setState({username:username,password:password,error:false});_this.props.userVerified(response);}).catch(function(error){_this.setState({username:username,password:password,error:true});});};_this.state={username:\"\",password:\"\"};_this.service=new AuthService();return _this;}_createClass(Login,[{key:\"changeState\",value:function changeState(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;//const {name, value} = e.target;\nthis.setState(_defineProperty({},name,value));}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Login\"),React.createElement(\"form\",{onSubmit:this.sendLogin},React.createElement(\"input\",{value:this.state.name,placeholder:\"User name\",name:\"username\",onChange:function onChange(e){return _this2.changeState(e);},type:\"text\"}),React.createElement(\"input\",{value:this.state.password,placeholder:\"Password\",name:\"password\",onChange:function onChange(e){return _this2.changeState(e);},type:\"password\"}),React.createElement(\"input\",{type:\"submit\",value:\"Login\"})),React.createElement(\"h1\",null,this.state.error?\"Login failed. Please, try again o signup.\":\"\"));}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/auth/Login.jsx"],"names":["React","Component","AuthService","Login","props","sendLogin","event","preventDefault","state","username","password","service","login","then","response","setState","error","userVerified","catch","e","target","name","value","changeState"],"mappings":"4uBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,GAEqBC,CAAAA,K,+DACnB,eAAYC,KAAZ,CAAmB,uCACjB,uEAAMA,KAAN,GADiB,MAgBnBC,SAhBmB,CAgBP,SAACC,KAAD,CAAW,CACrBA,KAAK,CAACC,cAAN,GADqB,gBAEQ,MAAKC,KAFb,CAEdC,QAFc,aAEdA,QAFc,CAEJC,QAFI,aAEJA,QAFI,CAIrB,MAAKC,OAAL,CAAaC,KAAb,CAAmBH,QAAnB,CAA6BC,QAA7B,EACCG,IADD,CACM,SAAAC,QAAQ,CAAI,CAChB,MAAKC,QAAL,CAAc,CACZN,QAAQ,CAAGA,QADC,CAEZC,QAAQ,CAAGA,QAFC,CAGZM,KAAK,CAAG,KAHI,CAAd,EAKA,MAAKZ,KAAL,CAAWa,YAAX,CAAwBH,QAAxB,EACD,CARD,EASCI,KATD,CASO,SAAAF,KAAK,CAAI,CACd,MAAKD,QAAL,CAAc,CACZN,QAAQ,CAAEA,QADE,CAEZC,QAAQ,CAAEA,QAFE,CAGZM,KAAK,CAAE,IAHK,CAAd,EAKD,CAfD,EAgBD,CApCkB,CAEjB,MAAKR,KAAL,CAAa,CACXC,QAAQ,CAAG,EADA,CAEXC,QAAQ,CAAG,EAFA,CAAb,CAIA,MAAKC,OAAL,CAAe,GAAIT,CAAAA,WAAJ,EAAf,CANiB,aAOlB,C,kEACWiB,C,CAAG,eACSA,CAAC,CAACC,MADX,CACNC,IADM,WACNA,IADM,CACAC,KADA,WACAA,KADA,CAEb;AACA,KAAKP,QAAL,oBACGM,IADH,CACWC,KADX,GAGD,C,uCAuBQ,iBACP,MACE,gCACE,sCADF,CAEE,4BAAM,QAAQ,CAAE,KAAKjB,SAArB,EACA,6BAAO,KAAK,CAAE,KAAKG,KAAL,CAAWa,IAAzB,CAA+B,WAAW,CAAC,WAA3C,CAAwD,IAAI,CAAC,UAA7D,CAAwE,QAAQ,CAAE,kBAAAF,CAAC,QAAE,CAAA,MAAI,CAACI,WAAL,CAAiBJ,CAAjB,CAAF,EAAnF,CAA0G,IAAI,CAAC,MAA/G,EADA,CAEA,6BAAO,KAAK,CAAE,KAAKX,KAAL,CAAWE,QAAzB,CAAmC,WAAW,CAAC,UAA/C,CAA2D,IAAI,CAAC,UAAhE,CAA2E,QAAQ,CAAE,kBAAAS,CAAC,QAAE,CAAA,MAAI,CAACI,WAAL,CAAiBJ,CAAjB,CAAF,EAAtF,CAA6G,IAAI,CAAC,UAAlH,EAFA,CAGA,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,OAA3B,EAHA,CAFF,CAOE,8BAAK,KAAKX,KAAL,CAAWQ,KAAX,CAAkB,2CAAlB,CAAgE,EAArE,CAPF,CADF,CAWD,C,mBAlDgCf,S,SAAdE,K","sourcesContent":["import React, { Component } from 'react';\nimport AuthService from \"./Authservice\";\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username : \"\",\n      password : \"\"\n    }\n    this.service = new AuthService();\n  }\n  changeState(e) {\n    const {name, value} = e.target;\n    //const {name, value} = e.target;\n    this.setState({\n      [name] : value\n    });\n  }\n\n  sendLogin = (event) => {\n    event.preventDefault();\n    const {username, password} = this.state;\n\n    this.service.login(username, password)\n    .then(response => {\n      this.setState({\n        username : username,\n        password : password,\n        error : false\n      });\n      this.props.userVerified(response)\n    })\n    .catch(error => {\n      this.setState({\n        username: username,\n        password: password,\n        error: true\n      });\n    })\n  }\n  render() {\n    return (\n      <div>\n        <h1>Login</h1>\n        <form onSubmit={this.sendLogin}>\n        <input value={this.state.name} placeholder=\"User name\"  name=\"username\" onChange={e=>this.changeState(e)} type=\"text\"></input>\n        <input value={this.state.password} placeholder=\"Password\"  name=\"password\" onChange={e=>this.changeState(e)} type=\"password\"></input>\n        <input type=\"submit\" value=\"Login\" />\n        </form>\n        <h1>{this.state.error? \"Login failed. Please, try again o signup.\" : \"\"}</h1>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}