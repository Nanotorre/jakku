{"ast":null,"code":"import _classCallCheck from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/fer/ironhack/week_8/jakku/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import ReactDOM from'react-dom';import scriptLoader from'react-async-script-loader';var PaypalButton=/*#__PURE__*/function(_React$Component){_inherits(PaypalButton,_React$Component);function PaypalButton(props){var _this;_classCallCheck(this,PaypalButton);_this=_possibleConstructorReturn(this,_getPrototypeOf(PaypalButton).call(this,props));_this.state={showButton:false};window.React=React;window.ReactDOM=ReactDOM;return _this;}_createClass(PaypalButton,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props=this.props,isScriptLoaded=_this$props.isScriptLoaded,isScriptLoadSucceed=_this$props.isScriptLoadSucceed;if(isScriptLoaded&&isScriptLoadSucceed){this.setState({showButton:true});}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){var isScriptLoaded=nextProps.isScriptLoaded,isScriptLoadSucceed=nextProps.isScriptLoadSucceed;var isLoadedButWasntLoadedBefore=!this.state.showButton&&!this.props.isScriptLoaded&&isScriptLoaded;if(isLoadedButWasntLoadedBefore){if(isScriptLoadSucceed){this.setState({showButton:true});}}}},{key:\"render\",value:function render(){var paypal=window.PAYPAL;var _this$props2=this.props,total=_this$props2.total,currency=_this$props2.currency,env=_this$props2.env,commit=_this$props2.commit,client=_this$props2.client,onSuccess=_this$props2.onSuccess,onError=_this$props2.onError,onCancel=_this$props2.onCancel;var showButton=this.state.showButton;var payment=function payment(){return paypal.rest.payment.create(env,client,{transactions:[{amount:{total:total,currency:currency}}]});};var onAuthorize=function onAuthorize(data,actions){return actions.payment.execute().then(function(){var payment={paid:true,cancelled:false,payerID:data.payerID,paymentID:data.paymentID,paymentToken:data.paymentToken,returnUrl:data.returnUrl};onSuccess(payment);});};return React.createElement(\"div\",null,showButton&&React.createElement(paypal.Button.react,{env:env,client:client,commit:commit,payment:payment,onAuthorize:onAuthorize,onCancel:onCancel,onError:onError,style:{size:'medium',color:'black',shape:'rect',label:'pay',tagline:'true'}}));}}]);return PaypalButton;}(React.Component);export default scriptLoader('https://www.paypalobjects.com/api/checkout.js')(PaypalButton);","map":{"version":3,"sources":["/Users/fer/ironhack/week_8/jakku/client/src/components/organisms/PPal.jsx"],"names":["React","ReactDOM","scriptLoader","PaypalButton","props","state","showButton","window","isScriptLoaded","isScriptLoadSucceed","setState","nextProps","isLoadedButWasntLoadedBefore","paypal","PAYPAL","total","currency","env","commit","client","onSuccess","onError","onCancel","payment","rest","create","transactions","amount","onAuthorize","data","actions","execute","then","paid","cancelled","payerID","paymentID","paymentToken","returnUrl","size","color","shape","label","tagline","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport scriptLoader from 'react-async-script-loader';\n\n\nclass PaypalButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showButton: false,\n    };\n    window.React = React;\n    window.ReactDOM = ReactDOM;\n  }\n  componentDidMount() {\n    const {\n      isScriptLoaded,\n      isScriptLoadSucceed\n    } = this.props;\n    if (isScriptLoaded && isScriptLoadSucceed) {\n      this.setState({ showButton: true });\n    }\n  }\n  componentWillReceiveProps(nextProps) {\n    const {\n      isScriptLoaded,\n      isScriptLoadSucceed,\n    } = nextProps;\n    const isLoadedButWasntLoadedBefore =\n      !this.state.showButton &&\n      !this.props.isScriptLoaded &&\n      isScriptLoaded;\n    if (isLoadedButWasntLoadedBefore) {\n      if (isScriptLoadSucceed) {\n        this.setState({ showButton: true });\n      }\n    }\n  }\n\n  \n  \n  render() {\n    const paypal = window.PAYPAL\n    const {\n      total,\n      currency,\n      env,\n      commit,\n      client,\n      onSuccess,\n      onError,\n      onCancel,\n    } = this.props;\n    const {\n      showButton,\n    } = this.state;\n    \n    const payment = () =>\n      paypal.rest.payment.create(env, client, {\n        transactions: [\n          {\n            amount: {\n              total,\n              currency,\n            }\n          },\n        ],\n      });\n    const onAuthorize = (data, actions) =>\n      actions.payment.execute()\n        .then(() => {\n          const payment = {\n            paid: true,\n            cancelled: false,\n            payerID: data.payerID,\n            paymentID: data.paymentID,\n            paymentToken: data.paymentToken,\n            returnUrl: data.returnUrl,\n          };\n          onSuccess(payment);\n        });\n    return (\n      <div>\n        {showButton && <paypal.Button.react\n          env={env}\n          client={client}\n          commit={commit}\n          payment={payment}\n          onAuthorize={onAuthorize}\n          onCancel={onCancel}\n          onError={onError}\n          style= {{\n            size: 'medium',\n            color: 'black',\n            shape: 'rect',\n            label: 'pay',\n            tagline: 'true'\n           }}\n        />}\n      </div>\n    );\n  }\n}\n\nexport default scriptLoader('https://www.paypalobjects.com/api/checkout.js')(PaypalButton);"]},"metadata":{},"sourceType":"module"}