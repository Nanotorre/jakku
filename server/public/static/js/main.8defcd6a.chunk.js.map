{"version":3,"sources":["img/boxMapIcon.png","components/auth/Authservice.js","components/auth/Login.jsx","components/auth/Signup.jsx","components/auth/GoogleAuth.jsx","RoutesService.js","components/auth/ModalLoginFirst.jsx","components/atoms/SearchBar.jsx","components/auth/ModalLogin.jsx","components/organisms/CardMap.jsx","components/atoms/Bidmarker.jsx","components/molecules/Bidmap.jsx","components/molecules/Bidmapcontainer.jsx","components/molecules/Card.jsx","components/organisms/AllProducts.jsx","components/organisms/AllProductsAndSearch.jsx","components/atoms/PreloaderSpinner.jsx","components/pages/Home.jsx","components/atoms/ButtonAdd.jsx","components/molecules/DelModalWarning.jsx","components/molecules/Productmap.jsx","components/molecules/Productmapcontainer.jsx","components/molecules/CollapsibleProducs.jsx","components/pages/ShowMyBid.jsx","components/pages/HomeLogged.jsx","components/atoms/LocationSearchInput.jsx","components/organisms/CreateBid.jsx","components/organisms/CreateProduct.jsx","components/organisms/AllProductsAndSearchOfBid.jsx","components/pages/ShowBid.jsx","components/organisms/Navbar.jsx","components/pages/ShowMyProduct.jsx","components/pages/ShowMyPurchases.jsx","components/organisms/PPal.jsx","components/pages/ShowProduct.jsx","components/auth/Auth.jsx","App.js","serviceWorker.js","index.js","img/box.svg"],"names":["module","exports","AuthService","signup","username","password","service","post","then","response","data","login","loggedin","get","logout","googleauth","this","axios","create","baseURL","process","withCredentials","Login","props","sendLogin","event","preventDefault","state","setState","error","userVerified","catch","e","target","name","value","className","onSubmit","label","onChange","changeState","type","Component","Signup","sendSignup","console","log","getUser","user","placeholder","RoutesService","errHandler","err","message","createBid","createProduct","addPicture","file","formData","FormData","append","headers","res","getProduct","id","buyProduct","put","getProducts","start","getMyBids","getBid","deleteProduct","delete","ModalLoginFirst","header","passText","trigger","class","waves","href","SearchBar","searchObj","products","forEach","product","updateSearch","options","icon","moment","locale","CardMap","transformDate","lang","dateTransformed","bid","deadLine","fromNow","textClassName","title","actions","to","_id","Bidmarker","toggleOpen","isOpen","closeMarkers","activeMarker","onClick","position","location","Box","maxWidth","defaultPosition","onCloseClick","onToggleOpen","toggleShowPage","React","Bidmap2","withScriptjs","withGoogleMap","zoom","zoomMap","markers","bids","map","idx","key","closeOtherMarkers","lat","coordinates","lng","defaultZoom","center","centerMap","Bidmapcontainer","componentDidMount","centerBid","mapSize","Bidmap","googleMapURL","loadingElement","style","height","containerElement","width","mapElement","Card","active","src","imgPath1","description","price","AllProducts","Fragment","AllProductsAndSearch","searchProducts","searchText","searchProductsResults","filter","toLowerCase","includes","makeSearch","PreloaderSpinner","color","size","Home","router","productsList","bidsId","push","alt","withRouter","ButtonAdd","DelModalWarning","deleteFunction","Productmap","Productmapcontainer","CollapsibleProducs","format","accordion","buyer","info","from","address","btnDel","deleteFromShow","ShowMyBid","fromApp","goBack","history","latlng","HomeLogged","sort","a","b","Math","random","loaded","LocationSearchInput","handleChange","handleSelect","geocodeByAddress","results","getLatLng","googleLatLng","formatted_address","changeValue","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","suggestion","backgroundColor","cursor","CreateBid","isBid","sent","routes","field","newState","newValue","htmlFor","updateFormData","sendState","CreateProduct","fromAppRefreshProducts","files","photo","photoData","handleSubmit","maxlength","AllProductsAndSearchOfBid","ShowBid","owner","imgPath","Navbar","logMeOut","yourbid","yourPurchases","data-target","edge","userView","background","image","divider","window","innerWidth","ShowProduct","productSelected","productId","change","ShowMyPurchases","getmyproducts","productsOwned","length","PaypalButton","showButton","ReactDOM","isScriptLoaded","isScriptLoadSucceed","nextProps","paypal","PAYPAL","total","currency","env","commit","client","onSuccess","onError","onCancel","Button","react","payment","rest","transactions","amount","onAuthorize","execute","paid","cancelled","payerID","paymentID","paymentToken","returnUrl","shape","tagline","scriptLoader","PAYPAL_CLIENT_ID","CLIENT","sandbox","productFromApp","buyFromApp","userId","PPal","Auth","App","userObj","loggedInUser","fetchUser","getGeoLocation","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","shuffled","exact","path","render","productsFromApp","changeStateBid","match","params","chosenProduct","variant","Boolean","hostname","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"+EAAAA,EAAOC,QAAU,s+D,mPCmCFC,EAhCb,aAAe,IAAD,gCAOdC,OAAS,SAACC,EAAUC,GAClB,OAAO,EAAKC,QAAQC,KAAK,UAAW,CAACH,WAAUC,aAC9CG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SATf,KAYdC,MAAQ,SAACP,EAAUC,GACjB,OAAO,EAAKC,QAAQC,KAAK,SAAU,CAACH,WAAUC,aAC7CG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAdf,KAiBdE,SAAW,WACT,OAAO,EAAKN,QAAQO,IAAI,gBACvBL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAnBf,KAsBdI,OAAS,WACP,OAAO,EAAKR,QAAQO,IAAI,WACvBL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAxBf,KA0BdK,WAAa,SAACX,EAAUC,GACtB,OAAO,EAAKC,QAAQO,IAAI,eAAgB,CAACT,WAAUC,aAClDG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SA3B3BM,KAAKV,QAAUW,IAAMC,OAAO,CAC1BC,QAAQ,GAAD,OAAKC,kCACZC,iBAAiB,K,OCFFC,E,YACnB,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KAcRC,UAAY,SAACC,GACXA,EAAMC,iBADe,MAEQ,EAAKC,MAA3BvB,EAFc,EAEdA,SAAUC,EAFI,EAEJA,SAEjB,EAAKC,QAAQK,MAAMP,EAAUC,GAC5BG,MAAK,SAAAC,GACJ,EAAKmB,SAAS,CACZxB,SAAWA,EACXC,SAAWA,EACXwB,OAAQ,IAEV,EAAKN,MAAMO,aAAarB,MAEzBsB,OAAM,SAAAF,GACL,EAAKD,SAAS,CACZxB,SAAUA,EACVC,SAAUA,EACVwB,OAAO,QA9BX,EAAKF,MAAQ,CACXvB,SAAW,GACXC,SAAW,IAEb,EAAKC,QAAU,IAAIJ,EANF,E,yEAQP8B,GAAI,IAAD,EACSA,EAAEC,OAAjBC,EADM,EACNA,KAAMC,EADA,EACAA,MACbnB,KAAKY,SAAL,eACGM,EAAQC,M,+BAyBH,IAAD,OACP,OACE,yBAAKC,UAAU,mBACb,oCACA,0BAAMC,SAAUrB,KAAKQ,WACrB,kBAAC,YAAD,CAAWc,MAAM,SAASH,MAAOnB,KAAKW,MAAMvB,SAAY8B,KAAK,WAAWK,SAAU,SAAAP,GAAC,OAAE,EAAKQ,YAAYR,IAAIS,KAAK,SAC/G,kBAAC,YAAD,CAAWH,MAAM,gBAAaH,MAAOnB,KAAKW,MAAMtB,SAAU6B,KAAK,WAAWK,SAAU,SAAAP,GAAC,OAAE,EAAKQ,YAAYR,IAAIS,KAAK,aACjH,kBAAC,SAAD,CAAQA,KAAK,SAASN,MAAM,UAA5B,UAEA,2BAAInB,KAAKW,MAAME,MAAO,4CAA8C,S,GA9CzCa,aCAdC,E,YACnB,WAAYpB,GAAQ,IAAD,8BACjB,+CAeFqB,WAAY,SAACnB,GACXA,EAAMC,iBADe,MAEQ,EAAKC,MAA3BvB,EAFc,EAEdA,SAAUC,EAFI,EAEJA,SAEjB,EAAKC,QAAQH,OAAOC,EAAUC,GAC7BG,MAAK,SAAAC,GAEJ,EAAKmB,SAAS,CACZxB,SAAU,GACVC,SAAU,KAEZwC,QAAQC,IAAI,eAAgBrC,GAC5B,EAAKc,MAAMwB,QAAQtC,EAASuC,SAG7BjB,OAAM,SAAAF,GACLgB,QAAQC,IAAI,UAAWjB,GACvB,EAAKD,SAAS,CACZxB,SAAUA,EACVC,SAAUA,EACVwB,OAAO,QAlCX,EAAKF,MAAO,CACVvB,SAAS,GACTC,SAAU,IAEZ,EAAKC,QAAU,IAAIJ,EANF,E,yEASP8B,GAAI,IAAD,EACSA,EAAEC,OAAjBC,EADM,EACNA,KAAMC,EADA,EACAA,MACbnB,KAAKY,SAAL,eACGM,EAAQC,M,+BA8BH,IAAD,OACP,OACE,yBAAKC,UAAU,2BACR,qCACL,0BAAMC,SAAUrB,KAAK4B,YACrB,kBAAC,YAAD,CAAWN,MAAM,SAASH,MAAOnB,KAAKW,MAAMvB,SAAUqC,KAAK,OAAOP,KAAK,WAAWK,SAAU,SAACP,GAAD,OAAM,EAAKQ,YAAYR,MAEnH,kBAAC,YAAD,CAAWM,MAAM,gBAAaH,MAAOnB,KAAKW,MAAMtB,SAAUoC,KAAK,WAAYP,KAAK,WAAYK,SAAU,SAACP,GAAD,OAAM,EAAKQ,YAAYR,MAE3H,kBAAC,SAAD,CAAQS,KAAK,SAASN,MAAM,WAA5B,WAEF,2BAAInB,KAAKW,MAAME,MAAO,yCAA2C,S,GAtDrCa,aCDfpB,E,YACnB,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KAcRC,UAAY,SAACC,GACXA,EAAMC,iBADe,MAEQ,EAAKC,MAA3BvB,EAFc,EAEdA,SAAUC,EAFI,EAEJA,SAEjB,EAAKC,QAAQS,WAAWX,EAAUC,GACjCG,MAAK,SAAAC,GAEJ,EAAKmB,SAAS,CACZxB,SAAWA,EACXC,SAAWA,EACXwB,OAAQ,IAEV,EAAKN,MAAMwB,QAAQtC,EAASuC,SAE7BjB,OAAM,SAAAF,GAEL,EAAKD,SAAS,CACZxB,SAAUA,EACVC,SAAUA,EACVwB,OAAO,QAhCX,EAAKF,MAAQ,CACXvB,SAAW,GACXC,SAAW,IAEb,EAAKC,QAAU,IAAIJ,EANF,E,yEAQP8B,GAAI,IAAD,EACSA,EAAEC,OAAjBC,EADM,EACNA,KAAMC,EADA,EACAA,MACbnB,KAAKY,SAAL,eACGM,EAAQC,M,+BA2BH,IAAD,OACP,OACE,6BACE,iDACA,0BAAME,SAAUrB,KAAKQ,WACrB,2BAAOW,MAAOnB,KAAKW,MAAMvB,SAAU6C,YAAY,YAAaf,KAAK,WAAWK,SAAU,SAAAP,GAAC,OAAE,EAAKQ,YAAYR,IAAIS,KAAK,SACnH,2BAAON,MAAOnB,KAAKW,MAAMtB,SAAU4C,YAAY,WAAYf,KAAK,WAAWK,SAAU,SAAAP,GAAC,OAAE,EAAKQ,YAAYR,IAAIS,KAAK,aAClH,2BAAOA,KAAK,SAASN,MAAM,WAE3B,4BAAKnB,KAAKW,MAAME,MAAO,4CAA8C,S,GAhD1Ca,aCkFpBQ,EAlFb,aAAe,IAAD,gCAOdC,WAAa,SAAAC,GAEX,GAAIA,EAAI3C,UAAY2C,EAAI3C,SAASC,KAE/B,MAAM0C,EAAI3C,SAASC,KAAK2C,QAE1B,MAAMD,GAbM,KAgBdE,UAAY,SAAC3B,GACX,OAAO,EAAKrB,QAAQC,KAAK,kBAAmB,CAACoB,UAC5CnB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAC1BqB,MAAM,EAAKoB,aAnBA,KAsBdI,cAAgB,SAAC5B,GACf,OAAO,EAAKrB,QAAQC,KAAK,sBAAuB,CAACoB,UAChDnB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAC1BqB,MAAM,EAAKoB,aAzBA,KA2BdK,WAAa,SAACC,GACZ,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClB,EAAKnD,QACTC,KAAK,4BAA6BmD,EAAU,CAC3CG,QAAS,CACP,eAAgB,yBAGnBrD,MAAK,SAAAsD,GAAG,OAAIA,EAAIpD,QAChBqB,MAAM,EAAKoB,aArCF,KAuCdY,WAAa,SAACC,GACZ,OAAO,EAAK1D,QAAQO,IAAb,+BAAyCmD,IAC/CxD,MAAK,SAAAC,GAAQ,OACbA,EAASC,QACTqB,MAAM,EAAKoB,aA3CA,KA6Cdc,WAAa,SAACD,GACZ,OAAO,EAAK1D,QAAQ4D,IAAb,4BAAsCF,IAC5CxD,MAAK,SAAAC,GAAQ,OACZA,EAASC,QACVqB,MAAM,EAAKoB,aAjDA,KAmDdgB,YAAa,WACX,OAAO,EAAK7D,QAAQO,IAAI,wBACvBL,MAAK,SAAAC,GAAQ,OAAGA,EAASC,QACzBqB,MAAM,EAAKoB,aAtDA,KAwDdiB,MAAO,WACL,OAAO,EAAK9D,QAAQO,IAAI,iBACvBL,MAAK,SAAAC,GAAQ,OAAGA,EAASC,QACzBqB,MAAM,EAAKoB,aA3DA,KA6DdkB,UAAW,WACT,OAAO,EAAK/D,QAAQO,IAAI,wBACvBL,MAAK,SAAAC,GAAQ,OAAGA,EAASC,QACzBqB,MAAM,EAAKoB,aAhEA,KAkEdmB,OAAS,SAACN,GACR,OAAO,EAAK1D,QAAQO,IAAb,2BAAqCmD,IAC3CxD,MAAK,SAAAC,GAAQ,OAAGA,EAASC,QACzBqB,MAAM,EAAKoB,aArEA,KAuEdoB,cAAe,SAACP,GACd,OAAO,EAAK1D,QAAQkE,OAAb,yBAAsCR,IAC5CxD,MAAK,SAAAC,GAAQ,OAAGA,EAASC,QACzBqB,MAAM,EAAKoB,aAzEZnC,KAAKV,QAAUW,IAAMC,OAAO,CAE1BC,QAAQ,GAAD,OAAKC,kCACZC,iBAAiB,KCFFoD,E,iLAEjB,OACE,yBAAKrC,UAAU,yBACb,kBAAC,QAAD,CACEsC,OAAQ1D,KAAKO,MAAMoD,SAEnBC,QACE,uBAAGC,MAAM,uDACP,uBAAGA,MAAM,kBAAT,SASJ,yBAAKzC,UAAU,kBACb,6DAEA,kBAAC,SAAD,CAAQ0C,MAAM,QAAQ1C,UAAU,oBAC9B,uBAAG2C,KAAI,UAAK3D,iCAAL,iBAAP,iBAIF,kBAAC,EAAD,MACA,kBAAC,EAAD,a,GA3BiCsB,aCaxBsC,GCZmBtC,Y,iLDa5B,IAAD,OACHuC,EAAU,GAMd,OALAjE,KAAKO,MAAM2D,SAASC,SAAQ,SAAAC,GAAO,OAAGH,EAAUG,EAAQlD,MAAO,QAC/DW,QAAQC,IAAImC,GAKV,yBAAK7C,UAAU,cACb,8BACE,yBAAKA,UAAU,sBAaV,kBAAC,eAAD,CAELG,SAAU,SAAAP,GAAC,OAAI,EAAKT,MAAM8D,aAAarD,EAAEC,OAAOE,QAChDM,KAAK,OACLP,KAAK,SACL8B,GAAG,SACH1B,MAAM,yBACNF,UAAU,eACVkD,QAAS,CAAC5E,KAAMuE,GAChBhC,YAAY,yBACZsC,KAAM,kBAAC,OAAD,wB,GAlCuB7C,c,uCEZvC8C,IAAOC,OAAO,M,IAEOC,E,YACnB,WAAYnE,GAAQ,IAAD,8BACjB,4CAAMA,KAKRoE,cAAgB,WACdH,IAAOI,KAAK,MAEZ,IAAMC,EAAiBL,IAAO,EAAKjE,MAAMuE,IAAIC,UAAUC,UAEvD,OADAnD,QAAQC,IAAI+C,GACL,2BAAIA,IATX,EAAKlE,MAAM,GAFM,E,sEAgBjB,OACE,yBAAKS,UAAU,sBAET,kBAAC,OAAD,CAEEA,UAAU,kBACV6D,cAAc,aACdC,MAAM,GACNC,QAAS,CAAC,kBAAC,IAAD,CAASC,GAAE,eAAUpF,KAAKO,MAAMuE,IAAIO,MAApC,qBAEV,iDAAuBrF,KAAK2E,uB,GA3BLjD,a,kBCFhB4D,E,YACnB,WAAY/E,GAAQ,IAAD,8BACjB,4CAAMA,KAORgF,WAAa,WAEX,EAAK3E,SAAS,CAAC4E,QAAS,EAAK7E,MAAM6E,SAAS,WACnC,EAAK7E,MAAM6E,OAKd,EAAKjF,MAAMkF,aAAa,EAAKlF,MAAMyC,IAJnC,EAAKpC,SAAS,CAAC8E,cAAc,IAAQ,WACnC,EAAKnF,MAAMkF,aAAa,aAXhC,EAAK9E,MAAQ,CACX6E,QAAQ,EACRE,cAAc,GAJC,E,sEAkCjB,OAEI,kBAAC,SAAD,CAAQC,QAAS3F,KAAKuF,WACpBK,SAAU5F,KAAKO,MAAMsF,SACrBtB,KAAMuB,KAEN9F,KAAKW,MAAM6E,QAAUxF,KAAKW,MAAM+E,aAChC,kBAAC,aAAD,CAAYK,SAAU,IAAKC,gBAAkBhG,KAAKO,MAAMsF,SAAWI,aAAcjG,KAAKO,MAAM2F,cAC1F,kBAAC,EAAD,CAASC,eAAgBnG,KAAKO,MAAM4F,eAAgBrB,IAAK9E,KAAKO,MAAMuE,OACtD,U,GA5CasB,IAAM1E,WC+B9B2E,EA/BCC,uBAAaC,yBAAc,SAAChG,GAE1C,IACIiG,EAAM,GACPjG,EAAMkG,UACPD,EAAKjG,EAAMkG,SAGb,IAAIC,EAAUnG,EAAMoG,KAAKC,KAAK,SAAC9B,EAAK+B,GAAN,aAAc,kBAAC,GAAD,GAC1B/B,IAAKA,EACLgC,IAAKD,EACL7D,GAAI8B,EAAIO,IACRI,aAAclF,EAAMwG,kBACpBlB,SAAU,CAACmB,IAAIlC,EAAIe,SAASoB,YAAY,GAAIC,IAAKpC,EAAIe,SAASoB,YAAY,IAC1Ed,eAAgB5F,EAAM4F,gBANI,6BAOZ5F,EAAMwG,mBAPM,6BAQXjC,EAAIO,MAAQ9E,EAAMmF,cARP,OAU5C,OAEI,kBAAC,YAAD,CACEyB,YAAaX,EACbY,OAAS,CAAEJ,IAAMzG,EAAM8G,UAAUL,IAAME,IAAK3G,EAAM8G,UAAUH,MAGzDR,O,6jBC3BUY,E,YAEnB,WAAY/G,GAAQ,IAAD,8BACjB,4CAAMA,KAORwG,kBAAoB,SAAC/D,GACrB,EAAKpC,SAAS,CAAC8E,aAAc1C,KATV,EAWnBuE,kBAAoB,WACf,EAAKhH,MAAMiH,UACZ,EAAK5G,SAAL,KACK,EAAKD,MADV,CAEE0G,UAAW,EAAK9G,MAAMiH,aAIxB,EAAK5G,SAAL,KACK,EAAKD,MADV,CAEE0G,UAAW,EAAK9G,MAAM8G,cAnB1B,EAAK1G,MAAQ,CACX+E,aAAa,MAHE,E,sEA6BjB,IAAI+B,EAAS,CAAC,GAAI,KAIpB,OAHKzH,KAAKO,MAAMkH,UACZA,EAAQzH,KAAKO,MAAMkH,SAGtB,kBAACC,EAAD,CACKf,KAAM3G,KAAKO,MAAMoG,KACjBU,UAAWrH,KAAKW,MAAM0G,UAC1BM,aAAY,gIACZC,eAAgB,yBAAKC,MAAO,CAAEC,OAAO,UACrCC,iBAAkB,yBAAKF,MAAO,CAAEC,OAAO,GAAD,OAAKL,EAAQ,GAAb,MAAqBO,MAAM,GAAD,OAAKP,EAAQ,GAAb,SAC5DQ,WAAY,yBAAKJ,MAAO,CAAEC,OAAO,UACjCrB,QAASzG,KAAKO,MAAMkG,QACpBf,aAAc1F,KAAKW,MAAM+E,aACzBqB,kBAAmB/G,KAAK+G,kBACxBZ,eAAgBnG,KAAKO,MAAM4F,qB,GA9CUC,IAAM1E,WCD9BwG,E,iLACT,IAAD,OACP,OAMQ,yBAAKrE,MAAM,QACX,kBAAC,IAAD,CAASuB,GAAE,mBAAcpF,KAAKO,MAAM6D,QAAQiB,KAAMjE,UAAS,uBAAkBpB,KAAKO,MAAMsG,MACnF7G,KAAKO,MAAM6D,QAAQ+D,OAElB,yBAAKtE,MAAM,cACX,yBAAKuE,IAAKpI,KAAKO,MAAM6D,QAAQiE,WAC7B,yBAAKjH,UAAU,yBACf,uBAAGA,UAAU,oBAAoBpB,KAAKO,MAAM6D,QAAQkE,eAKpD,yBAAKzE,MAAM,cACZ,uBAAGA,MAAM,yBAAT,QACC,uBAAGzC,UAAU,WAAb,WACA,yBAAKA,UAAU,aAAagH,IAAKpI,KAAKO,MAAM6D,QAAQiE,YAQxD,yBAAKxE,MAAM,gBACT,yBAAKzC,UAAU,mBACf,uBAAGA,UAAU,cAAcpB,KAAKO,MAAM6D,QAAQmE,MAA9C,YAEA,0BAAM1E,MAAM,cAAc7D,KAAKO,MAAM6D,QAAQlD,QAK/C,yBAAK2C,MAAM,eACT,uBAAGzC,UAAU,WAAW2C,KAAI,eAAU/D,KAAKO,MAAM6D,QAAQU,IAAIO,KAAOM,QAAS,kBAAI9D,QAAQC,IAAI,EAAKvB,MAAM6D,WAAxG,yB,GAzCkB1C,aCCb8G,E,iLASjB,OACE,kBAAC,IAAMC,SAAP,KACGzI,KAAKO,MAAM2D,SAAS0C,KAAI,SAACxC,EAASyC,GACjC,OAaK,kBAAC,EAAD,CACDzC,QAASA,EACTyC,IAAKA,Y,GA3BsBnF,a,kOCCpBgH,E,YACnB,WAAYnI,GAAQ,IAAD,8BACjB,4CAAMA,KACDI,MAAO,CACVuD,SAAU3D,EAAM2D,SAChByE,eAAgBpI,EAAM2D,UAJP,E,wEAUR0E,GACT,IAAMC,EAAwB7I,KAAKW,MAAMuD,SAAS4E,QAAO,SAAA1E,GAAO,OAC9DA,EAAQlD,KAAK6H,cAAcC,SAASJ,EAAWG,kBAGjD/I,KAAKY,S,yVAAL,IACKZ,KAAKW,MADV,CAEEgI,eAAgBE,O,+BAUV,IAAD,OACP,OACE,yBAAKzH,UAAU,wBACL,yBAAKA,UAAU,qBACdpB,KAAKO,MAAM2E,MAAO,2BAAIlF,KAAKO,MAAM2E,OAEhC,wBAAI9D,UAAU,iBAAd,iEACF,kBAAC,EAAD,CACEuF,KAAM3G,KAAKO,MAAMoG,KACjBU,UAAWrH,KAAKO,MAAM8G,UACtBG,UAAWxH,KAAKO,MAAMiH,UACtBf,QAASzG,KAAKO,MAAMkG,QACpBgB,QAASzH,KAAKO,MAAMkH,WAGtB,yBAAKrG,UAAU,gBACf,wBAAIA,UAAU,iBAAd,2CACA,kBAAC,EAAD,CACE8C,SAAUlE,KAAKW,MAAMgI,eACrBtE,aAAc,SAAAuE,GAAU,OAAI,EAAKK,WAAWL,OAI7C,yBAAKxH,UAAU,kBAChB,kBAAC,EAAD,CAAa8C,SAAUlE,KAAKW,MAAMgI,uB,GApDAjH,aCD7BwH,E,iLAEjB,OAEI,6BACA,kBAAC,YAAD,CAAW9H,UAAU,YAAY+H,MAAM,MAAMC,KAAK,a,GALZ1H,a,kOCOxC2H,E,YACJ,WAAY9I,GAAQ,IAAD,8BACjB,4CAAMA,KACDI,MAAQ,CACXgG,KAAM,KACNzC,SAAU,MAEZ,EAAKoF,OAAS,IAAIpH,EAND,E,iFASE,IAAD,OAClBlC,KAAKsJ,OAAOnG,cAAc3D,MAAK,SAAAC,GAC7B,IAAIkH,EAAOlH,EAASmH,KAAI,SAAAxC,GAAO,OAAIA,EAAQU,OAC3C6B,EAAKxC,SAAQ,SAAAW,GAAG,OACdA,EAAIyE,aAAa3C,KAAI,SAAA5D,GAAE,OACrBvD,EAASqJ,QAAO,SAAA1E,GAAO,OAAIA,EAAQiB,MAAQrC,WAG/C,IAAIwG,EAAS,GACb7C,EAAOA,EAAKmC,QAAO,SAAAhE,GACjB,OAAI0E,EAAOR,SAASlE,EAAIO,OAGtBmE,EAAOC,KAAK3E,EAAIO,MACT,MAGX,EAAKzE,S,yVAAL,IACK,EAAKD,MADV,CAEEuD,SAAUzE,EACVkH,KAAMA,EACNU,UAAW,EAAK9G,MAAM8G,kB,+BAO1B,OACE,yBAAKjG,UAAU,QACb,yBAAKA,UAAU,mBAEf,oDAC6B,6BAD7B,iCAEmC,6BAFnC,oBAKA,yBAAKgH,IAAI,cAAcsB,IAAI,sBAM3B,kBAAC,OAAD,CAAMtI,UAAU,qDACd,kBAAC,MAAD,CAAK8D,MAAM,iBAAiB9D,UAAU,WACpC,yBAAKA,UAAU,kBAEb,iGAC+D,6BAD/D,4BAQF,qHAOA,0BAAMA,UAAU,YACd,4BACE,wBAAIA,UAAU,QACZ,uBAAGyC,MAAM,yBAAT,mBACA,uBAAGzC,UAAU,YAAb,KACA,8CACA,2JAMF,wBAAIA,UAAU,QACZ,uBAAGyC,MAAM,yBAAT,cACA,uBAAGzC,UAAU,YAAb,KACA,gEACA,wLAEF,wBAAIA,UAAU,YACZ,uBAAGyC,MAAM,yBAAT,eACA,uBAAGzC,UAAU,YAAb,KACA,6CACA,8EAGF,wBAAIA,UAAU,QACZ,uBAAGyC,MAAM,yBAAT,YACA,uBAAGzC,UAAU,YAAb,KACA,0CACA,gHAIN,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,gBACrB,2BAAOA,UAAU,eAAjB,iBACA,kBAAC,EAAD,CAAiBuC,SAAU,+CAKzB,kBAAC,MAAD,CAAKuB,MAAM,oBAAoBiD,QAAM,GACnC,yBAAK/G,UAAU,oBACjB,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACf,qEAGA,6FAIA,yBAAKA,UAAU,YAAYgH,IAAI,gBAAgBsB,IAAI,eAGlD1J,KAAKW,MAAMuD,UAAYlE,KAAKW,MAAMgG,MAAQ3G,KAAKW,MAAM0G,UACpD,kBAAC,IAAMoB,SAAP,KACE,kBAAC,EAAD,CACAhC,QAAS,GACPE,KAAM3G,KAAKW,MAAMgG,KACjBU,UAAWrH,KAAKO,MAAM8G,UACtBnD,SAAUlE,KAAKO,MAAM2D,SACrBuD,QAAS,CAAC,GAAG,QAIjB,kBAAC,EAAD,c,GA1IK/F,aAsJJiI,cAAWN,GC9JLO,E,YACnB,WAAYrJ,GAAQ,qEACZA,I,sEAKJ,OAAIP,KAAKO,MAAMuE,IAEX,yBAAK1D,UAAU,+BACb,yBAAKA,UAAU,gBACnB,2BAAOA,UAAU,eAAjB,iBACA,kBAAC,IAAD,CAASgE,GAAI,cAAevB,MAAM,sEAC5B,uBAAGA,MAAM,kBAAT,UAOJ,yBAAKzC,UAAU,+BACxB,yBAAKA,UAAU,gBACR,2BAAOA,UAAU,eAAjB,cACA,kBAAC,IAAD,CAASgE,GAAI,kBAAmBvB,MAAM,sEAChC,uBAAGA,MAAM,kBAAT,c,GAxByBnC,aCAlBmI,E,iLACT,IAAD,OACP,OACE,yBAAKzI,UAAU,8BACb,kBAAC,QAAD,CACEsC,OAAQ1D,KAAKO,MAAMoD,SACnBC,QAEI,uBAAGC,MAAM,kBAAT,WAKJ,yBAAKzC,UAAU,0BACb,qFAEA,kBAAC,SAAD,CAAQ0C,MAAM,QAAQ1C,UAAU,kCAAkCuE,QAAS,kBAAI,EAAKpF,MAAMuJ,mBAA1F,YAGA,kBAAC,SAAD,CAAQhG,MAAM,QAAQ1C,UAAU,mCAAhC,iB,GAnBiCM,aCiC9BqI,EA9BIzD,uBAAaC,yBAAc,SAAChG,GAC7C,IACIiG,EAAM,GACPjG,EAAMkG,UACPD,EAAKjG,EAAMkG,SAGb,IAAIC,EAAUnG,EAAM2D,SAAS0C,KAAK,SAACxC,EAASyC,GAAV,aAAkB,kBAAC,GAAD,GAClCzC,QAASA,EACT0C,IAAKD,EACL7D,GAAIoB,EAAQiB,IACZI,aAAclF,EAAMwG,kBACpBlB,SAAU,CAACmB,IAAI5C,EAAQU,IAAIe,SAASoB,YAAY,GAAIC,IAAK9C,EAAQU,IAAIe,SAASoB,YAAY,IAC1Fd,eAAgB5F,EAAM4F,gBANY,6BAOpB5F,EAAMwG,mBAPc,6BAQnB3C,EAAQiB,MAAQ9E,EAAMmF,cARH,OAUpD,OAEI,kBAAC,YAAD,CACEyB,YAAaX,EACbY,OAAS,CAAEJ,IAAMzG,EAAM8G,UAAUL,IAAME,IAAK3G,EAAM8G,UAAUH,MAGzDR,OC1BUsD,E,YAEnB,WAAYzJ,GAAQ,IAAD,8BACjB,4CAAMA,KAORwG,kBAAoB,SAAC/D,GACrB,EAAKpC,SAAS,CAAC8E,aAAc1C,KAP3B,EAAKrC,MAAQ,CACX+E,aAAa,MAHE,E,sEAejB,IAAI+B,EAAS,CAAC,GAAI,KAIpB,OAHKzH,KAAKO,MAAMkH,UACZA,EAAQzH,KAAKO,MAAMkH,SAGtB,kBAAC,EAAD,CACKvD,SAAUlE,KAAKO,MAAM2D,SACrBmD,UAAWrH,KAAKO,MAAM8G,UAC1BM,aAAY,gIACZC,eAAgB,yBAAKC,MAAO,CAAEC,OAAO,UAEjCC,iBAAkB,yBAAKF,MAAO,CAAEC,OAAO,GAAD,OAAKL,EAAQ,GAAb,MAAqBO,MAAM,GAAD,OAAKP,EAAQ,GAAb,SAChEQ,WAAY,yBAAKJ,MAAO,CAAEC,OAAO,UACjCrB,QAASzG,KAAKO,MAAMkG,QACpBf,aAAc1F,KAAKW,MAAM+E,aACzBqB,kBAAmB/G,KAAK+G,kBACxBZ,eAAgBnG,KAAKO,MAAM4F,qB,GAjCcC,IAAM1E,WCGvD8C,IAAOC,OAAO,M,IAEOwF,E,YACnB,WAAY1J,GAAQ,IAAD,8BACjB,4CAAMA,KAeRoE,cAAgB,SAAAI,GAGd,OAFAP,IAAOC,OAAO,MACUD,IAAOO,GAAUmF,OAAO,OAlB/B,E,sEAsBT,IAAD,OACP,OAAIlK,KAAKO,MAAM2D,UAAYlE,KAAKO,MAAMyB,KAElC,yBAAKZ,UAAU,yBACb,kBAAC,cAAD,CAAa+I,WAAW,GACrBnK,KAAKO,MAAM2D,SAAS0C,KAAI,SAACxC,EAASyC,GACjC,OAAIzC,EAAQgG,OAAS,EAAK7J,MAAMyB,KAAKqD,IAEjC,kBAAC,kBAAD,CACEyB,IAAKD,EAGLwD,KACE,yBAAKjJ,UAAU,wBACb,uBAAGA,UAAU,wBAAwBgD,EAAQlD,MAE7C,uBAAGE,UAAU,4BAAb,eACe,EAAKuD,cAAcP,EAAQU,IAAIC,UAAW,IADzD,MAEMX,EAAQU,IAAIwF,KAFlB,MAE2BlG,EAAQU,IAAIM,MAK3C,yBAAKhE,UAAU,gBACb,yBAAKA,UAAU,yBACb,yBACEA,UAAU,sBACVgH,IAAKhE,EAAQiE,SACbqB,IAAI,mBAGR,2BAAItF,EAAQkE,aACZ,2BACE,8BAAOlE,EAAQmE,MAAf,YAEF,yBAAKnH,UAAU,uBACb,uBAAGA,UAAU,sBAAsBgD,EAAQU,IAAIe,SAAS0E,SAC1D,kBAAC,EAAD,CACErG,SAAU,CAACE,GACXqC,QAAS,GACTgB,QAAS,CAAC,GAAI,KACdJ,UAAW,CACTL,IAAK5C,EAAQU,IAAIe,SAASoB,YAAY,GACtCC,IAAK9C,EAAQU,IAAIe,SAASoB,YAAY,SAS9C,kBAAC,kBAAD,CAGEuD,OACE,kBAAC,EAAD,CACEV,eAAgB,kBACd,EAAKvJ,MAAMkK,eAAerG,EAAQiB,QAKxCyB,IAAKD,EACLwD,KACEjG,EAAQ+D,OACN,yBAAK/G,UAAU,cACb,uBAAGA,UAAU,iBAAiBgD,EAAQlD,OAGxC,yBAAKE,UAAU,cACb,2BAAIgD,EAAQlD,MACZ,yBAAKE,UAAU,gBACb,uBAAGyC,MAAM,yBAAT,QACA,uBAAGzC,UAAU,gBAAb,cASR,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,uCACb,yBACEA,UAAU,4BACVgH,IAAKhE,EAAQiE,SACbqB,IAAI,mBAGR,yBAAKtI,UAAU,oBACb,2BACE,8BAAOgD,EAAQmE,MAAf,YAEF,2BAAInE,EAAQkE,qBAWvB,kBAAC,EAAD,U,GAjImC5G,a,yjBCIhD8C,IAAOC,OAAO,M,IAERiG,E,YACJ,WAAYnK,GAAQ,IAAD,8BACjB,4CAAMA,KAORgH,kBAAoB,WAalB,EAAKhH,MAAMoK,UAAUnL,MAAK,WACxB,EAAKoB,SAAL,KACK,EAAKD,MADV,CAEEqB,KAAM,EAAKzB,MAAMyB,KACjBkC,SAAU,EAAK3D,MAAMyB,KAAKkC,gBAzBb,EA8BnBX,cAAgB,SAAAP,GACdnB,QAAQC,IAAIkB,GACZnB,QAAQC,IAAI,YACZ,EAAKwH,OAAO/F,cAAcP,GAAIxD,MAAK,SAAAwC,GACjC,EAAKpB,SAAL,KACK,EAAKD,MADV,CAEEqB,KAAMA,EACNkC,SAAUlC,EAAKkC,gBArCF,EA0CnB0G,OAAS,WACP,EAAKrK,MAAMsK,QAAQpB,KAAK,MA3CP,EA8CnB9E,cAAgB,WACdH,IAAOI,KAAK,MACZ,IAAMC,EAAkBL,IAAO,EAAKjE,MAAMyB,KAAK8C,IAAIC,UAAUmF,OAAO,MACpE,OAAO,2BAAIrF,IA/CX,EAAKlE,MAAQ,CACXqB,KAAM,EAAKzB,MAAMyB,KACjBoC,QAAS,EAAK7D,MAAMyB,KAAKkC,UAE3B,EAAKoF,OAAS,IAAIpH,EAND,E,gFAoDA4I,GAGjB,MAAO,CAAC,CAAE9D,IAFE8D,EAAO,GAEJ5D,IADH4D,EAAO,O,+BAIX,IAAD,OACP,OAAI9K,KAAKO,MAAMyB,KAAK8C,IACd9E,KAAKW,MAAMqB,KAAKkC,SAEhB,yBAAK9C,UAAU,sBACb,uBAAGA,UAAU,YACX,uBAAGyC,MAAM,wBAAwB8B,QAAS3F,KAAK4K,QAA/C,eAIF,8DACA,yBAAKxJ,UAAU,WACb,yBAAKA,UAAU,kBACf,wBAAIA,UAAU,cAAd,YACE,yBAAKA,UAAU,WAEb,yBAAKA,UAAU,kBACb,8DAC6B,IAC3B,8BAAOpB,KAAK2E,iBAAwB,KAEtC,wCACY,8BAAO3E,KAAKO,MAAMyB,KAAK8C,IAAIwF,MADvC,SAC0D,IACxD,8BAAOtK,KAAKO,MAAMyB,KAAK8C,IAAIM,KAE7B,iCACK,8BAAOpF,KAAKO,MAAMyB,KAAK8C,IAAIe,SAAS0E,WAG3C,kBAAC,EAAD,CACErF,MAAO,gCACPyB,KAAM,CAAC3G,KAAKO,MAAMyB,KAAK8C,KACvB0C,UAAWxH,KAAKO,MAAMiH,UACtBf,QAAS,GAETY,UAAW,CACTL,IAAKhH,KAAKO,MAAMyB,KAAK8C,IAAIe,SAASoB,YAAY,GAC9CC,IAAKlH,KAAKO,MAAMyB,KAAK8C,IAAIe,SAASoB,YAAY,IAEhDQ,QAAS,CAAC,GAAI,SAIpB,yBAAKrG,UAAU,iBACb,yBAAKA,UAAU,SACb,wBAAIA,UAAU,aAAd,aAEA,kBAAC,EAAD,CACE8C,SAAUlE,KAAKW,MAAMuD,SACrBlC,KAAMhC,KAAKW,MAAMqB,KACjByI,eAAgB,SAAAzH,GAAE,OAAI,EAAKO,cAAcP,MAE3C,kBAAC,EAAD,CACEoB,SAAS,EACTT,SAAS,8BAQd,kBAAC,EAAD,MAIP,yBAAKvC,UAAU,sBACb,gEACA,kBAAC,EAAD,CAAW0D,KAAK,S,GA/HFpD,aAqITiI,cAAWe,G,mOCvIpBK,G,YACJ,WAAYxK,GAAQ,IAAD,8BACjB,4CAAMA,KACDI,MAAQ,CACXuD,SAAU3D,EAAM2D,SAChByE,eAAgBpI,EAAM2D,SACtByC,KAAM,MAER,EAAK2C,OAAS,IAAIpH,EAPD,E,iFAUE,IAAD,OAClBlC,KAAKsJ,OAAOnG,cAAc3D,MAAK,SAAAC,GAC7B,IAAIkH,EAAOlH,EAASmH,KAAI,SAAAxC,GAAO,OAAIA,EAAQU,OAC3C6B,EAAKxC,SAAQ,SAAAW,GAAG,OACdA,EAAIyE,aAAa3C,KAAI,SAAA5D,GAAE,OACrBvD,EAASqJ,QAAO,SAAA1E,GAAO,OAAIA,EAAQiB,MAAQrC,WAG/CnB,QAAQC,IAAI,OAAQ6E,GACpB,IAAI6C,EAAS,GACb7C,EAAOA,EAAKmC,QAAO,SAAAhE,GACjB,OAAI0E,EAAOR,SAASlE,EAAIO,MACtBxD,QAAQC,IAAI,YAAagD,EAAIO,MACtB,IAGPxD,QAAQC,IAAI,eAAgBgD,EAAIO,KAChCmE,EAAOC,KAAK3E,EAAIO,MACT,MAGX5F,EAASuL,MAAK,SAACC,EAAGC,GAAJ,OAAUC,KAAKC,SAAW,MACxC,EAAKxK,S,2VAAL,IACK,EAAKD,MADV,CAEEuD,SAAUzE,EACVkH,KAAMA,EACNU,UAAW,EAAK9G,MAAM8G,UACtBgE,QAAQ,U,+BAMZ,OAAKrL,KAAKO,MAAMyB,KAAK8C,IAoCjB,yBAAK1D,UAAU,oBACb,yBAAKA,UAAU,mBACb,kDAAuB,6BAAvB,mBACA,yBAAKgH,IAAI,cAAcsB,IAAI,sBAK7B,kBAAC,OAAD,CAAMtI,UAAU,qDACd,kBAAC,MAAD,CAAK8D,MAAM,iBAAiB9D,UAAU,WACpC,yBAAKA,UAAU,wBACb,6FACA,kBAAC,EAAD,CAAWgD,SAAS,MAIxB,kBAAC,MAAD,CAAKc,MAAM,oBAAoBiD,QAAM,GAClCnI,KAAKW,MAAM0K,QACZrL,KAAKW,MAAMgG,MACX3G,KAAKW,MAAMuD,UACXlE,KAAKW,MAAM0G,UACT,kBAAC,EAAD,CACEV,KAAM3G,KAAKW,MAAMgG,KACjBU,UAAWrH,KAAKW,MAAM0G,UACtBnD,SAAUlE,KAAKW,MAAMuD,WAGvB,kBAAC,EAAD,SA7DR,yBAAK9C,UAAU,oBACb,yBAAKA,UAAU,mBACb,oDACuB,6BADvB,iCAC2D,6BAD3D,oBAIA,yBAAKgH,IAAI,cAAcsB,IAAI,sBAE7B,kBAAC,OAAD,CAAMtI,UAAU,qDACd,kBAAC,MAAD,CAAK8D,MAAM,iBAAiB9D,UAAU,WACpC,yBAAKA,UAAU,wBACb,iFACA,kBAAC,EAAD,CAAW0D,KAAK,MAIpB,kBAAC,MAAD,CAAKI,MAAM,oBAAoBiD,QAAM,GAClCnI,KAAKW,MAAMuD,UACZlE,KAAKW,MAAMgG,MACX3G,KAAKW,MAAM0G,UACT,kBAAC,EAAD,CACEV,KAAM3G,KAAKW,MAAMgG,KACjBU,UAAWrH,KAAKO,MAAM8G,UACtBnD,SAAUlE,KAAKO,MAAM2D,WAGvB,kBAAC,EAAD,a,GAxESxC,aAqHViI,eAAWoB,I,wmBC5HLO,G,YACnB,WAAY/K,GAAQ,IAAD,8BACjB,4CAAMA,KAQRgL,aAAe,SAAAhB,GACb,EAAK3J,SAAL,MAAmB,EAAKD,MAAxB,CAA+B4J,cAVd,EAanBiB,aAAe,SAAAjB,GACbkB,4BAAiBlB,GACd/K,MAAK,SAAAkM,GACJC,qBAAUD,EAAQ,IAAIlM,MAAK,SAAAoM,GACzB,EAAKhL,SAAL,MACK,EAAKD,MADV,CAEE4J,QAASmB,EAAQ,GAAGG,kBACpB7E,IAAK4E,EAAa5E,IAClBE,IAAK0E,EAAa1E,OAEpB,EAAK4E,oBAIR/K,OAAM,SAAAF,GAAK,OAAIgB,QAAQhB,MAAM,QAASA,OAzBzC,EAAKF,MAAQ,CACX4J,QAAS,GACTvD,IAAK,KACLE,IAAK,MALU,E,2EA8BjBlH,KAAKO,MAAMiB,YAAYxB,KAAKW,S,+BAI5B,OACE,yBAAKS,UAAU,4BAIb,kBAAC,KAAD,CACED,MAAOnB,KAAKW,MAAM4J,QAClBhJ,SAAUvB,KAAKuL,aACfQ,SAAU/L,KAAKwL,eAEd,gBACCQ,EADD,EACCA,cACAC,EAFD,EAECA,YACAC,EAHD,EAGCA,uBACAC,EAJD,EAICA,QAJD,OAMC,yBAAK/K,UAAU,kBACb,0BACM4K,EAAc,CAChB/J,YAAa,oBACbb,UAAW,2BAGf,yBAAKA,UAAU,mCACZ+K,GAAW,2CACXF,EAAYrF,KAAI,SAAAwF,GACf,IAAMhL,EAAYgL,EAAWjE,OACzB,0BACA,kBAEEN,EAAQuE,EAAWjE,OACrB,CAAEkE,gBAAiB,UAAWC,OAAQ,WACtC,CAAED,gBAAiB,UAAWC,OAAQ,WAC1C,OACE,wBACMJ,EAAuBE,EAAY,CACrChL,YACAyG,UAGF,8BAAOuE,EAAW9D,2B,GA3ESlC,IAAM1E,W,ikBCgBjD6K,G,YACJ,WAAYhM,GAAQ,IAAD,8BACjB,+CA0CFoE,cAAgB,WACdH,IAAOI,KAAK,MACZ,IAAMC,EAAiBL,IAAO,EAAK7D,MAAMoE,UAAUmF,OAAO,QAE1D,OADArI,QAAQC,IAAI+C,GACL,2BAAIA,IA/CM,EAiDnB0C,kBAAkB,WACb,EAAKhH,MAAMyB,KAAK8C,KACjB,EAAKlE,SAAL,MACK,EAAKD,MADV,CAEE6L,OAAO,MAnDX,EAAK7L,MAAQ,CACX8L,MAAM,EACND,OAAO,GAET,EAAKE,OAAS,IAAIxK,EAND,E,4EAQJlB,EAAE2L,GACf,IAAIC,EAAQ,MACP5M,KAAKW,OAEViM,EAASD,GAAS3L,EAAEC,OAAOE,MAE3BnB,KAAKY,SAASgM,K,gCAGN5L,GAAI,IAAD,OACXA,EAAEN,iBACFV,KAAKY,SAAL,MACKZ,KAAKW,MADV,CAEE8L,MAAM,KAERzM,KAAK0M,OAAOpK,UAAUtC,KAAKW,OAC1BnB,MAAK,WAEJ,EAAKe,MAAMoK,QAAQ,EAAKhK,UAGzBI,OAAM,SAAAC,GAAC,OAAIa,QAAQC,IAAId,Q,kCAGd6L,GACV7M,KAAKY,SAAL,MACKZ,KAAKW,MADV,CAEEkF,SAAU,CACRmB,IAAK6F,EAAS7F,IACdE,IAAK2F,EAAS3F,IACdqD,QAASsC,EAAStC,c,+BAqBd,IAAD,OACP,OAAGvK,KAAKW,MAAM6L,MAEV,yBAAKpL,UAAU,qBACf,4DACA,kBAAC,EAAD,OAQEpB,KAAKW,MAAM8L,MAsBb5K,QAAQC,IAAI9B,KAAKW,OAEf,yBAAKS,UAAU,cACf,yBAAKA,UAAU,yBACb,0CACC,0CAAe,8BAAOpB,KAAK2E,kBAC9B,qEAAuC,8BAAO3E,KAAKW,MAAM2J,MAAzD,MAAwE,8BAAOtK,KAAKW,MAAMyE,KAC1F,iCAAM,8BAAOpF,KAAKW,MAAMkF,SAAS0E,UAajC,qEACA,kBAAC,IAAD,CAASnF,GAAE,kBAAqBhE,UAAU,WAA1C,qBAzCA,yBAAKA,UAAU,cACf,yBAAKA,UAAU,wBACb,+CACF,8BACE,2BAAQ0L,QAAQ,aAAhB,6BACA,2BAAOrL,KAAK,OAAOoC,MAAM,aAAa5B,YAAY,kCAAkCf,KAAK,MAAM8B,GAAG,YAAYzB,SAAU,SAAAP,GAAC,OAAI,EAAK+L,eAAe/L,EAAG,eACpJ,2BAAO8L,QAAQ,QAAf,oBACA,2BAAOrL,KAAK,OAAOQ,YAAY,+BAA+Bf,KAAK,OAAQK,SAAU,SAAAP,GAAC,OAAI,EAAK+L,eAAe/L,EAAG,WACjH,2BAAO8L,QAAQ,OAAf,+BACA,2BAAOrL,KAAK,OAAOQ,YAAY,sCAAmCf,KAAK,MAAOK,SAAU,SAAAP,GAAC,OAAI,EAAK+L,eAAe/L,EAAG,SACpH,2BAAO8L,QAAQ,YAAf,qBACA,kBAAC,GAAD,CAAqBtL,YAAa,SAAAqL,GAAQ,OAAI,EAAKrL,YAAYqL,IAC/D1L,MAAOnB,KAAKW,MAAMQ,MAAOD,KAAK,WAAWe,YAAY,iBAAiBV,SAAU,SAAAP,GAAC,OAAI,EAAK+L,eAAe/L,EAAG,eAC5G,4BAASI,UAAU,YAAYuE,QAAS,SAAA3E,GAAC,OAAI,EAAKgM,UAAUhM,KAA5D,qC,GAxFYU,aA8HTiI,eAAW4C,I,ikBC5IpBU,G,YACJ,WAAY1M,GAAQ,IAAD,8BACjB,4CAAMA,KA8DRqK,OAAQ,WACN,EAAKrK,MAAMsK,QAAQD,UA9DnB,EAAKjK,MAAQ,CACX8B,KAAM,KACN4F,SAAU,4DAGVvD,IAAK,MAEP,EAAK4H,OAAS,IAAIxK,EATD,E,4EAWJlB,EAAG2L,GAChB,IAAIC,EAAQ,MACP5M,KAAKW,OAEViM,EAASD,GAAS3L,EAAEC,OAAOE,MAE3BnB,KAAKY,SAASgM,K,gCAGN5L,GAAI,IAAD,OACXA,EAAEN,iBACFV,KAAK0M,OAAOnK,cAAcvC,KAAKW,OAC9BnB,MAAK,WACJ,EAAKe,MAAMoK,UACX,EAAKpK,MAAM2M,yBACX,EAAK3M,MAAMsK,QAAQpB,KAAK,kB,mCAKfzI,GAGXhB,KAAKY,SAAL,MACKZ,KAAKW,MADV,CAEE8B,KAAMzB,EAAEC,OAAOkM,MAAM,Q,mCAIZnM,EAAGoM,GAAQ,IAAD,OACrBpM,EAAEN,iBACFV,KAAK0M,OAAOlK,WAAWxC,KAAKW,MAAM8B,MAAMjD,MAAK,SAAA6N,GAC3C,EAAKzM,SAAL,MACK,EAAKD,MADV,eAEGyM,EAAQC,U,0CAMO,IAAD,OACnBrN,KAAK0M,OAAOrJ,YACX7D,MAAK,SAAAC,GAEJ,EAAKmB,SAAL,MACK,EAAKD,MADV,CAEEmE,IAAKrF,EAAS,GAAG4F,Y,+BAUb,IAAD,OACP,OAAGrF,KAAKO,MAAMuE,IAEV,yBAAK1D,UAAU,4BACb,uBAAGA,UAAU,YAAW,uBAAGyC,MAAM,wBAAwB8B,QAAS3F,KAAK4K,QAA/C,eACxB,oDACA,yBAAKxJ,UAAU,YACf,yBAAKA,UAAU,gBACf,oCACA,yBAAKA,UAAU,mBACf,yBAAKgH,IAAKpI,KAAKW,MAAM0H,SAAUqB,IAAI,qBAEnC,yBAAKtI,UAAU,yBAGb,0BAAMC,SAAU,SAAAL,GAAC,OAAI,EAAKsM,aAAatM,EAAG,cACxC,2BAAOI,UAAU,aAAaK,KAAK,OAAOF,SAAU,SAAAP,GAAC,OAAI,EAAKuK,aAAavK,MAD7E,IACoF,6BAClF,4BAAQS,KAAK,SAASL,UAAU,cAAhC,mBAIJ,8BACE,wCACA,2BAAO0L,QAAQ,QAAf,UACA,2BACErL,KAAK,OACLQ,YAAY,kCACZf,KAAK,OACL8B,GAAG,aACHzB,SAAU,SAAAP,GAAC,OAAI,EAAK+L,eAAe/L,EAAG,WAExC,2BAAO8L,QAAQ,eAAf,kBACA,2BACErL,KAAK,OACLQ,YAAY,uBACZf,KAAK,cACLK,SAAU,SAAAP,GAAC,OAAI,EAAK+L,eAAe/L,EAAG,gBACtCuM,UAAU,QAEZ,2BAAOT,QAAQ,SAAf,UACA,2BACErL,KAAK,SACLQ,YAAY,SACZf,KAAK,QACLK,SAAU,SAAAP,GAAC,OAAI,EAAK+L,eAAe/L,EAAG,YAGxC,uBAAGI,UAAU,yBAAyBuE,QAAS,SAAA3E,GAAC,OAAI,EAAKgM,UAAUhM,KAAnE,iBASN,kBAAC,IAAMyH,SAAP,KACE,iGACA,kBAAC,EAAD,CAAW3D,KAAK,S,GA9HIpD,aAuIbiI,eAAWsD,I,mOC1ILO,G,YACnB,WAAYjN,GAAQ,IAAD,8BACjB,4CAAMA,KACDI,MAAO,CACVuD,SAAU3D,EAAM2D,SAChByE,eAAgBpI,EAAM2D,UAJP,E,wEAUR0E,GACT,IAAMC,EAAwB7I,KAAKW,MAAMuD,SAAS4E,QAAO,SAAA1E,GAAO,OAC9DA,EAAQlD,KAAK6H,cAAcC,SAASJ,EAAWG,kBAGjD/I,KAAKY,S,2VAAL,IACKZ,KAAKW,MADV,CAEEgI,eAAgBE,O,+BAUV,IAAD,OACP,OACE,yBAAKzH,UAAU,wBAEL,yBAAKA,UAAU,gBACf,wBAAIA,UAAU,iBAAd,yBACA,kBAAC,EAAD,CACE8C,SAAUlE,KAAKW,MAAMgI,eACrBtE,aAAc,SAAAuE,GAAU,OAAI,EAAKK,WAAWL,OAI7C,yBAAKxH,UAAU,kBAChB,kBAAC,EAAD,CAAa8C,SAAUlE,KAAKW,MAAMgI,uB,GAzCKjH,a,+NCIvD8C,IAAOC,OAAO,M,IAERgJ,G,YACJ,WAAYlN,GAAQ,IAAD,8BACjB,4CAAMA,KAqBRqK,OAAS,WACP,EAAKrK,MAAMsK,QAAQD,UAvBF,EAyBnBjG,cAAgB,WACdH,IAAOI,KAAK,MACZ,IAAMC,EAAkBL,IAAO,EAAK7D,MAAMmE,IAAIC,UAAUmF,OAAO,MAC/D,OAAO,2BAAIrF,IA1BX,EAAKlE,MAAQ,CACXmE,IAAK,MAEP,EAAKwE,OAAS,IAAIpH,EALD,E,iFAQE,IAAD,OAClBlC,KAAKsJ,OAAOhG,OAAOtD,KAAKO,MAAMyC,IAAIxD,MAAK,SAAAsF,GACrC,IAAM0C,EAAY,CAChBR,IAAKlC,EAAIe,SAASoB,YAAY,GAC9BC,IAAKpC,EAAIe,SAASoB,YAAY,IAEhC,EAAKrG,S,2VAAL,IACK,EAAKD,MADV,CAEEmE,MACA0C,YACAH,UAAW,EAAK9G,MAAM8G,kB,+BAc1B,OAAIrH,KAAKW,MAAMmE,KAAO9E,KAAKW,MAAM0G,UAE7B,yBAAKjG,UAAU,wBACb,gDACA,yBAAKA,UAAU,iBACf,uBAAGA,UAAU,YACP,uBAAGyC,MAAM,wBAAwB8B,QAAS3F,KAAK4K,QAA/C,eAIN,yBAAKxJ,UAAU,sBACf,kBAAC,EAAD,CACIqF,QAAS,GACTvB,MAAO,gCACPyB,KAAM,CAAC3G,KAAKW,MAAMmE,KAClBuC,UAAWrH,KAAKW,MAAM0G,UACtBG,UAAWxH,KAAKW,MAAM6G,UACtBC,QAAS,CAAC,GAAI,OAEhB,yBAAKrG,UAAU,sBAEb,yBAAKA,UAAU,YACf,iDACkB,8BAAOpB,KAAK2E,iBAD9B,aAEE,8BAAO3E,KAAKW,MAAMmE,IAAIwF,MAFxB,UAE2C,8BAAOtK,KAAKW,MAAMmE,IAAIM,MAGjE,yBAAKhE,UAAU,2BACf,yBAAKA,UAAU,2BACf,yBAAKA,UAAU,gBAAgBgH,IAAKpI,KAAKW,MAAMmE,IAAI4I,MAAMC,WAEzD,2BAAI3N,KAAKW,MAAMmE,IAAI4I,MAAMtO,cAS7B,kBAAC,GAAD,CACE8F,MAAO,gCACPhB,SAAUlE,KAAKW,MAAMmE,IAAIyE,gBAaxB,kBAAC,EAAD,U,GAxFS7H,aA4FPiI,eAAW8D,I,oBCjGpBG,G,YACJ,WAAYrN,GAAQ,IAAD,8BACjB,4CAAMA,KAERT,OAAS,SAAAkB,GACP,EAAKT,MAAMsN,SAAS7M,GACpB,EAAKT,MAAMsK,QAAQpB,KAAK,MALP,EAOnBtK,OAAS,SAAA6B,GACP,EAAKT,MAAMsK,QAAQpB,KAAK,YARP,EAUnBqE,QAAU,WACR,EAAKvN,MAAMsK,QAAQpB,KAAK,cAXP,EAanBsE,cAAgB,WACd,EAAKxN,MAAMsK,QAAQpB,KAAK,kBAdP,E,sEAqDT,IAAD,OACP,OAAIzJ,KAAKO,MAAMyB,KAEX,kBAAC,IAAMyG,SAAP,KACE,6BACE,yBAAK5E,MAAM,eACT,kBAAC,IAAD,CAASuB,GAAI,IAAKhE,UAAU,iCAC1B,yBAAKgH,IAAKtC,KAAK1E,UAAU,aAD3B,SAiBA,6BACE,uBACE2C,KAAK,IACLiK,cAAY,cACZ5M,UAAU,qCAETpB,KAAKO,MAAMyB,KAAK5C,SACjB,yBACEgC,UAAU,mCACVgH,IAAKpI,KAAKO,MAAMyB,KAAK2L,QACrBjE,IAAI,wBAQR,kBAAC,UAAD,CACEtI,UAAU,UACV4B,GAAG,cACHY,QAAS,uBAAGC,MAAM,mBAClBS,QAAkC,CAAE2J,KAAM,UAE1C,kBAAC,cAAD,CACEC,UAAQ,EACRlM,KAAM,CACJmM,WAAW,GAAD,OAAKnO,KAAKO,MAAMyB,KAAK2L,SAC/BS,MAAM,GAAD,OAAKtI,MACV5E,KAAK,GAAD,OAAKlB,KAAKO,MAAMyB,KAAK5C,aAG7B,kBAAC,cAAD,CAAa2E,KAAK,SAASQ,KAAK,kBAAhC,aAMA,kBAAC,cAAD,CAAaT,OAAK,EAAC6B,QAAS3F,KAAK+N,eAAjC,mBAGA,kBAAC,cAAD,CAAajK,OAAK,EAAC6B,QAAS3F,KAAK8N,SAAjC,cAGA,kBAAC,cAAD,CAAaO,SAAO,IACpB,kBAAC,cAAD,CAAavK,OAAK,EAAC6B,QAAS3F,KAAKF,QAAjC,cAWV,kBAAC,IAAM2I,SAAP,KACE,6BACE,yBAAK5E,MAAM,eACT,kBAAC,IAAD,CAASuB,GAAI,IAAKhE,UAAU,cAC1B,yBAAKgH,IAAKtC,KAAK1E,UAAU,aAD3B,SAKA,wBAAIyC,MAAM,+BAMV,yBAAKzC,UAAU,0BACb,uBAAG2C,KAAK,IAAIiK,cAAY,cAAcnK,MAAM,mBAC1C,uBAAGA,MAAM,kBAAT,QACA,yBAAKzC,UAAU,qBAAoB,kBAAC,IAAD,CAASA,UAAU,UAAUgE,GAAI,WAAjC,aAEpCkJ,OAAOC,YAAc,IACpB,+BAEH,kBAAC,UAAD,CACAnN,UAAU,UACV4B,GAAG,cACHY,QAAS,uBAAGC,MAAM,mBAClBS,QAAkC,CAAE2J,KAAM,UAE1C,kBAAC,cAAD,CACEC,UAAQ,EACRlM,KAAM,CACJmM,WACE,wEACFC,MAAM,GAAD,OAAKtI,MACV5E,KAAK,cAGT,kBAAC,cAAD,CACE6C,KAAK,SACLQ,KAAK,iBACLoB,QAAS,SAAA3E,GAAC,OAAI,EAAK7B,OAAO6B,KAH5B,oB,GA1KMU,aA4LNiI,eAAWiE,I,mOC/LLY,G,YACnB,WAAYjO,GAAQ,IAAD,8BACjB,4CAAMA,KACDI,MAAQ,CACXyD,QAAS,IAHM,E,iFAOE,IAAD,OAClBpE,KAAKO,MAAMoK,UACX,IAAM8D,EAAkBzO,KAAKO,MAAMyB,KAAKkC,SAAS4E,QAC/C,SAAA1E,GAAO,OAAIA,EAAQiB,KAAO,EAAK9E,MAAMmO,aACrC,GACF1O,KAAKY,S,2VAAL,IACKZ,KAAKW,MADV,CAEEyD,QAASqK,O,+BAIH,IAAD,OACP,OACE,kBAAC,IAAMhG,SAAP,KACA,4CACA,6BACE,yBAAKL,IAAKpI,KAAKW,MAAMyD,QAAQiE,SAAUqB,IAAI,kBAG3C,4BAAK1J,KAAKW,MAAMyD,QAAQlD,MACxB,2BAAIlB,KAAKW,MAAMyD,QAAQkE,aACvB,sCAAYtI,KAAKW,MAAMyD,QAAQmE,MAA/B,WACA,4BAAQ5C,QAAS,SAAA3E,GAAC,OAAI,EAAK2N,OAAO3N,KAAlC,gB,GA9BiCU,a,mOCGnCkN,G,YACJ,WAAYrO,GAAQ,IAAD,8BACjB,4CAAMA,KAgBRsO,cAAc,WACZ,IAAMC,EAAgB,EAAKvO,MAAM2D,SAAS4E,QAAO,SAAA1E,GAC/C,QAAQA,EAAQgG,OAAQhG,EAAQgG,OAAS,EAAK7J,MAAMyB,KAAKqD,OAK3D,EAAKzE,S,2VAAL,IACK,EAAKD,MADV,CAEEuD,SAAU4K,MA1BK,EA8BnBlE,OAAQ,WACN,EAAKrK,MAAMsK,QAAQpB,KAAK,MA7BxB,EAAK9I,MAAQ,CACZuD,SAAS,MAHO,E,mHA4DjB,OAAGlE,KAAKO,MAAM2D,UAAYlE,KAAKO,MAAMyB,KAEhChC,KAAKO,MAAM2D,SAAS6K,OAAO,EAE1B,yBAAK3N,UAAU,uBAIf,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,sBAGd,uBAAGA,UAAU,YAAW,uBAAGyC,MAAM,wBAAwB8B,QAAS3F,KAAK4K,QAA/C,eACzB,mDACA,kBAAC,EAAD,CACA1G,SAAUlE,KAAKO,MAAM2D,SAAUlC,KAAMhC,KAAKO,MAAMyB,SASlD,yBAAKZ,UAAU,uBACf,yBAAKA,UAAU,kBACjB,uBAAGA,UAAU,YAAW,uBAAGyC,MAAM,wBAAwB8B,QAAS3F,KAAK4K,QAA/C,eACtB,iEAUF,kBAAC,EAAD,U,GAlGsBlJ,aA4GfiI,eAAWiF,I,qBC7GpBI,G,YACJ,WAAYzO,GAAQ,IAAD,8BACjB,4CAAMA,KACDI,MAAQ,CACXsO,YAAY,GAEdX,OAAOlI,MAAQA,IACfkI,OAAOY,SAAWA,IAND,E,iFAQE,IAAD,EAIdlP,KAAKO,MAFP4O,EAFgB,EAEhBA,eACAC,EAHgB,EAGhBA,oBAEED,GAAkBC,GACpBpP,KAAKY,SAAS,CAAEqO,YAAY,M,gDAGNI,GAAY,IAElCF,EAEEE,EAFFF,eACAC,EACEC,EADFD,qBAGCpP,KAAKW,MAAMsO,aACXjP,KAAKO,MAAM4O,gBACZA,GAEIC,GACFpP,KAAKY,SAAS,CAAEqO,YAAY,M,+BAQhC,IAAMK,EAAShB,OAAOiB,OADf,EAWHvP,KAAKO,MARPiP,EAHK,EAGLA,MACAC,EAJK,EAILA,SACAC,EALK,EAKLA,IACAC,EANK,EAMLA,OACAC,EAPK,EAOLA,OACAC,EARK,EAQLA,UACAC,EATK,EASLA,QACAC,EAVK,EAULA,SAGAd,EACEjP,KAAKW,MADPsO,WA2BF,OACE,yBAAK7N,UAAU,cACZ6N,GAAc,kBAACK,EAAOU,OAAOC,MAAf,CACbP,IAAKA,EACLE,OAAQA,EACRD,OAAQA,EACRO,QA9BU,kBACdZ,EAAOa,KAAKD,QAAQhQ,OAAOwP,EAAKE,EAAQ,CACtCQ,aAAc,CACZ,CACEC,OAAQ,CACNb,QACAC,iBAyBJa,YApBc,SAAC5Q,EAAMyF,GAAP,OAClBA,EAAQ+K,QAAQK,UACb/Q,MAAK,WACJ,IAAM0Q,EAAU,CACdM,MAAM,EACNC,WAAW,EACXC,QAAShR,EAAKgR,QACdC,UAAWjR,EAAKiR,UAChBC,aAAclR,EAAKkR,aACnBC,UAAWnR,EAAKmR,WAElBhB,EAAUK,OAUVH,SAAUA,EACVD,QAASA,EACTjI,MAAQ,CACNuB,KAAM,SACND,MAAO,QACP2H,MAAO,OACPxP,MAAO,MACPyP,QAAS,e,GA3FM3K,IAAM1E,WAmGlBsP,QAAa,gDAAbA,CAA8DhC,I,6jBChG7ExK,IAAOC,OAAO,MACJrE,+MAAY6Q,iBAAtB,IAEMC,GAAS,CACbC,QACE,oFAKE3C,G,YACJ,WAAYjO,GAAQ,IAAD,8BACjB,4CAAMA,KAyBRqK,OAAS,WACP,EAAKrK,MAAMsK,QAAQD,UA3BF,EA6BnBjG,cAAgB,WAKd,OAJAH,IAAOC,OAAO,MACUD,IAAO,EAAKjE,MAAM6D,QAAQU,IAAIC,UAAUmF,OAC9D,OA9BF,EAAKvJ,MAAQ,CACXyD,QAAS,EAAK7D,MAAM6D,SAHL,E,iFAME,IAAD,OAClBpE,KAAKO,MAAM6Q,iBAAiB5R,MAAK,SAAA4E,GAC/B,EAAKxD,SAAL,MACK,EAAKD,MADV,CAEEyD,QAAS,EAAK7D,MAAM6D,WAEtBvC,QAAQC,IAAI,mBAAoB,EAAKvB,MAAM6D,c,+BAI7CpE,KAAKO,MAAM6Q,iBACXpR,KAAKY,SAAL,MACKZ,KAAKW,MADV,CAEEyD,QAASpE,KAAKO,MAAM6D,WAEtBvC,QAAQC,IAAI,OAAQ9B,KAAKW,S,4BAGzBX,KAAKO,MAAM8Q,WAAWrR,KAAKO,MAAM6D,QAAQiB,O,+BAajC,IAYgB,EAZjB,OAYP,OAFAxD,QAAQC,IAAIoP,IAERlR,KAAKO,MAAM6D,QAEX,yBAAKhD,UAAU,uCACb,uBAAGA,UAAU,YACX,uBAAGyC,MAAM,wBAAwB8B,QAAS3F,KAAK4K,QAA/C,eAIF,wBAAIxJ,UAAU,SAAd,wBACA,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,6BACb,yBAAKA,UAAU,iBAEf,kBAAC,WAAD,KACF,yBAAKgH,IAAKpI,KAAKO,MAAM6D,QAAQiE,SAAUqB,IAAI,oBAG3C,yBAAKtI,UAAU,kBAEf,4BAAKpB,KAAKO,MAAM6D,QAAQlD,MACxB,2BAAIlB,KAAKO,MAAM6D,QAAQkE,aACvB,sCAAW,8BAAOtI,KAAKO,MAAM6D,QAAQmE,MAA1B,YACX,yBAAKnH,UAAU,mBACb,yBAAKA,UAAU,iBAEf,yBAAKA,UAAU,gBAAgBgH,IAAKpI,KAAKO,MAAM6D,QAAQsJ,MAAMC,WAK7D,2BAAI3N,KAAKO,MAAM6D,QAAQsJ,MAAMtO,WAG9BY,KAAKO,MAAM6D,QAAQ+D,QACpBnI,KAAKO,MAAM6D,QAAQsJ,MAAMrI,MAAQrF,KAAKO,MAAM+Q,OAC1C,kBAACC,IAAD,GACE3B,OAAQsB,GACRxB,IAzFJ,UA0FIC,QAAQ,EACRF,SAAU,MACVD,MAAOxP,KAAKO,MAAM6D,QAAQmE,OAL5B,sBAMS,GANT,2BA9CQ,SAAA2H,GAChB,EAAK3P,MACF8Q,WAAW,EAAK9Q,MAAM6D,QAAQiB,KAC9B7F,MAAK,kBAAMqC,QAAQC,IAAI,sBAAuBoO,SA2CzC,yBAxCM,SAAArP,GAAK,OACnBgB,QAAQC,IAAI,8CAA+CjB,MAuCnD,0BAtCO,SAAAnB,GAAI,OAAImC,QAAQC,IAAI,qBAAsBpC,MAsCjD,IAWEM,KAAKO,MAAM6D,QAAQgG,OAASpK,KAAKO,MAAM+Q,OACzC,4BAEA,gDAEF,8BACItR,KAAKO,MAAM6D,QAAQ+D,QACrBnI,KAAKO,MAAM+Q,QAAUtR,KAAKO,MAAM6D,QAAQgG,MAEnCpK,KAAKO,MAAM6D,QAAQ+D,OAEpB,GADA,UAFA,yBAKN,kBAAC,IAAD,CAAS/C,GAAE,eAAUpF,KAAKO,MAAM6D,QAAQU,IAAIO,KAAOjE,UAAU,YAA7D,qBAKA,yBAAKA,UAAU,kBAEf,yBAAKA,UAAU,sBACf,0DAC2B,8BAAOpB,KAAK2E,iBADvC,OACkE,8BAC/D3E,KAAKO,MAAM6D,QAAQU,IAAIwF,MAF1B,MAEyC,8BAAOtK,KAAKO,MAAM6D,QAAQU,IAAIM,KAEvE,+CAAiB,8BAAOpF,KAAKO,MAAM6D,QAAQU,IAAIe,SAAS0E,WAExD,kBAAC,EAAD,CACErG,SAAU,CAAClE,KAAKO,MAAM6D,SACtBqC,QAAS,GACTgB,QAAS,CAAC,GAAG,KACbJ,UAAW,CACTL,IAAKhH,KAAKO,MAAM6D,QAAQU,IAAIe,SAASoB,YAAY,GACjDC,IAAKlH,KAAKO,MAAM6D,QAAQU,IAAIe,SAASoB,YAAY,SASpD,kBAAC,EAAD,U,GA1IavF,aA8IXiI,eAAW6E,IC3JLgD,I,wLAEjB,OACE,yBAAKpQ,UAAU,gBACb,yBAAKA,UAAU,mBACf,yBAAKA,UAAU,kBACb,6DAGA,kBAAC,SAAD,CAAQ0C,MAAM,QAAQ1C,UAAU,oBAChC,uBAAG2C,KAAI,UAAK3D,iCAAL,iBAAP,iBAKA,kBAAC,EAAD,MACA,kBAAC,EAAD,a,GAhBwBsB,c,ikBCoBb+P,G,YACnB,WAAYlR,GAAQ,IAAD,8BACjB,+CAeFwB,QAAU,SAAA2P,GACR,EAAK9Q,SAAL,MACK,EAAKD,MADV,CAEEgR,aAAcD,MAnBC,EAuBnB5R,OAAS,WACP+B,QAAQC,IAAI,eACZ,EAAKxC,QAAQQ,SAASN,MAAK,WACzB,EAAKoB,SAAL,MACK,EAAKD,MADV,CAEEgR,aAAc,YA5BD,EAiCnBC,UAAY,WACV,OAAO,EAAKtS,QACTM,WACAJ,MAAK,SAAAC,GACJ,EAAKmB,SAAL,MACK,EAAKD,MADV,CAEEgR,aAAclS,IACboC,QAAQC,IAAI,aAAc,EAAKnB,WAGnCI,OAAM,SAAAF,GACL,EAAKD,SAAL,MACK,EAAKD,MADV,CAEEgR,cAAc,SA9CH,EA4GnBE,eAAiB,WACXC,UAAUC,aACZD,UAAUC,YAAYC,oBAAmB,SAAApM,GACvC,EAAKhF,SAAL,MACK,EAAKD,MADV,CAEEiF,SAAU,CACRoB,IAAKpB,EAASqM,OAAOC,SACrBhL,IAAKtB,EAASqM,OAAOE,kBAjH7B,EAAKxR,MAAQ,CACXgR,aAAc,KACd7M,IAAK,KACLV,QAAS,KACTF,SAAU,KACV0B,SAAU,CAAEoB,IAAK,WAAYE,KAAM,YAErC,EAAK5H,QAAU,IAAIJ,EACnB,EAAKoK,OAAS,IAAIpH,EAClB,EAAK0P,YACL,EAAKzO,cACL,EAAK0O,iBAbY,E,4EAkDJhF,GAWb7M,KAAK4R,YACL/P,QAAQC,IAAI+K,GACZhL,QAAQC,IAAI,kBAAmB9B,KAAKW,S,iCAG3BqC,GAAK,IAAD,OACb,OAAOhD,KAAKsJ,OACTvG,WAAWC,GACXxD,MAAK,SAAAC,GACJ,EAAKmB,SAAL,MACK,EAAKD,MADV,CAEEyD,QAAS3E,KAEXoC,QAAQC,IAAI,sBAAuB,EAAKnB,UAEzCI,OAAM,SAAAF,GAAK,OAAIgB,QAAQC,IAAIjB,Q,iCAErBmC,GAAK,IAAD,OACb,OAAOhD,KAAKsJ,OAAOrG,WAAWD,GAAIxD,MAAK,SAAAC,GACrC,EAAKmB,SAAL,MACK,EAAKD,MADV,CAEEyD,QAAS3E,KAEX,EAAK0D,mB,oCAIM,IAAD,OACZ,OAAOnD,KAAKsJ,OAAOnG,cAAc3D,MAAK,SAAAC,GACpCA,EAASuL,MAAK,SAACC,EAAGC,GAAJ,OAAUC,KAAKC,SAAW,MACxC,EAAKxK,SAAL,MACK,EAAKD,MADV,CAEEuD,SAAUzE,U,wCAMd,IAAM2S,EAAW,YAAIpS,KAAKO,MAAM2D,UAAU8G,MACxC,SAACC,EAAGC,GAAJ,OAAUC,KAAKC,SAAW,MAE5BpL,KAAKY,SAAL,MACKZ,KAAKW,MADV,CAEEuD,SAAUkO,KAEZvQ,QAAQC,IAAI,eAAgB9B,KAAKO,S,+BAiBzB,IAAD,OASP,OAAOP,KAAKW,MAAMgR,aAEhB,yBAAKvQ,UAAU,gBACb,yBAAKA,UAAU,qBACf,kBAAC,GAAD,CACEA,UAAU,aACVY,KAAMhC,KAAKW,MAAMgR,aACjB9D,SAAU7N,KAAKF,SAGjB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEuS,OAAK,EACLC,KAAK,IACLC,OAAQ,WACN,OACE,yBAAKnR,UAAU,QACb,kBAAC,GAAD,CACEY,KAAM,EAAKrB,MAAMgR,aACjBa,gBAAiB,WACf,EAAKrP,eAEPkE,UAAW,EAAK1G,MAAMiF,SACtB1B,SAAU,EAAKvD,MAAMuD,eAO/B,kBAAC,IAAD,CACEmO,OAAK,EACLC,KAAK,cACLC,OAAQ,WASJ,OACE,yBAAKnR,UAAU,wBACb,kBAAC,GAAD,CACEuJ,QAAS,SAAAkC,GAAQ,OAAI,EAAK4F,eAAe5F,IACzC7K,KAAM,EAAKrB,MAAMgR,mBAO7B,kBAAC,IAAD,CACEU,OAAK,EACLC,KAAK,kBACLC,OAAQ,WAGN,OAFA1Q,QAAQC,IAAI,uBAAwB,EAAKnB,MAAMgR,cAG7C,yBAAKvQ,UAAU,4BACb,kBAAC,GAAD,CACEY,KAAM,EAAKrB,MAAMgR,aACjBhH,QAAS,kBAAM,EAAKiH,aACpB1E,uBAAwB,kBAAM,EAAK/J,eACnC2B,IACE,EAAKnE,MAAMgR,aAAa7M,IACpB,EAAKnE,MAAMgR,aAAa7M,IAAIO,IAC5B,WAOhB,kBAAC,IAAD,CACEgN,OAAK,EACLC,KAAK,YACLC,OAAQ,WAEN,OACE,yBAAKnR,UAAU,mBACb,kBAAC,EAAD,CACEuJ,QAAS,kBAAM,EAAKiH,aACpB5P,KAAM,EAAKrB,MAAMgR,aACjBzN,SAAU,EAAKvD,MAAMgR,aAAazN,SAClCmD,UAAW,EAAK1G,MAAMiF,eAMhC,kBAAC,IAAD,CACE0M,KAAK,WACLC,OAAQ,SAAAhS,GACN,OACE,yBAAKa,UAAU,oBAEb,kBAAC,GAAD,CAEE4B,GAAIzC,EAAMmS,MAAMC,OAAO3P,GACvBhB,KAAM,EAAKrB,MAAMgR,aACjBtK,UAAW,EAAK1G,MAAMiF,eAOhC,kBAAC,IAAD,CACE0M,KAAK,eACLC,OAAQ,SAAAhS,GACN,OACE,yBAAKa,UAAU,wBACb,kBAAC,GAAD,CACEgQ,eAAgB,kBACd,EAAKrO,WAAWxC,EAAMmS,MAAMC,OAAO3P,KAErCoB,QAAS,EAAKzD,MAAMyD,QACpBuG,QAAS,kBAAM,EAAKiH,aACpBN,OAAQ,EAAK3Q,MAAMgR,aAAatM,IAChCgM,WAAY,SAAArO,GAAE,OAAI,EAAKC,WAAWD,IAClCqE,UAAW,EAAK1G,MAAMiF,eAOhC,kBAAC,IAAD,CACE0M,KAAK,kBACLC,OAAQ,SAAAhS,GACN,IAAIqS,EAAgBrS,EAAMmS,MAAMC,OAAO3P,GACvC,OACE,yBAAK5B,UAAU,0BACb,kBAAC,GAAD,CACEsN,UAAWkE,EACXjI,QAAS,kBAAM,EAAKiH,aACpB5P,KAAM,EAAKrB,MAAMgR,aACjBvN,QAAS,WAMnB,kBAAC,IAAD,CACEiO,OAAK,EACLC,KAAK,gBACLC,OAAQ,SAAAhS,GAEN,IAAIuO,EAAgB,EAAKnO,MAAMuD,SAAS4E,QAAO,SAAA1E,GAC7C,QAAQA,EAAQgG,OAAQhG,EAAQgG,OAAS,EAAKzJ,MAAMgR,aAAatM,OAGnE,OACE,yBAAKjE,UAAU,uBACb,kBAAC,GAAD,CAEEuJ,QAAS,kBAAM,EAAKiH,aACpB5P,KAAM,EAAKrB,MAAMgR,aACjBzN,SAAU4K,WAmBtB,yBAAK1N,UAAU,kBACf,yBAAKA,UAAU,uBACf,kBAAC,GAAD,CAAQA,UAAU,aAAayM,SAAU7N,KAAKF,SAC9C,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEuS,OAAK,EACLC,KAAK,IACLC,OAAQ,WACN,OACI,yBAAKnR,UAAU,6BACf,kBAAC,EAAD,CACEoR,gBAAiB,WACf,EAAKrP,eAEPkE,UAAW,EAAK1G,MAAMiF,SACtB1B,SAAU,EAAKvD,MAAMuD,eAM/B,kBAAC,IAAD,CACEmO,OAAK,EACLC,KAAK,UACLC,OAAQ,WACN,OACE,yBAAKnR,UAAU,oBACf,kBAAC,GAAD,UAMN,kBAAC,IAAD,CACEiR,OAAK,EACLC,KAAK,cACLC,OAAQ,WACN,OACE,yBAAKnR,UAAU,2BAChB,kBAAC,GAAD,UAKL,kBAAC,IAAD,CACEiR,OAAK,EACLC,KAAK,kBACLC,OAAQ,WACN,OACE,yBAAKnR,UAAU,2BACb,0HAEkC,KAElC,kBAAC,EAAD,CAAOW,QAAS,EAAKA,UACrB,kBAAC,EAAD,CAAQA,QAAS,EAAKA,UACtB,kBAAC,EAAD,CAAYA,QAAS,EAAKA,UAC1B,uBAAGgC,KAAK,qCAAR,uBAGA,kBAACiM,GAAA,EAAD,CAAQ6C,QAAQ,YAAY1J,MAAM,gBAKvC,kBAAC,IAAD,CACDmJ,KAAK,eACLC,OAAQ,SAAAhS,GACN,OACE,yBAAKa,UAAU,wBACb,kBAAC,GAAD,CACEgQ,eAAgB,kBACd,EAAKrO,WAAWxC,EAAMmS,MAAMC,OAAO3P,KAErCoB,QAAS,EAAKzD,MAAMyD,QACpBuG,QAAS,kBAAM,EAAKiH,aACpBN,OAAQ,EAAK3Q,MAAMgR,aAAatM,IAChCgM,WAAY,SAAArO,GAAE,OAAI,EAAKC,WAAWD,IAClCqE,UAAW,EAAK1G,MAAMiF,sB,GAtYTlE,aCbboR,QACW,cAA7BxE,OAAOzI,SAASkN,UAEe,UAA7BzE,OAAOzI,SAASkN,UAEhBzE,OAAOzI,SAASkN,SAASL,MACvB,2DCZNxD,IAASqD,OAAO,kBAAC,IAAD,KAAQ,kBAAC,GAAD,OAAkBS,SAASC,eAAe,SD2H5D,kBAAmBnB,WACrBA,UAAUoB,cAAcC,MAAM3T,MAAK,SAAA4T,GACjCA,EAAaC,iB,mBEnInBrU,EAAOC,QAAU,IAA0B,kC","file":"static/js/main.8defcd6a.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAABBdJREFUWAmtlkuoVmUUho+aWlFmJURBcZKwYZmFkBO7kJMaFYY4ceAwJRQpxJFI10EjB0KFEgRBBV1MAmtUUogpIjbJC+ogUEJMKLLb8+y939919jl6jr/nhfdf37e+td619tqXc0ZGrg03ED6zS5mNfRv+11n3wnPjph0Kp4jiq+Ef0Aa+7ax7/YHxaTi+oewMsmrxJex/ghb/AT4EhfZHqP8AfAwG5qszFOpI70RhF7TIebgSBrXJF3FehMa9CxfAoOrFd0U7i5OasIG9onJrOXPUxgrj5zar9ucjTHI2Fr9xySnuy8v+6FdwdBoq9hm8Fwb16hXOuOezfgeacwx+2a3PYNULJrxFETHoQfg1VOgXuBwGNdlJ2ECwlsUlaN52OA+KJ6A6+tVVPxjUzeJWTt6CBsv1MLBYxmh8ncQy9j9Dc3xTapHapHrRfpO19URTP+Kf4DDoCLwRCovNaVbtTy1+N67c+19ZP9eLc1LC/OSpq751rCea+gn+Hkc63cf6USM6KJQ4O98CE/tqF6NRMBflPsVd+9qqmzzriUY34gdxeOAV/QkN9jW7HQbPszgLPfsQ3gWDWrDeBvPVMUfdZ6F1rCfGNHEIx3eNu70dr7NO176mn3b7o9jHYWDxPFdOoTZQnwP1cpttwnpiXBMeVoyy+QqmmQ/K4U2sU7D/sD7F2Ykubzd2FFZMqQnFvcLgaRaHoc0o+gAM5maBHYX5NpxkbV6gnrpiSk3k4eqP169fpvIa6zSgdZ+z+nrjHnO73F9TEyaIXIFrH7T3oAXPwc2dda+/PshsRxbBPAu5uKGaUKx/3x/GdwBaXOu+4h42H0PPfSNEJjd0E61M+zTnypbgtIhW3NyakU1Y/fIVOAeKCSdRx9yGTf77LyH+jRDzWjOw8S/F/wVcA3+DwklOiGGaUCiCNiT+aU1z5S5f6Paa2fBv6FQmxLBN9MXSVAq59yPkPtPp5wz209XEQLBbWDzT6Z+N2+fvhgeONldS/eOSrsMRXevkVrbf7U7Uexc4Qp/ojDn+vk3Tsf3z7NVRv96aQT07S6FjrJfBHfA2+BdU/Gq3LGex0SJtAM/UsQF11beO9USTk8RbcNT/rF5qQtofhfKO68lY/SDthFoRv2vj05x79WxGWsd6IvUvL3DeD/dAg4/DJ2HgCJNUC3qeveeDUbM2Xx311F0Ig2hl34jX5Gc4OQVN/hzeB4N8fhXcByMcv3HGm2e+OuoF9WLiG2MdYx39y+wVkttgHbHC+vsFjEuO+UFfO/4r2lrsDqLehwpfgKuhyN+OR9pt4/fcOOPNC6pefFOy/fu7mKz90CJ74bpurf2mW3tuXDDp6BM4mZ1JQL2SVex/hxm51r3+wOLmTTu8pxG2yBvwYmfTZL9hjq+O/wFa/uUdOnSlqgAAAABJRU5ErkJggg==\"","import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}`,\n      withCredentials: true\n    })\n  }\n\n  signup = (username, password) => {\n    return this.service.post(\"/signup\", {username, password})\n    .then(response => response.data)\n  }\n\n  login = (username, password) => {\n    return this.service.post(\"/login\", {username, password})\n    .then(response => response.data)\n  }\n\n  loggedin = () =>{\n    return this.service.get(\"/currentUser\",)\n    .then(response => response.data)\n  }\n\n  logout = () => {\n    return this.service.get(\"/logout\",)\n    .then(response => response.data)\n  }\n  googleauth = (username, password) => {\n    return this.service.get(\"/auth/google\", {username, password})\n    .then(response => response.data)\n  }\n}\n\nexport default AuthService;","import React, { Component } from 'react';\nimport AuthService from \"./Authservice\";\nimport { Button, TextInput } from \"react-materialize\";\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username : \"\",\n      password : \"\"\n    }\n    this.service = new AuthService();\n  }\n  changeState(e) {\n    const {name, value} = e.target;\n    this.setState({\n      [name] : value\n    });\n  }\n\n  sendLogin = (event) => {\n    event.preventDefault();\n    const {username, password} = this.state;\n\n    this.service.login(username, password)\n    .then(response => {\n      this.setState({\n        username : username,\n        password : password,\n        error : false\n      });\n      this.props.userVerified(response)\n    })\n    .catch(error => {\n      this.setState({\n        username: username,\n        password: password,\n        error: true\n      });\n    })\n  }\n  render() {\n    return (\n      <div className=\"login-container\">\n        <p>Login</p>\n        <form onSubmit={this.sendLogin}>\n        <TextInput label=\"Nombre\" value={this.state.username}   name=\"username\" onChange={e=>this.changeState(e)} type=\"text\"></TextInput>\n        <TextInput label=\"Contraseña\" value={this.state.password} name=\"password\" onChange={e=>this.changeState(e)} type=\"password\"></TextInput>\n        <Button type=\"submit\" value=\"Log in\">Login</Button>\n        </form>\n        <p>{this.state.error? \"Login failed. Please, try again o signup.\" : \"\"}</p>\n      </div>\n    )\n  }\n}","import React, { Component } from 'react'\nimport AuthService from \"./Authservice\";\nimport { Button, TextInput } from \"react-materialize\";\n\nexport default class Signup extends Component {\n  constructor(props) {\n    super();\n    this.state= {\n      username:\"\",\n      password: \"\"\n    }\n    this.service = new AuthService();\n  }\n\n  changeState(e) {\n    const {name, value} = e.target;\n    this.setState({\n      [name] : value\n    })\n  }\n\n  sendSignup= (event) => {\n    event.preventDefault();\n    const {username, password} = this.state;\n\n    this.service.signup(username, password)\n    .then(response => {\n  \n      this.setState({\n        username: \"\",\n        password: \"\"\n      });\n      console.log(\"viuelta auth\", response)\n      this.props.getUser(response.user)\n      \n    })\n    .catch(error=> {\n      console.log(\"catch e\", error)\n      this.setState({\n        username: username,\n        password: password,\n        error: true\n      });\n    })\n\n  }\n\n  render() {\n    return (\n      <div className=\"sign-container .fade-in\">\n             <p>Signup</p>\n        <form onSubmit={this.sendSignup} >\n        <TextInput label=\"Nombre\" value={this.state.username} type=\"text\" name=\"username\" onChange={(e)=> this.changeState(e)}></TextInput>\n  \n        <TextInput label=\"Contraseña\" value={this.state.password} type=\"password\"  name=\"password\"  onChange={(e)=> this.changeState(e)}/>\n \n          <Button type=\"submit\" value=\"Sign up\">Signup</Button>\n        </form>\n        <p>{this.state.error? \"Something was wrong. Please, try again\" : \"\"}</p>\n        \n        {/* <h1>Signup</h1>\n        <form onSubmit={this.sendSignup}>\n          <input placeholder=\"User Name\" name=\"username\" value={this.state.username} type=\"text\" onChange={(e)=> this.changeState(e)}></input>\n          <input placeholder=\"Password\" name=\"password\" value={this.state.password} type=\"password\" onChange={(e)=> this.changeState(e)}></input>\n          <input type=\"submit\" value=\"Sign up\"></input>\n        </form>\n        <h1>{this.state.error? \"Something was wrong. Please, try again\" : \"\"}</h1>\n         */}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport AuthService from \"./Authservice\";\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username : \"\",\n      password : \"\"\n    }\n    this.service = new AuthService();\n  }\n  changeState(e) {\n    const {name, value} = e.target;\n    this.setState({\n      [name] : value\n    });\n  }\n\n  sendLogin = (event) => {\n    event.preventDefault();\n    const {username, password} = this.state;\n\n    this.service.googleauth(username, password)\n    .then(response => {\n \n      this.setState({\n        username : username,\n        password : password,\n        error : false\n      });\n      this.props.getUser(response.user);\n    })\n    .catch(error => {\n\n      this.setState({\n        username: username,\n        password: password,\n        error: true\n      });\n    })\n  }\n  render() {\n    return (\n      <div>\n        <h1>Login with google</h1>\n        <form onSubmit={this.sendLogin}>\n        <input value={this.state.username} placeholder=\"User name\"  name=\"username\" onChange={e=>this.changeState(e)} type=\"text\"></input>\n        <input value={this.state.password} placeholder=\"Password\"  name=\"password\" onChange={e=>this.changeState(e)} type=\"password\"></input>\n        <input type=\"submit\" value=\"Login\" />\n        </form>\n        <h1>{this.state.error? \"Login failed. Please, try again o signup.\" : \"\"}</h1>\n      </div>\n    )\n  }\n}","import axios from \"axios\";\n\nclass RoutesService {\n  constructor() {\n    this.service = axios.create({\n      // baseURL: \"http://localhost:3010/\",\n      baseURL: `${process.env.REACT_APP_API_URL}`,\n      withCredentials: true\n    })\n  }\n  errHandler = err => {\n    // console.error(err);\n    if (err.response && err.response.data) {\n      // console.error(\"API response\", err.response.data);\n      throw err.response.data.message\n    }\n    throw err;\n  }\n\n  createBid = (state) => {\n    return this.service.post(\"/create/new-bid\", {state})\n    .then(response => response.data)\n    .catch(this.errHandler)\n  \n  }\n  createProduct = (state) => {\n    return this.service.post(\"/create/new-product\", {state})\n    .then(response => response.data)\n    .catch(this.errHandler)\n  }\n  addPicture = (file) => {\n    const formData = new FormData();\n    formData.append(\"photo\", file)\n    return this.service\n      .post('/create/new-product/photo', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      })\n      .then(res => res.data)\n      .catch(this.errHandler);\n  }\n  getProduct = (id) => {\n    return this.service.get(`display/product-info/${id}`)\n    .then(response=> \n     response.data)\n    .catch(this.errHandler)\n  }\n  buyProduct = (id) => {\n    return this.service.put(`/edit/buy-product/${id}`)\n    .then(response=>\n      response.data)\n    .catch(this.errHandler)\n  }\n  getProducts= () => {\n    return this.service.get(\"display/all-products\")\n    .then(response=> response.data)\n    .catch(this.errHandler)\n  }\n  start= () => {\n    return this.service.get(\"display/start\")\n    .then(response=> response.data)\n    .catch(this.errHandler)\n  }\n  getMyBids= () => {\n    return this.service.get(\"display/bid-fromuser\")\n    .then(response=> response.data)\n    .catch(this.errHandler)\n  }\n  getBid = (id) => {\n    return this.service.get(`display/bid-info/${id}`)\n    .then(response=> response.data)\n    .catch(this.errHandler)\n  }\n  deleteProduct= (id) => {\n    return this.service.delete(`delete/product/${id}`)\n    .then(response=> response.data)\n    .catch(this.errHandler)\n  }\n  \n\n\n\n}\n\nexport default RoutesService;","import React, { Component } from \"react\";\nimport { Button, Modal } from \"react-materialize\";\nimport Signup from \"./Signup\";\nimport Login from \"./Login\";\n\nexport default class ModalLoginFirst extends Component {\n  render() {\n    return (\n      <div className=\"modal-first-container\">\n        <Modal\n          header={this.props.passText}\n          // fixedFooter\n          trigger={\n            <a class=\"btn-floating btn-large waves-effect waves-light red\">\n              <i class=\"material-icons\">add</i>\n            </a>\n          }\n          // actions={\n          //   <Button waves=\"green\" modal=\"close\" flat>\n          //     Cerrar\n          //   </Button>\n          // }\n        >\n          <div className=\"auth-container\">\n            <p>Accede con tu cuenta de google</p>\n\n            <Button waves=\"light\" className=\"blue google-auth\">\n              <a href={`${process.env.REACT_APP_API_URL}/auth/google`}>\n                Google Login\n              </a>\n            </Button>\n            <Signup></Signup>\n            <Login></Login>\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { TextInput, Autocomplete, Icon } from \"react-materialize\";\n// const tags = [\n//   { name: 'Cocina' },\n//   { name: 'Salón' },\n//   { name: 'Baño' },\n//   { name: 'Deportes' },\n//   { name: 'Dormitorio' },\n//   { name: 'Estudio' },\n//   { name: 'Niños' },\n//   { name: 'Imagen y sonido' }\n// ];\n\n// filterTag= (tag) => {\n\n// }\n\n\nexport default class SearchBar extends Component {\n  render() {\n    let searchObj={};\n    this.props.products.forEach(product=> searchObj[product.name]= null)\n    console.log(searchObj)\n\n    \n    // arr.forEach(x=> obj[x]=null)\n    return (\n      <div className=\"search-bar\">\n        <form>\n          <div className=\"input-field col s6\">\n         \n\n{/* \n            <TextInput\n              // onChange={e => this.props.updateSearch(e.target.value)}\n              // type=\"text\"\n              name=\"search\"\n              id=\"search\"\n              label=\"Busca lo que necesites\"\n              className=\"input-search\"\n            >\n               </TextInput> */}\n               <Autocomplete \n          \n          onChange={e => this.props.updateSearch(e.target.value)}\n          type=\"text\"\n          name=\"search\"\n          id=\"search\"\n          label=\"Busca lo que necesites\"\n          className=\"input-search\"\n          options={{data: searchObj}}\n          placeholder=\"Busca lo que necesites\"\n          icon={<Icon>search</Icon>}/>\n          \n          </div>\n        </form>\n        {/* <div onClick={this.filterTag(cocina)}>cocina</div> */}\n      </div>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport { Button, Modal } from \"react-materialize\";\nimport Signup from \"./Signup\";\nimport Login from \"./Login\";\n\n\nexport default class ModalLogin extends Component {\n  render() {\n    return (\n      <div>\n        <Modal header=\"Tienes que identificarte primero\" fixedFooter trigger={<Button>Acceder</Button>} actions={<Button waves=\"green\" modal=\"close\" flat>Cerrar</Button>}>\n          <Signup></Signup>\n          <Login></Login>\n          <Button\n            node=\"a\"\n            waves=\"light\"\n            className=\"blue\"\n            large\n            style={{ marginRight: \"5px\" }}\n          >   <a href={`${process.env.REACT_APP_API_URL}/auth/google`}>\n          Google login\n        </a></Button>\n       \n        </Modal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Row, Col, Card } from \"react-materialize\";\nimport { NavLink } from \"react-router-dom\";\n\nimport moment from \"moment\";\nimport 'moment/locale/es'\nmoment.locale('es')\n\nexport default class CardMap extends Component {\n  constructor(props) {\n    super(props)\n    this.state={\n\n    }\n  }\n  transformDate = () => {\n    moment.lang('es');\n    //const dateTransformed= moment(this.props.bid.deadLine).format('LLLL')\n    const dateTransformed= moment(this.props.bid.deadLine).fromNow()\n    console.log(dateTransformed)\n    return <p>{dateTransformed}</p>\n  }\n\n\n  render() {\n    return (\n      <div className=\"card-map-container\">\n       \n            <Card\n              // className=\"blue-grey darken-1\"\n              className=\"card-inside-map\"\n              textClassName=\"white-text\"\n              title=\"\"\n              actions={[<NavLink to={`/bid/${this.props.bid._id}`}>Ir a la Mudanza</NavLink>]}\n            >\n              <p>Esta mudanza acaba {this.transformDate()}</p>\n          \n            </Card>\n        \n       \n      </div>\n    );\n  }\n\n\n\n  \n}\n\n\n","import React from \"react\";\nimport { Marker, InfoWindow } from \"react-google-maps\";\nimport CardMap from \"../organisms/CardMap\";\n\nimport Box from \"../../img/boxMapIcon.png\"\n\nexport default class Bidmarker extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isOpen: false,\n      activeMarker: true\n    }\n  }\n\n  toggleOpen = () => {\n \n    this.setState({isOpen: !this.state.isOpen}, () =>{\n        if (!this.state.isOpen){\n          this.setState({activeMarker: false}, () => {\n            this.props.closeMarkers(null)\n          })\n        } else{\n          this.props.closeMarkers(this.props.id)\n        }\n      }\n    )\n  }\n\n  // render(){\n  //   return(\n  //       <Marker\n  //         position={this.props.location}\n  //         icon={Box}\n  //         onClick={this.toggleOpen}\n  //       >\n  //       </Marker>\n  //   );\n  // }\n\n  render(){\n    return(\n\n        <Marker onClick={this.toggleOpen}\n          position={this.props.location}\n          icon={Box}\n        >\n        { this.state.isOpen && this.state.activeMarker ?\n          <InfoWindow maxWidth={800} defaultPosition={ this.props.location } onCloseClick={this.props.onToggleOpen}>\n            <CardMap toggleShowPage={this.props.toggleShowPage} bid={this.props.bid}/>\n          </InfoWindow> : null\n        }\n        </Marker>\n    \n    )\n\n  }\n}\n","import React from \"react\";\nimport { withScriptjs, withGoogleMap, GoogleMap } from \"react-google-maps\";\nimport Bidmarker from \"../atoms/Bidmarker\";\n\n\n\nconst Bidmap2 = withScriptjs(withGoogleMap((props) =>{\n\n  let active;\n  let zoom= 12;\n  if(props.zoomMap) {\n    zoom=props.zoomMap\n  }\n\n  let markers = props.bids.map( (bid, idx) => <Bidmarker\n                    bid={bid}\n                    key={idx}\n                    id={bid._id}\n                    closeMarkers={props.closeOtherMarkers}\n                    location={{lat:bid.location.coordinates[1], lng: bid.location.coordinates[0]}}\n                    toggleShowPage={props.toggleShowPage}\n                    closeMarkers={props.closeOtherMarkers}\n                    activeMarker={ bid._id === props.activeMarker ? true : false}\n                  />);          \n  return (\n\n      <GoogleMap\n        defaultZoom={zoom}\n        center={ { lat:  props.centerMap.lat , lng: props.centerMap.lng } }\n        // center={ center }\n        >\n          {markers}\n      </GoogleMap>\n    );\n  }\n))\n\nexport default Bidmap2;","import React from \"react\";\nimport Bidmap from \"./Bidmap\";\nimport { relativeTimeThreshold } from \"moment\";\n\nexport default class Bidmapcontainer extends React.Component {\n  \n  constructor(props) {\n    super(props)\n    this.state = {\n      activeMarker:null\n\n    }\n\n  }\n  closeOtherMarkers = (id) => {\n\t\tthis.setState({activeMarker: id})\n  }\n  componentDidMount = () => {\n    if(this.props.centerBid) {\n      this.setState({\n        ...this.state,\n        centerMap: this.props.centerBid\n      })\n    }\n    else {\n      this.setState({\n        ...this.state,\n        centerMap: this.props.centerMap\n      })\n    }\n  }\n  \n\n\n\trender() {\n    let mapSize= [80, 600]\n    if(this.props.mapSize) {\n      mapSize=this.props.mapSize\n    }\n\t\treturn (\n\t\t\t<Bidmap\n        bids={this.props.bids}\n        centerMap={this.state.centerMap}\n\t\t\t\tgoogleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyDUeQXCyJDlhOtCB8JwWAk8zCxpjk6k-jo&libraries=geometry,drawing,places`}\n\t\t\t\tloadingElement={<div style={{ height: `100%` }} />}\n\t\t\t\tcontainerElement={<div style={{ height: `${mapSize[1]}px`, width: `${mapSize[0]}vw` }} />}\n        mapElement={<div style={{ height: `100%` }} />}\n        zoomMap={this.props.zoomMap}\n        activeMarker={this.state.activeMarker}\n        closeOtherMarkers={this.closeOtherMarkers}\n        toggleShowPage={this.props.toggleShowPage}\n\t\t\t/>\n\t\t);\n\t}\n}","import React, { Component } from 'react'\nimport { NavLink, withRouter } from \"react-router-dom\";\n\nexport default class Card extends Component {\n  render() {\n    return (\n      \n\n\n          // <div class=\"row\">\n          // <div class=\"col s12 m7\">\n            <div class=\"card\">\n            <NavLink to={`/product/${this.props.product._id}`}className={`product-card ${this.props.idx}`}>\n                {this.props.product.active? \n                \n                  <div class=\"card-image\" >\n                  <img src={this.props.product.imgPath1}/>\n                  <div className=\"description-container\">\n                  <p className=\"description-show\">{this.props.product.description}</p>\n                  </div>\n           \n                </div> \n                 : \n                  <div class=\"card-image\">\n                 <i class=\"medium material-icons\">done</i>\n                  <p className=\"vendido\">Vendido</p>\n                  <img className=\"selled-img\" src={this.props.product.imgPath1}/>\n                \n                </div>\n              \n              }\n              \n    \n              \n              <div class=\"card-content\">\n                <div className=\"price-container\">\n                <p className=\"card-price\">{this.props.product.price} €</p>\n                </div>\n                <span class=\"card-title\">{this.props.product.name}</span>\n                \n                {/* <p>{this.props.product.description}</p> */}\n              </div>\n              </NavLink>\n              <div class=\"card-action\">\n                <a className=\"link-btn\" href={`/bid/${this.props.product.bid._id}`} onClick={()=>console.log(this.props.product)}>Ir a su mudanza</a>\n              </div>\n            </div>\n          // </div>\n        // </div>\n    )\n  }\n}\n","import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport Card from \"../molecules/Card\";\n\nexport default class AllProducts extends Component {\n\n\n\n\n\n\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.products.map((product, idx) => {\n          return (\n            // <NavLink to={`/product/${product._id}`} key={idx}>\n            //   <div className=\"product-container\">\n            //     <img src={product.imgPath1} alt=\"Product image\" />\n            //     <h2>{product.name}</h2>\n            //     <p>Precio: {product.price} €</p>\n            //     <p>\n            //       {product.isBundle.length > 0\n            //         ? \"Displnible en pack furgo\"\n            //         : \"No se vende en pack\"}\n            //     </p>\n            //   </div>\n           \n               <Card \n              product={product}\n              idx={idx}\n            ></Card>\n\n            \n            // </NavLink>\n          );\n        })}\n      </React.Fragment>\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport SearchBar from \"../atoms/SearchBar\";\nimport Bidmapcontainer from \"../molecules/Bidmapcontainer\";\nimport AllProducts from \"../organisms/AllProducts\";\n\nexport default class AllProductsAndSearch extends Component {\n  constructor(props) {\n    super(props)\n    this.state= {\n      products: props.products,\n      searchProducts: props.products,\n      \n    }\n  }\n\n\n  makeSearch(searchText) {\n    const searchProductsResults = this.state.products.filter(product =>\n      product.name.toLowerCase().includes(searchText.toLowerCase())\n    );\n\n    this.setState({\n      ...this.state,\n      searchProducts: searchProductsResults\n    });\n  }\n\n  // changeStock(stockCheckbox) {\n  //   this.setState({\n  //     ...this.state,\n  //     inStock: stockCheckbox\n  //   });\n  // }\n  render() {\n    return (\n      <div className=\"container-all-search\">\n                <div className=\"all-map-container\">\n                {this.props.title? <p>{this.props.title}</p> \n                \n                : <h6 className=\"section-title\">Selecciona un marcador del mapa para ver mudanzas disponibles</h6>}\n                <Bidmapcontainer\n                  bids={this.props.bids}\n                  centerMap={this.props.centerMap}\n                  centerBid={this.props.centerBid}\n                  zoomMap={this.props.zoomMap}\n                  mapSize={this.props.mapSize}\n                ></Bidmapcontainer>\n                </div>\n                <div className=\"search-cards\">\n                <h6 className=\"section-title\">Busca entre todos las cajas disponibles</h6>\n                <SearchBar\n                  products={this.state.searchProducts}\n                  updateSearch={searchText => this.makeSearch(searchText)}\n                  // updateInStock={stockCheckbox => this.changeStock(stockCheckbox)}\n                />\n                 </div>\n                 <div className=\"card-container\">\n                <AllProducts products={this.state.searchProducts}></AllProducts>\n                \n                 </div>\n              </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Preloader } from \"react-materialize\";\n\n\nexport default class PreloaderSpinner extends Component {\n  render() {\n    return (\n    \n        <div>\n        <Preloader className=\"preloader\" color='red' size=\"big\" />\n        </div>\n   \n    )\n  }\n}\n","import React, { Component } from \"react\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport { Tabs, Tab } from \"react-materialize\";\nimport RoutesService from \"../../RoutesService\";\nimport ModalLoginFirst from \"../auth/ModalLoginFirst\";\nimport ModalLogin from \"../auth/ModalLogin\";\nimport AllProductsAndSearch from \"../organisms/AllProductsAndSearch\";\nimport PreloaderSpinner from \"../atoms/PreloaderSpinner\";\n\n\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bids: null,\n      products: null,\n    };\n    this.router = new RoutesService();\n  }\n\n  componentDidMount() {\n    this.router.getProducts().then(response => {\n      let bids = response.map(product => product.bid);\n      bids.forEach(bid =>\n        bid.productsList.map(id =>\n          response.filter(product => product._id === id)\n        )\n      );\n      let bidsId = [];\n      bids = bids.filter(bid => {\n        if (bidsId.includes(bid._id)) {\n          return false;\n        } else {\n          bidsId.push(bid._id);\n          return true;\n        }\n      });\n      this.setState({\n        ...this.state,\n        products: response,\n        bids: bids,\n        centerMap: this.props.centerMap\n      });\n\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"home\">\n        <div className=\"title-container\">\n       \n        <h1>\n                Si te acabas de mudar<br></br>\n                o estás a punto de mudarte,<br></br>\n                podemos ayudarte\n              </h1>\n        <img src='bkg-img.svg' alt=\"background image\"></img>\n\n        </div >\n       \n        {/* <NavLink to={\"/create-bid\"}>Me voy a mudar</NavLink>\n        <NavLink to={\"/create-bid\"}>Me acabo de mudar</NavLink> */}\n        <Tabs className=\"tab-demo z-depth-1 tabs-fixed-width tab-container\">\n          <Tab title=\"Me voy a mudar\" className=\"me-mudo\">\n            <div className=\"mudo-container\">\n\n              <h3>\n              ¿Tienes demasiadas cosas y no vas a llevarlas a tu nuevo hogar?<br></br>\n              Estás de enhorabuena.\n            </h3>\n            \n\n\n          \n            <p>\n              Tenemos el escaparate perfecto para venderlo todo el día exacto\n              que tú decidas.\n            </p>\n\n            </div>\n          \n            <main className=\"timeline\">\n              <ul>\n                <li className=\"li-r\">\n                  <i class=\"medium material-icons\">event_available</i>\n                  <p className=\"number-r\">1</p>\n                  <h4>Fija el día</h4>\n                  <p>\n                    Decide cuando quieres vaciar tu vivienda. Te liberas de lo\n                    que no necesitas justo cuando te mudas. Ni antes, ni\n                    después.\n                  </p>\n                </li>\n                <li className=\"li-l\">\n                  <i class=\"medium material-icons\">camera_alt</i>\n                  <p className=\"number-l\">2</p>\n                  <h4>Separa lo que no te vas a llevar</h4>\n                  <p>Hazle fotos y descríbelo brevemente. Puedes una sola cosa en cada caja, como una mesa, o meter el salón completo. ¡En nuestras cajas cabe todo!</p>\n                </li>\n                <li className=\"li-r no3\">\n                  <i class=\"medium material-icons\">euro_symbol</i>\n                  <p className=\"number-3\">3</p>\n                  <h4>Ponles precio</h4>\n                  <p>Desde 1 céntimo hasta lo que tú juzgues.</p>\n                </li>\n\n                <li className=\"li-l\">\n                  <i class=\"medium material-icons\">thumb_up</i>\n                  <p className=\"number-4\">4</p>\n                  <h4>Véndelo</h4>\n                  <p>Los compradores irán a recogerlo el día acordado. Listo para tu mudanza.</p>\n                </li>\n              </ul>\n            </main>\n            <div className=\"create-bid-container\">\n              <div className=\"create-hover\">\n        <label className=\"label-crear\">Crear mudanza</label>\n        <ModalLoginFirst passText={\"Tienes que identificarte para continuar\"}></ModalLoginFirst>\n        {/* <a class=\"btn-floating btn-large waves-effect waves-light red\"><i class=\"material-icons\">add</i></a> */}\n        </div>\n        </div>\n          </Tab>\n          <Tab title=\"Me acabo de mudar\" active>\n            <div className=\"mudare-container\">\n          <div className=\"mudo-container mudoNext-container\">\n            <div className=\"section-title\">\n            <h3>\n              ¿Te faltan cosas en tu nueva casa?\n            </h3>\n            <p>\n              Búscalo. Seguro que alguien se está mudando y le sobra.\n            </p>\n            </div>\n            <img className=\"sofa-icon\" src='sofa-icon.svg' alt=\"sofa icon\"></img>\n            </div>\n                       \n            {this.state.products && this.state.bids && this.state.centerMap ? (\n              <React.Fragment>        \n                <AllProductsAndSearch\n                zoomMap={12}\n                  bids={this.state.bids}\n                  centerMap={this.props.centerMap}\n                  products={this.props.products}\n                  mapSize={[70,400]}\n                ></AllProductsAndSearch>\n              </React.Fragment>\n            ) : (\n              <PreloaderSpinner></PreloaderSpinner>\n            )}\n       \n            </div>\n          </Tab>\n        </Tabs>\n      \n      </div>\n    );\n  }\n}\n\nexport default withRouter(Home);\n","import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nexport default class ButtonAdd extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    {\n      if (this.props.bid) {\n        return (\n          <div className=\"create-bid-container btnadd\">\n            <div className=\"create-hover\">\n        <label className=\"label-crear\">Crear mudanza</label>\n        <NavLink to={\"/create-bid\"} class=\"btn-floating btn-large waves-effect waves-light red create-box-txt\">\n              <i class=\"material-icons\">add</i>\n            </NavLink>\n        </div>\n        </div>\n        )\n      } else {\n        return (\n          <div className=\"create-bid-container btnadd\">\n <div className=\"create-hover\">\n        <label className=\"label-crear\">Crear caja</label>\n        <NavLink to={\"/create-product\"} class=\"btn-floating btn-large waves-effect waves-light red create-box-txt\">\n              <i class=\"material-icons\">add</i>\n            </NavLink>\n        </div>\n        </div>\n        )\n      }\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport { Button, Modal } from \"react-materialize\";\n\nexport default class DelModalWarning extends Component {\n  render() {\n    return (\n      <div className=\"modal-delwarning-container\">\n        <Modal\n          header={this.props.passText}\n          trigger={\n     \n              <i class=\"material-icons\">cancel</i>\n          \n          }\n     \n        >\n          <div className=\"modal-cancel-container\">\n            <p>¿Estás seguro de que quieres eliminar esta caja?</p>\n\n            <Button waves=\"light\" className=\"red del-product-btn modal-close\" onClick={()=>this.props.deleteFunction()}>\n              Eliminar\n            </Button>\n            <Button waves=\"light\" className=\"red del-product-btn modal-close\">\n              Cerrar\n            </Button>\n          \n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { withScriptjs, withGoogleMap, GoogleMap } from \"react-google-maps\";\nimport Bidmarker from \"../atoms/Bidmarker\";\n\n\n\nconst Productmap = withScriptjs(withGoogleMap((props) =>{\n  let active;\n  let zoom= 12;\n  if(props.zoomMap) {\n    zoom=props.zoomMap\n  }\n\n  let markers = props.products.map( (product, idx) => <Bidmarker\n                    product={product}\n                    key={idx}\n                    id={product._id}\n                    closeMarkers={props.closeOtherMarkers}\n                    location={{lat:product.bid.location.coordinates[1], lng: product.bid.location.coordinates[0]}}\n                    toggleShowPage={props.toggleShowPage}\n                    closeMarkers={props.closeOtherMarkers}\n                    activeMarker={ product._id === props.activeMarker ? true : false}\n                  />);          \n  return (\n\n      <GoogleMap\n        defaultZoom={zoom}\n        center={ { lat:  props.centerMap.lat , lng: props.centerMap.lng } }\n        // center={ center }\n        >\n          {markers}\n      </GoogleMap>\n    );\n  }\n))\n\nexport default Productmap;","import React from \"react\";\nimport Productmap from \"./Productmap\";\nimport { relativeTimeThreshold } from \"moment\";\n\nexport default class Productmapcontainer extends React.Component {\n  \n  constructor(props) {\n    super(props)\n    this.state = {\n      activeMarker:null\n\n    }\n\n  }\n  closeOtherMarkers = (id) => {\n\t\tthis.setState({activeMarker: id})\n\t}\n  \n\n\n\trender() {\n    let mapSize= [80, 600]\n    if(this.props.mapSize) {\n      mapSize=this.props.mapSize\n    }\n\t\treturn (\n\t\t\t<Productmap\n        products={this.props.products}\n        centerMap={this.props.centerMap}\n\t\t\t\tgoogleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyDUeQXCyJDlhOtCB8JwWAk8zCxpjk6k-jo&libraries=geometry,drawing,places`}\n\t\t\t\tloadingElement={<div style={{ height: `100%` }} />}\n        // containerElement={<div style={{ height: `600px`, width: `600px` }} />}\n        containerElement={<div style={{ height: `${mapSize[1]}px`, width: `${mapSize[0]}vw` }} />}\n        mapElement={<div style={{ height: `100%` }} />}\n        zoomMap={this.props.zoomMap}\n        activeMarker={this.state.activeMarker}\n        closeOtherMarkers={this.closeOtherMarkers}\n        toggleShowPage={this.props.toggleShowPage}\n\t\t\t/>\n\t\t);\n\t}\n}","import React, { Component } from \"react\";\nimport { Collapsible, CollapsibleItem, Icon, Switch } from \"react-materialize\";\nimport PreloaderSpinner from \"../atoms/PreloaderSpinner\";\nimport DelModalWarning from \"./DelModalWarning\";\nimport Productmapcontainer from \"../molecules/Productmapcontainer\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nmoment.locale(\"es\");\n\nexport default class CollapsibleProducs extends Component {\n  constructor(props) {\n    super(props);\n    // this.state={\n    //   products: this.props.products\n    // }\n  }\n\n  // deleteProduct(id) {\n  //   this.props.deleteFromShow(id)\n  //   .then(()=> {\n  //     this.setState({\n  //       ...this.state,\n  //       products: this.props.products\n  //     })\n  //   })\n  // }\n  transformDate = deadLine => {\n    moment.locale(\"es\");\n    const dateTransformed = moment(deadLine).format(\"LL\");\n    return dateTransformed;\n  };\n\n  render() {\n    if (this.props.products && this.props.user) {\n      return (\n        <div className=\"collapsible-container\">\n          <Collapsible accordion={true}>\n            {this.props.products.map((product, idx) => {\n              if (product.buyer == this.props.user._id) {\n                return (\n                  <CollapsibleItem\n                    key={idx}\n                    // header={product.name}\n                    // icon={<i class=\"medium material-icons\">done</i>}\n                    info={\n                      <div className=\"inside-box-purchased\">\n                        <p className=\"product-title-inside\">{product.name}</p>\n\n                        <p className=\"info-purchased-container\">\n                          Recogida el {this.transformDate(product.bid.deadLine)}{\" \"}\n                          de {product.bid.from} a {product.bid.to}\n                        </p>\n                      </div>\n                    }\n                  >\n                    <div className=\"collaps-open\">\n                      <div className=\"image-uncol-container\">\n                        <img\n                          className=\"product-image-uncol\"\n                          src={product.imgPath1}\n                          alt=\"Product image\"\n                        ></img>\n                      </div>\n                      <p>{product.description}</p>\n                      <p>\n                        <span>{product.price} €</span>\n                      </p>\n                      <div className=\"map-uncol-container\">\n                        <p className=\"map-location-title\">{product.bid.location.address}</p>\n                      <Productmapcontainer\n                        products={[product]}\n                        zoomMap={19}\n                        mapSize={[40, 300]}\n                        centerMap={{\n                          lat: product.bid.location.coordinates[1],\n                          lng: product.bid.location.coordinates[0]\n                        }}\n                      ></Productmapcontainer>\n                      </div>\n                    </div>\n                  </CollapsibleItem>\n                );\n              } else {\n                return (\n                  <CollapsibleItem\n                    // btnFunction={()=> console.log(product._id)}\n                    // btnDel={<div className=\"borrar\">\"Ya no vendo esta caja\"</div>}\n                    btnDel={\n                      <DelModalWarning\n                        deleteFunction={() =>\n                          this.props.deleteFromShow(product._id)\n                        }\n                      ></DelModalWarning>\n                    }\n                    // header={product.name}\n                    key={idx}\n                    info={\n                      product.active ? (\n                        <div className=\"inside-box\">\n                          <p className=\"product-title\">{product.name}</p>\n                        </div>\n                      ) : (\n                        <div className=\"inside-box\">\n                          <p>{product.name}</p>\n                          <div className=\"selled-badge\">\n                            <i class=\"medium material-icons\">done</i>\n                            <p className=\"selled-title\">Vendido</p>\n                          </div>\n                        </div>\n                      )\n                    }\n                    // icon={\n                    //\n                    // }\n                  >\n                    <div className=\"collaps-open\">\n                      <div className=\"product-image-uncollapsed-container\">\n                        <img\n                          className=\"product-image-uncollapsed\"\n                          src={product.imgPath1}\n                          alt=\"Product image\"\n                        ></img>\n                      </div>\n                      <div className=\"info-uncollapsed\">\n                        <p>\n                          <span>{product.price} €</span>\n                        </p>\n                        <p>{product.description}</p>\n                      </div>\n                    </div>\n                  </CollapsibleItem>\n                );\n              }\n            })}\n          </Collapsible>\n        </div>\n      );\n    } else {\n      return <PreloaderSpinner></PreloaderSpinner>;\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport Bidmapcontainer from \"../molecules/Bidmapcontainer\";\nimport { Row, Card, CardTitle, Col, Preloader } from \"react-materialize\";\nimport AllProducts from \"../organisms/AllProducts\";\nimport ButtonAdd from \"../atoms/ButtonAdd\";\nimport CollapsibleProducs from \"../molecules/CollapsibleProducs\";\nimport RoutesService from \"../../RoutesService\";\nimport PreloaderSpinner from \"../atoms/PreloaderSpinner\";\nimport { withRouter } from \"react-router-dom\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport DelModalWarning from \"../molecules/DelModalWarning\";\nmoment.locale(\"es\");\n\nclass ShowMyBid extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: this.props.user,\n      product: this.props.user.products\n    };\n    this.router = new RoutesService();\n  }\n  componentDidMount = () => {\n    // this.setState({\n    //   ...this.state,\n    //   products:this.props.user.products\n    // })\n    // this.router.getProducts().then(response => {\n    //   const products= response.filter(product=> product.owner==this.props.user._id)\n    //   this.setState({\n    //     ...this.state,\n    //     products: products\n    //   });\n    // });\n    // console.log(this.state)\n    this.props.fromApp().then(() => {\n      this.setState({\n        ...this.state,\n        user: this.props.user,\n        products: this.props.user.products\n      });\n    });\n  };\n\n  deleteProduct = id => {\n    console.log(id);\n    console.log(\"borrando\");\n    this.router.deleteProduct(id).then(user => {\n      this.setState({\n        ...this.state,\n        user: user,\n        products: user.products\n      });\n    });\n  };\n\n  goBack = () => {\n    this.props.history.push(\"/\");\n  };\n\n  transformDate = () => {\n    moment.lang(\"es\");\n    const dateTransformed = moment(this.props.user.bid.deadLine).format(\"LL\");\n    return <p>{dateTransformed}</p>;\n  };\n\n  extractCoordinates(latlng) {\n    const lat = latlng[0];\n    const lng = latlng[1];\n    return [{ lat, lng }];\n  }\n\n  render() {\n    if (this.props.user.bid) {\n      if (this.state.user.products) {\n        return (\n          <div className=\"your-bid-container\">\n            <a className=\"back-btn\">\n              <i class=\"medium material-icons\" onClick={this.goBack}>\n                arrow_back\n              </i>\n            </a>\n            <h1>Panel de control de tu mudanza</h1>\n            <div className=\"content\">\n              <div className=\"info-container\">\n              <h4 className=\"text-title\">Recogida</h4>\n                <div className=\"top-box\">\n                  \n                  <div className=\"text-container\">\n                    <p>\n                      Recogerán las cosas el día{\" \"}\n                      <span>{this.transformDate()}</span>{\" \"}\n                    </p>\n                    <p>\n                      entre las <span>{this.props.user.bid.from}</span> y las{\" \"}\n                      <span>{this.props.user.bid.to}</span>\n                    </p>\n                    <p>\n                      En <span>{this.props.user.bid.location.address}</span>\n                    </p>\n                  </div>\n                  <Bidmapcontainer\n                    title={\"Localización de la subasta\"}\n                    bids={[this.props.user.bid]}\n                    centerBid={this.props.centerBid}\n                    zoomMap={18}\n                    // mapSize={this.props.mapSize}\n                    centerMap={{\n                      lat: this.props.user.bid.location.coordinates[1],\n                      lng: this.props.user.bid.location.coordinates[0]\n                    }}\n                    mapSize={[30, 400]}\n                  ></Bidmapcontainer>\n                </div>\n              </div>\n              <div className=\"box-container\">\n                <div className=\"boxes\">\n                  <h4 className=\"box-title\">Tus cajas</h4>\n\n                  <CollapsibleProducs\n                    products={this.state.products}\n                    user={this.state.user}\n                    deleteFromShow={id => this.deleteProduct(id)}\n                  ></CollapsibleProducs>\n                  <ButtonAdd\n                    product={true}\n                    passText=\"Ya no vendo esta caja\"\n                  ></ButtonAdd>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n      } else {\n        return <PreloaderSpinner></PreloaderSpinner>;\n      }\n    } else {\n      return (\n        <div className=\"your-bid-container\">\n          <p>No tienes ninguna mudanza creada.</p>\n          <ButtonAdd bid={true}></ButtonAdd>\n        </div>\n      );\n    }\n  }\n}\nexport default withRouter(ShowMyBid);\n","import React, { Component } from \"react\";\nimport PreloaderSpinner from \"../atoms/PreloaderSpinner\";\nimport { Button, Tabs, Tab, Preloader } from \"react-materialize\";\nimport { withRouter } from \"react-router-dom\";\nimport ShowBid from \"./ShowMyBid\";\nimport AllProducts from \"../organisms/AllProducts\";\nimport SearchBar from \"../atoms/SearchBar\";\nimport Bidmapcontainer from \"../molecules/Bidmapcontainer\";\nimport RoutesService from \"../../RoutesService\";\nimport ModalLoginFirst from \"../auth/ModalLoginFirst\";\nimport AllProductsAndSearch from \"../organisms/AllProductsAndSearch\";\nimport ButtonAdd from \"../atoms/ButtonAdd\";\n\nclass HomeLogged extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: props.products,\n      searchProducts: props.products,\n      bids: null\n    };\n    this.router = new RoutesService();\n  }\n\n  componentDidMount() {\n    this.router.getProducts().then(response => {\n      let bids = response.map(product => product.bid);\n      bids.forEach(bid =>\n        bid.productsList.map(id =>\n          response.filter(product => product._id === id)\n        )\n      );\n      console.log(\"bids\", bids)\n      let bidsId = [];\n      bids = bids.filter(bid => {\n        if (bidsId.includes(bid._id)) {\n          console.log(\"se ripite\", bid._id)\n          return false;\n        } else {\n          \n          console.log(\"no se ripite\", bid._id)\n          bidsId.push(bid._id);\n          return true;\n        }\n      });\n      response.sort((a, b) => Math.random() - 0.5);\n      this.setState({\n        ...this.state,\n        products: response,\n        bids: bids,\n        centerMap: this.props.centerMap,\n        loaded: true\n      });\n    });\n  }\n\n  render() {\n    if (!this.props.user.bid) {\n      return (\n        <div className=\"home home-logged\">\n          <div className=\"title-container\">\n            <h1>\n              Si te acabas de mudar<br></br>o estás a punto de mudarte,<br></br>\n              podemos ayudarte\n            </h1>\n            <img src=\"bkg-img.svg\" alt=\"background image\"></img>\n          </div>\n          <Tabs className=\"tab-demo z-depth-1 tabs-fixed-width tab-container\">\n            <Tab title=\"Me voy a mudar\" className=\"me-mudo\">\n              <div className=\"mudo-container-login\">\n                <h3>Crea tu mudanza para poder poner cajas a la venta</h3>\n                <ButtonAdd bid={true}></ButtonAdd>\n              </div>\n            </Tab>\n\n            <Tab title=\"Me acabo de mudar\" active>\n              {this.state.products &&\n              this.state.bids &&\n              this.state.centerMap ? (\n                <AllProductsAndSearch\n                  bids={this.state.bids}\n                  centerMap={this.props.centerMap}\n                  products={this.props.products}\n                ></AllProductsAndSearch>\n              ) : (\n                <PreloaderSpinner></PreloaderSpinner>\n              )}\n            </Tab>\n          </Tabs>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"home home-logged\">\n          <div className=\"title-container\">\n            <h1>Hacemos tu mudanza <br></br>más fácil</h1>\n            <img src=\"bkg-img.svg\" alt=\"background image\"></img>\n          </div>\n\n          \n\n          <Tabs className=\"tab-demo z-depth-1 tabs-fixed-width tab-container\">\n            <Tab title=\"Me voy a mudar\" className=\"me-mudo\">\n              <div className=\"mudo-container-login\">\n                <h3>Tienes una mudanza creada. Puedes añadir cajas a la venta.</h3>\n                <ButtonAdd product={true}></ButtonAdd>\n              </div>\n            </Tab>\n\n            <Tab title=\"Me acabo de mudar\" active>\n              {this.state.loaded &&\n              this.state.bids &&\n              this.state.products &&\n              this.state.centerMap ? (\n                <AllProductsAndSearch\n                  bids={this.state.bids}\n                  centerMap={this.state.centerMap}\n                  products={this.state.products}\n                ></AllProductsAndSearch>\n              ) : (\n                <PreloaderSpinner></PreloaderSpinner>\n              )}\n            </Tab>\n          </Tabs>\n        </div>\n      );\n    }\n  }\n}\n\nexport default withRouter(HomeLogged);\n","import React from \"react\";\nimport PlacesAutocomplete, {\n  geocodeByAddress,\n  getLatLng\n} from \"react-places-autocomplete\";\n\nexport default class LocationSearchInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      address: \"\",\n      lat: null,\n      lng: null\n    };\n  }\n\n  handleChange = address => {\n    this.setState({ ...this.state, address });\n  };\n\n  handleSelect = address => {\n    geocodeByAddress(address)\n      .then(results => {\n        getLatLng(results[0]).then(googleLatLng => {\n          this.setState({\n            ...this.state,\n            address: results[0].formatted_address,\n            lat: googleLatLng.lat,\n            lng: googleLatLng.lng\n          });\n          this.changeValue()\n        });\n      })\n      // .then(latLng => console.log('Success', latLng))\n      .catch(error => console.error(\"Error\", error));\n  };\n  changeValue() {\n    this.props.changeState(this.state)\n  };\n\n  render() {\n    return (\n      <div className=\"input-location-container\">\n        {/* xxxx{this.state.address}xxxx\n        xxxx{this.state.lat}xxxx\n        xxxx{this.state.lng}xxxx */}\n        <PlacesAutocomplete\n          value={this.state.address}\n          onChange={this.handleChange}\n          onSelect={this.handleSelect}\n        >\n          {({\n            getInputProps,\n            suggestions,\n            getSuggestionItemProps,\n            loading\n          }) => (\n            <div className=\"input-location\">\n              <input\n                {...getInputProps({\n                  placeholder: \"Search Places ...\",\n                  className: \"location-search-input\"\n                })}\n              />\n              <div className=\"autocomplete-dropdown-container\">\n                {loading && <div>Loading...</div>}\n                {suggestions.map(suggestion => {\n                  const className = suggestion.active\n                    ? \"suggestion-item--active\"\n                    : \"suggestion-item\";\n                  // inline style for demonstration purpose\n                  const style = suggestion.active\n                    ? { backgroundColor: \"#fafafa\", cursor: \"pointer\" }\n                    : { backgroundColor: \"#ffffff\", cursor: \"pointer\" };\n                  return (\n                    <div\n                      {...getSuggestionItemProps(suggestion, {\n                        className,\n                        style\n                      })}\n                    >\n                      <span>{suggestion.description}</span>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n        </PlacesAutocomplete>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { NavLink } from \"react-router-dom\";\nimport Bidmapcontainer from \"../molecules/Bidmapcontainer\";\nimport 'date-fns';\nimport DateFnsUtils from '@date-io/date-fns';\nimport TextField from '@material-ui/core/TextField';\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport RoutesService from \"../../RoutesService\";\nimport LocationSearchInput from \"../atoms/LocationSearchInput\";\nimport moment from 'moment';\nimport { withRouter } from 'react-router-dom'\nimport ButtonAdd from '../atoms/ButtonAdd';\n\n\n\n\n\nclass CreateBid extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      sent: false,\n      isBid: false\n    }\n    this.routes = new RoutesService()\n  }\n  updateFormData(e,field){\n    let newState = {\n      ...this.state\n    };\n    newState[field] = e.target.value;\n\n    this.setState(newState);\n  }\n\n  sendState(e) {\n    e.preventDefault();\n    this.setState({\n      ...this.state,\n      sent: true\n    });\n    this.routes.createBid(this.state)\n    .then(() => {\n      \n      this.props.fromApp(this.state);\n      // this.props.history.push('/show-bid')\n    })\n    .catch(e => console.log(e))\n    \n  }\n  changeState(newValue) {\n    this.setState({\n      ...this.state,\n      location: {\n        lat: newValue.lat,\n        lng: newValue.lng,\n        address: newValue.address\n      }\n    });\n  }\n \n  transformDate = () => {\n    moment.lang('es');\n    const dateTransformed= moment(this.state.deadLine).format('LLLL')\n    console.log(dateTransformed)\n    return <p>{dateTransformed}</p>\n  }\n  componentDidMount=()=>{\n    if(this.props.user.bid) {\n      this.setState({\n        ...this.state,\n        isBid: true\n      })\n    }\n  }\n\n\n  render() {\n    if(this.state.isBid){\n      return(\n        <div className=\"create-bid-active\">\n        <h1>Ya tienes una subasta activa</h1>\n        <ButtonAdd></ButtonAdd>\n     \n      </div>\n      )\n    }\n    else \n    {\n\n      if(!this.state.sent) {\n        return (\n          <div className=\"create-bid\">\n          <div className=\"create-bid-container\">\n            <h1>CREA TU MUDANZA</h1>\n          <form>\n            <label  htmlFor=\"input-day\">Día de finalización</label>\n            <input type=\"date\" class=\"datepicker\" placeholder=\"Cuando quieres que se lo lleven\" name=\"dia\" id=\"input-day\" onChange={e => this.updateFormData(e, \"deadLine\")} ></input>\n            <label htmlFor=\"hora\">Hora de recogida</label>\n            <input type=\"time\" placeholder=\"Hora de comienzo de recogida\" name=\"hora\"  onChange={e => this.updateFormData(e, \"from\")} ></input>\n            <label htmlFor=\"fin\">Finalización de recogida</label>\n            <input type=\"time\" placeholder=\"Hora de finalización de recogida\" name=\"fin\"  onChange={e => this.updateFormData(e, \"to\")}></input>\n            <label htmlFor=\"location\">Lugar de recogida</label>\n            <LocationSearchInput changeState={newValue => this.changeState(newValue)}\n            value={this.state.value} name=\"location\" placeholder=\"Calle o barrio\" onChange={e => this.updateFormData(e, \"location\")}></LocationSearchInput>\n            <button  className=\"send-form\" onClick={e => this.sendState(e)}>Listo para añadir cajas</button>\n          </form>\n          </div>\n          </div>\n        )\n      }\n      else {\n        console.log(this.state)\n        return (\n          <div className=\"create-bid\">\n          <div className=\"created-bid-container\">\n            <h1>Tu mudanza</h1>\n             <p>Finaliza el <span>{this.transformDate()}</span></p>\n          <p>Los compradores irán a recogerlo de <span>{this.state.from}</span> a <span>{this.state.to}</span></p>\n          <p>en <span>{this.state.location.address}</span></p>\n          {/* <Bidmapcontainer\n                  title={\"\"}\n                  bids={[this.state]}\n                  centerBid={this.props.centerBid}\n                  zoomMap={18}\n                  mapSize={this.props.mapSize}\n                  centerMap={{\n                    lat: this.state.location.lat,\n                    lng: this.state.location.lng\n                  }}\n                  mapSize={[30,300]}\n                ></Bidmapcontainer> */}\n          <p>Ya puedes añadir cajas a tu mudanza</p>\n          <NavLink to={`/create-product`} className=\"add-box\">Añadir caja</NavLink>\n          </div>  \n          </div>  \n        )\n      }\n    }\n    \n  }\n}\n\nexport default withRouter(CreateBid)","import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { NavLink } from \"react-router-dom\";\nimport { withRouter } from 'react-router-dom'\n\nimport RoutesService from \"../../RoutesService\";\nimport ButtonAdd from \"../atoms/ButtonAdd\";\n\nclass CreateProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: null,\n      imgPath1: \"https://screenshotlayer.com/images/assets/placeholder.png\",\n      // imgPath2: \"https://screenshotlayer.com/images/assets/placeholder.png\",\n      // imgPath3: \"https://screenshotlayer.com/images/assets/placeholder.png\",\n      bid: null,\n    };\n    this.routes = new RoutesService();\n  }\n  updateFormData(e, field) {\n    let newState = {\n      ...this.state\n    };\n    newState[field] = e.target.value;\n\n    this.setState(newState);\n  }\n\n  sendState(e) {\n    e.preventDefault();\n    this.routes.createProduct(this.state)\n    .then(() =>{\n      this.props.fromApp();\n      this.props.fromAppRefreshProducts();\n      this.props.history.push('/your-bid')\n      //  return <Redirect to='/your-bid' />\n    \n    }) \n  }\n  handleChange(e) {\n\n\n    this.setState({\n      ...this.state,\n      file: e.target.files[0]\n    });\n  }\n\n  handleSubmit(e, photo) {\n    e.preventDefault();\n    this.routes.addPicture(this.state.file).then(photoData => {\n      this.setState({\n        ...this.state,\n        [photo]: photoData\n      });\n\n    });\n  }\n\n  componentDidMount () {\n    this.routes.getMyBids()\n    .then(response => {\n\n      this.setState({\n        ...this.state,\n        bid: response[0]._id,\n\n\n      })\n    })\n  }\n  goBack =()=> {\n    this.props.history.goBack()\n  }\n\n  render() {\n    if(this.props.bid) {\n      return (\n        <div className=\"container-create-product\">\n          <a className=\"back-btn\"><i class=\"medium material-icons\" onClick={this.goBack}>arrow_back</i></a>\n          <h1>CONTENIDO DE LA CAJA</h1>\n          <div className=\"box-form\">\n          <div className=\"create-photo\">\n          <h2>Foto</h2>\n          <div className=\"photo-container\">\n          <img src={this.state.imgPath1} alt=\"product picture\" />\n          </div>\n          <div className=\"container-photo-input\">\n            \n  \n            <form onSubmit={e => this.handleSubmit(e, \"imgPath1\")}>\n              <input className=\"load-image\" type=\"file\" onChange={e => this.handleChange(e)} /> <br />\n              <button type=\"submit\" className=\"save-photo\">Guardar foto</button>\n            </form>\n            </div>\n          </div>\n          <form>\n            <h2>Etiqueta</h2>\n            <label htmlFor=\"name\">Nombre</label>\n            <input\n              type=\"text\"\n              placeholder=\"Contenido de la caja a la venta\"\n              name=\"name\"\n              id=\"input-name\"\n              onChange={e => this.updateFormData(e, \"name\")}\n            ></input>\n            <label htmlFor=\"description\">Descripción</label>\n            <input\n              type=\"text\"\n              placeholder=\"Breve descripción\"\n              name=\"description\"\n              onChange={e => this.updateFormData(e, \"description\")}\n              maxlength=\"100\"\n            ></input>\n            <label htmlFor=\"price\">Precio</label>\n            <input\n              type=\"number\"\n              placeholder=\"Precio\"\n              name=\"price\"\n              onChange={e => this.updateFormData(e, \"price\")}\n            ></input>\n\n            <a className=\"btn-crear send-product\" onClick={e => this.sendState(e)}>Crear caja</a>\n          </form>\n          </div>\n        </div>\n      );\n    }\n    else \n    {\n      return (\n      <React.Fragment>\n        <h1>Tienes que crear una mudanza para poder tener cajas con productos</h1>\n        <ButtonAdd bid={true}></ButtonAdd>\n      </React.Fragment>\n      )\n    }\n\n  }\n}\n\n\nexport default withRouter(CreateProduct)\n","import React, { Component } from 'react'\nimport SearchBar from \"../atoms/SearchBar\";\nimport Bidmapcontainer from \"../molecules/Bidmapcontainer\";\nimport AllProducts from \"../organisms/AllProducts\";\n\nexport default class AllProductsAndSearchOfBid extends Component {\n  constructor(props) {\n    super(props)\n    this.state= {\n      products: props.products,\n      searchProducts: props.products,\n      \n    }\n  }\n\n\n  makeSearch(searchText) {\n    const searchProductsResults = this.state.products.filter(product =>\n      product.name.toLowerCase().includes(searchText.toLowerCase())\n    );\n\n    this.setState({\n      ...this.state,\n      searchProducts: searchProductsResults\n    });\n  }\n\n  // changeStock(stockCheckbox) {\n  //   this.setState({\n  //     ...this.state,\n  //     inStock: stockCheckbox\n  //   });\n  // }\n  render() {\n    return (\n      <div className=\"container-all-search\">\n             \n                <div className=\"search-cards\">\n                <h6 className=\"section-title\">Busca entre sus cajas</h6>\n                <SearchBar\n                  products={this.state.searchProducts}\n                  updateSearch={searchText => this.makeSearch(searchText)}\n                  // updateInStock={stockCheckbox => this.changeStock(stockCheckbox)}\n                />\n                 </div>\n                 <div className=\"card-container\">\n                <AllProducts products={this.state.searchProducts}></AllProducts>\n                \n                 </div>\n              </div>\n    )\n  }\n}\n","import React, { Component } from \"react\";\nimport RoutesService from \"../../RoutesService\";\nimport AllProductsAndSearch from \"../organisms/AllProductsAndSearch\";\nimport PreloaderSpinner from \"../atoms/PreloaderSpinner\";\nimport { withRouter } from \"react-router-dom\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport AllProductsAndSearchOfBid from \"../organisms/AllProductsAndSearchOfBid\";\nimport Bidmapcontainer from \"../molecules/Bidmapcontainer\";\nmoment.locale(\"es\");\n\nclass ShowBid extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bid: null\n    };\n    this.router = new RoutesService();\n  }\n\n  componentDidMount() {\n    this.router.getBid(this.props.id).then(bid => {\n      const centerBid = {\n        lat: bid.location.coordinates[1],\n        lng: bid.location.coordinates[0]\n      };\n      this.setState({\n        ...this.state,\n        bid,\n        centerBid,\n        centerMap: this.props.centerMap\n      });\n    });\n  }\n  goBack = () => {\n    this.props.history.goBack();\n  };\n  transformDate = () => {\n    moment.lang(\"es\");\n    const dateTransformed = moment(this.state.bid.deadLine).format(\"LL\");\n    return <p>{dateTransformed}</p>;\n  };\n\n  render() {\n    if (this.state.bid && this.state.centerMap) {\n      return (\n        <div className=\"render-bid-container\">\n          <h2>Ficha de subasta</h2>\n          <div className=\"upper-section\">\n          <a className=\"back-btn\">\n                <i class=\"medium material-icons\" onClick={this.goBack}>\n                  arrow_back\n                </i>\n              </a>\n          <div className=\"bid-info-container\">\n          <Bidmapcontainer\n              zoomMap={17}\n              title={\"Localización de la subasta\"}\n              bids={[this.state.bid]}\n              centerMap={this.state.centerMap}\n              centerBid={this.state.centerBid}\n              mapSize={[50, 358]}\n            ></Bidmapcontainer>\n            <div className=\"bid-text-container\">\n\n              <div className=\"deadline\">\n              <p>\n                Se acaba el día <span>{this.transformDate()}</span> entre las\n                <span>{this.state.bid.from}</span> y las <span>{this.state.bid.to}</span>\n              </p>\n              </div>\n              <div className=\"profile-owner-container\">\n              <div className=\"profile-image-container\">\n              <img className=\"profile-image\" src={this.state.bid.owner.imgPath}></img>\n              </div>\n              <p>{this.state.bid.owner.username}</p>\n\n              </div>\n            </div>\n            \n         \n          </div>\n          </div>\n\n          <AllProductsAndSearchOfBid\n            title={\"Localización de la subasta\"}\n            products={this.state.bid.productsList}\n          ></AllProductsAndSearchOfBid>\n          {/* <AllProductsAndSearch\n        title={\"Localización de la subasta\"}\n        bids={[this.state.bid]}\n        centerMap={this.state.centerMap}\n        centerBid={this.state.centerBid}\n        products={this.state.bid.productsList}\n        zoomMap={16}\n        ></AllProductsAndSearch> */}\n        </div>\n      );\n    } else {\n      return <PreloaderSpinner></PreloaderSpinner>;\n    }\n  }\n}\nexport default withRouter(ShowBid);\n","import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { withRouter } from \"react-router-dom\";\nimport { SideNav, SideNavItem, Button } from \"react-materialize\";\nimport Box from \"../../img/box.svg\";\n\nclass Navbar extends Component {\n  constructor(props) {\n    super(props);\n  }\n  logout = e => {\n    this.props.logMeOut(e);\n    this.props.history.push(\"/\");\n  };\n  signup = e => {\n    this.props.history.push(\"/signup\");\n  };\n  yourbid = () => {\n    this.props.history.push(\"/your-bid\");\n  };\n  yourPurchases = () => {\n    this.props.history.push(\"/my-purchases\");\n  };\n\n  // render() {\n\n  //     if(this.props.user) {\n  //       return (\n  //         <nav>\n  //           <NavLink to={\"/\"} className=\"jakku-logo\"><img src=\"../../img/21eaecb818a8dd6c5286b5f66886d918.jpg\" alt=\"Box image logo\"/><h1>Jakku</h1> </NavLink>\n  //            <ul>\n  //              <li>\n  //              <NavLink to={\"/profile\"} className=\"profile-container\">{this.props.user.username}<img src={this.props.user.imgPath} alt=\"User profile image\"/>\n  //              </NavLink>\n  //              </li>\n\n  //              <li><div onClick={e=>this.logout(e)}>Logout</div></li>\n  //              <li>menu</li>\n  //            </ul>\n  //         </nav>\n  //       )\n  //     }\n  //     else {\n  //       return (\n  //         <nav>\n  //         <NavLink to={\"/\"} className=\"jakku-logo\"><img src={Box} alt=\"Box image logo\"/><h1>Jakku</h1> </NavLink>\n\n  //          <ul>\n  //            <li>\n  //            <NavLink to={\"/login\"} className=\"profile-container\">Acceder\n  //            </NavLink>\n  //            </li>\n  //            <li>menu</li>\n  //          </ul>\n  //       </nav>\n\n  //       )\n\n  //     }\n  // }\n  render() {\n    if (this.props.user) {\n      return (\n        <React.Fragment>\n          <nav>\n            <div class=\"nav-wrapper\">\n              <NavLink to={\"/\"} className=\"brand-logo tracking-in-expand\">\n                <img src={Box} className=\"logo-img\" />\n                Jakku\n              </NavLink>\n\n              {/* <ul class=\"right hide-on-med-and-down\">\n                <li>\n                  <a href=\"#\" className=\"profile-container\" >\n                    {this.props.user.username}\n                    <img className=\"profile-image\"\n                      src={this.props.user.imgPath}\n                      alt=\"User profile image\"\n                    />\n\n                  </a>\n                </li>\n              </ul> */}\n              <div>\n                <a\n                  href=\"#\"\n                  data-target=\"mobile-demo\"\n                  className=\"profile-container sidenav-trigger\"\n                >\n                  {this.props.user.username}\n                  <img\n                    className=\"profile-image shadow-drop-center\"\n                    src={this.props.user.imgPath}\n                    alt=\"User profile image\"\n                  />\n                </a>\n\n                {/* <a href=\"#\" data-target=\"mobile-demo\" class=\"sidenav-trigger\">\n                <i class=\"material-icons\" className=\"material-icons\">menu</i>\n              </a> */}\n\n                <SideNav\n                  className=\"sidenav\"\n                  id=\"mobile-demo\"\n                  trigger={<i class=\"material-icons\"></i>}\n                  options={({ closeOnClick: true }, { edge: \"right\" })}\n                >\n                  <SideNavItem\n                    userView\n                    user={{\n                      background: `${this.props.user.imgPath}`,\n                      image: `${Box}`,\n                      name: `${this.props.user.username}`\n                    }}\n                  />\n                  <SideNavItem href=\"#!icon\" icon=\"account_circle\">\n                    Tu perfil\n                  </SideNavItem>\n\n                  {/* <SideNavItem subheader></SideNavItem>\n                    <SideNavItem subheader waves href=\"/your-bid\"></SideNavItem> */}\n                  <SideNavItem waves onClick={this.yourPurchases}>\n                    Cajas compradas\n                  </SideNavItem>\n                  <SideNavItem waves onClick={this.yourbid}>\n                    Tu mudanza\n                  </SideNavItem>\n                  <SideNavItem divider />\n                  <SideNavItem waves onClick={this.logout}>\n                    Salir\n                  </SideNavItem>\n                </SideNav>\n              </div>\n            </div>\n          </nav>\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <React.Fragment>\n          <nav>\n            <div class=\"nav-wrapper\">\n              <NavLink to={\"/\"} className=\"brand-logo\">\n                <img src={Box} className=\"logo-img\" />\n                Jakku\n              </NavLink>\n\n              <ul class=\"right hide-on-med-and-down\">\n                {/* <li>\n         \n              </li> */}\n              </ul>\n              {/* <div className=\"acceder-hover\"></div> */}\n              <div className=\"side-trigger-container\">\n                <a href=\"#\" data-target=\"mobile-demo\" class=\"sidenav-trigger\">\n                  <i class=\"material-icons\">menu</i>\n                  <div className=\"acceder-container\"><NavLink className=\"acceder\" to={\"/signup\"} >Acceder</NavLink></div>\n                </a>\n                {window.innerWidth >= 1000? \n                  <span></span>\n               :\n               <SideNav\n               className=\"sidenav\"\n               id=\"mobile-demo\"\n               trigger={<i class=\"material-icons\"></i>}\n               options={({ closeOnClick: true }, { edge: \"right\" })}\n             >\n               <SideNavItem\n                 userView\n                 user={{\n                   background:\n                     \"https://www.sackettwaconia.com/wp-content/uploads/default-profile.png\",\n                   image: `${Box}`,\n                   name: `Invitado`\n                 }}\n               />\n               <SideNavItem\n                 href=\"#!icon\"\n                 icon=\"account_circle\"\n                 onClick={e => this.signup(e)}\n               >\n                 Acceder\n               </SideNavItem>\n             </SideNav>\n                }\n               \n              </div>\n            </div>\n          </nav>\n        </React.Fragment>\n      );\n    }\n  }\n}\nexport default withRouter(Navbar);\n","import React, { Component } from \"react\";\n\n\nexport default class ShowProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product: {}\n    };\n  }\n\n  componentDidMount() {\n    this.props.fromApp();\n    const productSelected = this.props.user.products.filter(\n      product => product._id == this.props.productId\n    )[0];\n    this.setState({\n      ...this.state,\n      product: productSelected\n    });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n      <h1>Mostrar caja</h1>\n      <div>\n        <img src={this.state.product.imgPath1} alt=\"product image\"></img>\n        {/* <img src={this.state.product.imgPath2} alt=\"product image\"></img>\n        <img src={this.state.product.imgPath3} alt=\"product image\"></img> */}\n        <h1>{this.state.product.name}</h1>\n        <p>{this.state.product.description}</p>\n        <p>Precio: {this.state.product.price} €</p>\n        <button onClick={e => this.change(e)}>Editar</button>\n      </div>\n      </React.Fragment>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { withRouter } from 'react-router-dom';\nimport PreloaderSpinner from \"../atoms/PreloaderSpinner\";\nimport CollapsibleProducs from \"../molecules/CollapsibleProducs\";\n\n\nclass ShowMyPurchases extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n     products:null\n    };\n  }\n\n  componentDidMount() {\n    // const productsOwned = this.props.products.filter(product =>{\n    //   return  product.buyer?  product.buyer == this.props.user._id \n    //   : false\n    // });\n    // this.setState({\n    //   ...this.state,\n    //   products: productsOwned\n    // })\n  }\n  getmyproducts=()=>{\n    const productsOwned = this.props.products.filter(product =>{\n      return  product.buyer?  product.buyer == this.props.user._id \n      : false\n    }\n   \n    );\n    this.setState({\n      ...this.state,\n      products: productsOwned\n    })\n  }\n\n  goBack =()=> {\n    this.props.history.push(\"/\")\n  }\n\n\n  // componentDidUpdate(prevProps, prevState) {\n  //   if (\n  //     this.state.products !==\n  //     prevState.someStatefulValue\n  //   ) {\n  //     this.props.onChange(this.state.someStatefulValue);\n  //   }\n  // }\n  // componentDidUpdate(prevProps, prevState) {\n  //   if (prevState.products !== this.state.products) {\n  //     let firebaseRef=firebase.database().ref(this.state.products);\n  //     this.setState({firebaseRef});\n     \n  //   }\n  // }\n\n  // static getDerivedStateFromProps(nextProps, prevState){\n  //   if(nextProps.products!==prevState.products){\n  //     let firebaseRef=prevState.firebaseRef;\n  //     return {products : nextProps.products};\n  //   }\n  //   else return null;\n  // }\n\n  render() {\n    if(this.props.products && this.props.user) { \n       \n      if(this.props.products.length>0){\n        return (\n          <div className=\"purchases-container\">\n      \n\n          \n          <div className=\"my-purchases\">\n            <div className=\"top-box-purchases\">\n\n            </div>\n             <a className=\"back-btn\"><i class=\"medium material-icons\" onClick={this.goBack}>arrow_back</i></a>\n            <h2>Tus cajas compradas</h2>\n            <CollapsibleProducs \n            products={this.props.products} user={this.props.user} \n            // deleteFromShow={(id)=>this.deleteProduct(id)}\n            ></CollapsibleProducs>\n          </div>\n          </div>\n        );\n      }\n      else {\n        return(\n          <div className=\"purchases-container\">\n          <div className=\"purchased-none\">\n        <a className=\"back-btn\"><i class=\"medium material-icons\" onClick={this.goBack}>arrow_back</i></a>\n          <h2>Todavía no has comprado nada</h2>\n          </div>\n          </div>\n  \n        )\n      }\n    \n    }\n    else {\n      return (\n        <PreloaderSpinner></PreloaderSpinner>\n       \n      )\n    } \n\n    \n    \n  }\n}\n\nexport default withRouter(ShowMyPurchases)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport scriptLoader from 'react-async-script-loader';\n\n\nclass PaypalButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showButton: false,\n    };\n    window.React = React;\n    window.ReactDOM = ReactDOM;\n  }\n  componentDidMount() {\n    const {\n      isScriptLoaded,\n      isScriptLoadSucceed\n    } = this.props;\n    if (isScriptLoaded && isScriptLoadSucceed) {\n      this.setState({ showButton: true });\n    }\n  }\n  componentWillReceiveProps(nextProps) {\n    const {\n      isScriptLoaded,\n      isScriptLoadSucceed,\n    } = nextProps;\n    const isLoadedButWasntLoadedBefore =\n      !this.state.showButton &&\n      !this.props.isScriptLoaded &&\n      isScriptLoaded;\n    if (isLoadedButWasntLoadedBefore) {\n      if (isScriptLoadSucceed) {\n        this.setState({ showButton: true });\n      }\n    }\n  }\n\n  \n  \n  render() {\n    const paypal = window.PAYPAL\n    const {\n      total,\n      currency,\n      env,\n      commit,\n      client,\n      onSuccess,\n      onError,\n      onCancel,\n    } = this.props;\n    const {\n      showButton,\n    } = this.state;\n    \n    const payment = () =>\n      paypal.rest.payment.create(env, client, {\n        transactions: [\n          {\n            amount: {\n              total,\n              currency,\n            }\n          },\n        ],\n      });\n    const onAuthorize = (data, actions) =>\n      actions.payment.execute()\n        .then(() => {\n          const payment = {\n            paid: true,\n            cancelled: false,\n            payerID: data.payerID,\n            paymentID: data.paymentID,\n            paymentToken: data.paymentToken,\n            returnUrl: data.returnUrl,\n          };\n          onSuccess(payment);\n        });\n    return (\n      <div className=\"paypal-btn\">\n        {showButton && <paypal.Button.react\n          env={env}\n          client={client}\n          commit={commit}\n          payment={payment}\n          onAuthorize={onAuthorize}\n          onCancel={onCancel}\n          onError={onError}\n          style= {{\n            size: 'medium',\n            color: 'black',\n            shape: 'rect',\n            label: 'pay',\n            tagline: 'true'\n           }}\n        />}\n      </div>\n    );\n  }\n}\n\nexport default scriptLoader('https://www.paypalobjects.com/api/checkout.js')(PaypalButton);","import React, { Component } from \"react\";\nimport Productmapcontainer from \"../molecules/Productmapcontainer\";\nimport PreloaderSpinner from \"../atoms/PreloaderSpinner\";\nimport { MediaBox } from \"react-materialize\";\nimport { withRouter, NavLink } from \"react-router-dom\";\nimport PPal from \"../organisms/PPal\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nmoment.locale(\"es\");\nconst s = process.env.PAYPAL_CLIENT_ID;\n\nconst CLIENT = {\n  sandbox:\n    \"AQcrq4YDWyfXU3sXAPunwF77twdTo_JaPFx2en6b48mJfwpzw1vRXcuJVcOD4P7CUcxstryIVCRj2_bB\"\n  // sandbox: `${process.env.REACT_APP_PAYPAL_CLIENT_ID}`\n};\nconst ENV = \"sandbox\";\n\nclass ShowProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product: this.props.product\n    };\n  }\n  componentDidMount() {\n    this.props.productFromApp().then(product => {\n      this.setState({\n        ...this.state,\n        product: this.props.product\n      });\n      console.log(\"showproductmount\", this.props.product);\n    });\n  }\n  change() {\n    this.props.productFromApp();\n    this.setState({\n      ...this.state,\n      product: this.props.product\n    });\n    console.log(\"%%%%\", this.state);\n  }\n  buy() {\n    this.props.buyFromApp(this.props.product._id);\n  }\n  goBack = () => {\n    this.props.history.goBack();\n  };\n  transformDate = () => {\n    moment.locale(\"es\");\n    const dateTransformed = moment(this.props.product.bid.deadLine).format(\n      \"LL\"\n    );\n    return dateTransformed;\n  };\n\n  render() {\n    const onSuccess = payment => {\n      this.props\n        .buyFromApp(this.props.product._id)\n        .then(() => console.log(\"Successful payment!\", payment));\n    };\n\n    const onError = error =>\n      console.log(\"Erroneous payment OR failed to load script!\", error);\n    const onCancel = data => console.log(\"Cancelled payment!\", data);\n    console.log(CLIENT);\n\n    if (this.props.product) {\n      return (\n        <div className=\"display-product slide-in-bck-center\">\n          <a className=\"back-btn\">\n            <i class=\"medium material-icons\" onClick={this.goBack}>\n              arrow_back\n            </i>\n          </a>\n          <h1 className=\"title\">Contenido de la caja</h1>\n          <div className=\"product-container\">\n            <div className=\"container-product-display\">\n              <div className=\"img-container\">\n               \n              <MediaBox >\n            <img src={this.props.product.imgPath1} alt=\"product image\"></img>\n            </MediaBox>\n            </div>\n            <div className=\"text-container\">\n\n            <h3>{this.props.product.name}</h3>\n            <p>{this.props.product.description}</p>\n            <p>Precio: <span>{this.props.product.price} €</span></p>\n            <div className=\"owner-container\">\n              <div className=\"profile-image\">\n            \n              <img className=\"product-image\" src={this.props.product.owner.imgPath}></img>\n\n            \n\n              </div>\n              <p>{this.props.product.owner.username}</p>\n            </div>\n            {/* {this.props.product.active && this.props.product.owner._id!=this.props.userId &&(<button onClick={e => this.buy(e)}>Comprar</button>)} */}\n            {this.props.product.active &&\n            this.props.product.owner._id !== this.props.userId ? (\n              <PPal\n                client={CLIENT}\n                env={ENV}\n                commit={true}\n                currency={\"EUR\"}\n                total={this.props.product.price}\n                total={1}\n                onSuccess={onSuccess}\n                onError={onError}\n                onCancel={onCancel}\n              ></PPal>\n            ) : this.props.product.buyer == this.props.userId ? (\n              <p></p>\n            ) : (\n              <p>Esta caja es tuya</p>\n            )}\n            <span>\n              {!this.props.product.active &&\n              this.props.userId == this.props.product.buyer\n                ? \"Comprado! Enhorabuena\"\n                : !this.props.product.active\n                ? \"Vendido\"\n                : \"\"}\n            </span>\n            <NavLink to={`/bid/${this.props.product.bid._id}`} className=\"link-bid\">Ir a su mudanza</NavLink>\n            </div>\n            </div>\n\n\n            <div className=\"info-container\">\n           \n            <div className=\"deadline-container\">\n            <p>\n              Esta caja se recogerá el <span>{this.transformDate()}</span> de <span>\n              {this.props.product.bid.from}</span> a <span>{this.props.product.bid.to}</span>\n            </p>\n            <p>Localización: <span>{this.props.product.bid.location.address}</span></p>\n            </div>\n            <Productmapcontainer\n              products={[this.props.product]}\n              zoomMap={19}\n              mapSize={[70,400]}\n              centerMap={{\n                lat: this.props.product.bid.location.coordinates[1],\n                lng: this.props.product.bid.location.coordinates[0]\n              }}\n            ></Productmapcontainer>\n          </div>\n          </div>\n          </div>\n       \n      );\n    } else {\n      return <PreloaderSpinner></PreloaderSpinner>;\n    }\n  }\n}\nexport default withRouter(ShowProduct);\n","import React, { Component } from \"react\";\nimport { Button } from \"react-materialize\";\nimport Signup from \"./Signup\";\nimport Login from \"./Login\";\n\nexport default class Auth extends Component {\n  render() {\n    return (\n      <div className=\"sign-backgnd\">\n        <div className=\"auth-standalone\">\n        <div className=\"auth-container\">\n          <p>Accede con tu cuenta de google</p>\n\n          \n          <Button waves=\"light\" className=\"blue google-auth\">\n          <a href={`${process.env.REACT_APP_API_URL}/auth/google`}>\n          Google Login\n          </a>\n          </Button>\n\n          <Signup></Signup>\n          <Login></Login>\n        </div>\n      </div>\n\n      </div>\n      \n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Login from \"./components/auth/Login\";\nimport Signup from \"./components/auth/Signup\";\n\nimport GoogleAuth from \"./components/auth/GoogleAuth\";\nimport AuthService from \"./components/auth/Authservice\";\nimport RoutesService from \"./RoutesService\";\n\nimport Home from \"./components/pages/Home\";\nimport HomeLogged from \"./components/pages/HomeLogged\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport CreateBid from \"./components/organisms/CreateBid\";\nimport CreateProduct from \"./components/organisms/CreateProduct\";\nimport ShowMyBid from \"./components/pages/ShowMyBid\";\nimport ShowBid from \"./components/pages/ShowBid\";\nimport Navbar from \"./components/organisms/Navbar\";\nimport ShowMyProduct from \"./components/pages/ShowMyProduct\";\nimport ShowMyPurchases from \"./components/pages/ShowMyPurchases\";\nimport ShowProduct from \"./components/pages/ShowProduct\";\nimport './styles/main.scss'\nimport Auth from \"./components/auth/Auth\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      loggedInUser: null,\n      bid: null,\n      product: null,\n      products: null,\n      position: { lat: 40.3923071, lng: -3.6996187 }\n    };\n    this.service = new AuthService();\n    this.router = new RoutesService();\n    this.fetchUser();\n    this.getProducts();\n    this.getGeoLocation();\n  }\n\n  getUser = userObj => {\n    this.setState({\n      ...this.state,\n      loggedInUser: userObj\n    });\n  };\n\n  logout = () => {\n    console.log(\"logout done\");\n    this.service.logout().then(() => {\n      this.setState({\n        ...this.state,\n        loggedInUser: null\n      });\n    });\n  };\n\n  fetchUser = () => {\n    return this.service\n      .loggedin()\n      .then(response => {\n        this.setState({\n          ...this.state,\n          loggedInUser: response\n        }, console.log(\"fetch/////\", this.state));\n        \n      })\n      .catch(error => {\n        this.setState({\n          ...this.state,\n          loggedInUser: false\n        });\n      });\n  };\n  changeStateBid(newValue) {\n    // const { from, to, deadLine } = newValue;\n    // this.setState({\n    //   ...this.state,\n    //   bid: {\n    //     from: from,\n    //     to: to,\n    //     deadLine: deadLine\n    //   },\n    //   nobid: \"xxxxxxxx\"\n    // });\n    this.fetchUser();\n    console.log(newValue);\n    console.log(\"bid actualizada\", this.state);\n  }\n\n  getProduct(id) {\n    return this.router\n      .getProduct(id)\n      .then(response => {\n        this.setState({\n          ...this.state,\n          product: response\n        });\n        console.log(\"vuelta de productid\", this.state);\n      })\n      .catch(error => console.log(error));\n  }\n  buyProduct(id) {\n    return this.router.buyProduct(id).then(response => {\n      this.setState({\n        ...this.state,\n        product: response\n      });\n      this.getProducts();\n\n    });\n  }\n  getProducts() {\n    return this.router.getProducts().then(response => {\n      response.sort((a, b) => Math.random() - 0.5);\n      this.setState({\n        ...this.state,\n        products: response\n      });\n\n    });\n  }\n  shuffleProducts() {\n    const shuffled = [...this.props.products].sort(\n      (a, b) => Math.random() - 0.5\n    );\n    this.setState({\n      ...this.state,\n      products: shuffled\n    });\n    console.log(\"logged props\", this.props);\n  }\n  getGeoLocation = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        this.setState({\n          ...this.state,\n          position: {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          }\n        });\n      });\n    }\n  };\n  \n\n  render() {\n    const onSuccess = (payment) =>\n      console.log('Successful payment!', payment);\n    const onError = (error) =>\n      console.log('Erroneous payment OR failed to load script!', error);\n    const onCancel = (data) =>\n      console.log('Cancelled payment!', data);\n\n\n    return this.state.loggedInUser ? (\n    \n      <div className=\"render-login\">\n        <div className=\"body-render-login\">\n        <Navbar\n          className=\"nav-logged\"\n          user={this.state.loggedInUser}\n          logMeOut={this.logout}\n        />\n        \n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={() => {\n              return (\n                <div className=\"page\">\n                  <HomeLogged\n                    user={this.state.loggedInUser}\n                    productsFromApp={() => {\n                      this.getProducts();\n                    }}\n                    centerMap={this.state.position}\n                    products={this.state.products}\n                    // bids={this.state.bids}\n                  ></HomeLogged>\n                </div>\n              );\n            }}\n          />\n          <Route\n            exact\n            path=\"/create-bid\"\n            render={() => {\n              // if (this.state.loggedInUser.bid) {\n              //   return (\n              //     <div className=\"page\">\n              //       <h1>Ya tienes una subasta activa</h1>\n              //       <p>Link al panel de control de tu mudanza</p>\n              //     </div>\n              //   );\n              // } else {\n                return (\n                  <div className=\"page page-create-bid\">\n                    <CreateBid\n                      fromApp={newValue => this.changeStateBid(newValue)}\n                      user={this.state.loggedInUser}\n                    ></CreateBid>\n                  </div>\n                );\n              // }\n            }}\n          />\n          <Route\n            exact\n            path=\"/create-product\"\n            render={() => {\n              console.log(\"llama create product\", this.state.loggedInUser);\n\n              return (\n                <div className=\"page page-create-product\">\n                  <CreateProduct\n                    user={this.state.loggedInUser}\n                    fromApp={() => this.fetchUser()}\n                    fromAppRefreshProducts={() => this.getProducts()}\n                    bid={\n                      this.state.loggedInUser.bid\n                        ? this.state.loggedInUser.bid._id\n                        : null\n                    }\n                  ></CreateProduct>\n                </div>\n              );\n            }}\n          />\n          <Route\n            exact\n            path=\"/your-bid\"\n            render={() => {\n              \n              return (\n                <div className=\"page page-mybid\">\n                  <ShowMyBid\n                    fromApp={() => this.fetchUser()}\n                    user={this.state.loggedInUser}\n                    products={this.state.loggedInUser.products}\n                    centerMap={this.state.position}\n                  ></ShowMyBid>\n                </div>\n              );\n            }}\n          />\n          <Route\n            path=\"/bid/:id\"\n            render={props => {\n              return (\n                <div className=\"page page-bid-id\">\n      \n                  <ShowBid\n                    // BidFromApp={() => this.GetBid()}\n                    id={props.match.params.id}\n                    user={this.state.loggedInUser}\n                    centerMap={this.state.position}\n                  ></ShowBid>\n                </div>\n              );\n            }}\n          />\n\n          <Route\n            path=\"/product/:id\"\n            render={props => {\n              return (\n                <div className=\"page page-product-id\">\n                  <ShowProduct\n                    productFromApp={() =>\n                      this.getProduct(props.match.params.id)\n                    }\n                    product={this.state.product}\n                    fromApp={() => this.fetchUser()}\n                    userId={this.state.loggedInUser._id}\n                    buyFromApp={id => this.buyProduct(id)}\n                    centerMap={this.state.position}\n                  ></ShowProduct>\n                </div>\n              );  \n            }}\n          />\n\n          <Route\n            path=\"/my-product/:id\"\n            render={props => {\n              let chosenProduct = props.match.params.id;\n              return (\n                <div className=\"page page-myproduct-id\">\n                  <ShowMyProduct\n                    productId={chosenProduct}\n                    fromApp={() => this.fetchUser()}\n                    user={this.state.loggedInUser}\n                    product={null}\n                  ></ShowMyProduct>\n                </div>\n              );\n            }}\n          />\n          <Route\n            exact\n            path=\"/my-purchases\"\n            render={props => {\n             \n              let productsOwned = this.state.products.filter(product =>{\n                return  product.buyer?  product.buyer == this.state.loggedInUser._id \n                : false\n              });\n              return (\n                <div className=\"page page-purchases\">\n                  <ShowMyPurchases\n                \n                    fromApp={() => this.fetchUser()}\n                    user={this.state.loggedInUser}\n                    products={productsOwned}\n                  ></ShowMyPurchases>\n                </div>\n              );\n            }}\n          />\n        </Switch>\n        </div>\n        {/* <FooterBar></FooterBar> */}\n      </div>\n    ) :\n    \n    \n    \n    \n    \n    \n    \n    (\n        <div className=\"render-nologin\">\n        <div className=\"body-render-nologin\">\n        <Navbar className=\"nav-logged\" logMeOut={this.logout} />\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={() => {\n              return (\n                  <div className=\"page page-home-not-logged\">\n                  <Home\n                    productsFromApp={() => {\n                      this.getProducts();\n                    }}\n                    centerMap={this.state.position}\n                    products={this.state.products}\n                  ></Home>\n                </div>\n              );\n            }}\n          />\n          <Route\n            exact\n            path=\"/signup\"\n            render={() => {\n              return (\n                <div className=\"page page-singup\">\n                <Auth></Auth>\n               \n                </div>\n              );\n            }}\n          />\n          <Route\n            exact\n            path=\"/create-bid\"\n            render={() => {\n              return (\n                <div className=\"page page-create-notlog\">\n               <Auth></Auth>\n                </div>\n              );\n            }}\n          />\n          <Route\n            exact\n            path=\"/create-product\"\n            render={() => {\n              return (\n                <div className=\"page page-create-notlog\">\n                  <h1>\n                    Tienes que estar registrado y tener una mudanza activa para\n                    poder crear cajas con productos{\" \"}\n                  </h1>\n                  <Login getUser={this.getUser}></Login>\n                  <Signup getUser={this.getUser}></Signup>\n                  <GoogleAuth getUser={this.getUser}></GoogleAuth>\n                  <a href=\"http://localhost:3010/auth/google\">\n                    Sign In with Google\n                  </a>\n                  <Button variant=\"contained\" color=\"primary\"></Button>\n                </div>\n              );\n            }}\n          />\n             <Route\n            path=\"/product/:id\"\n            render={props => {\n              return (\n                <div className=\"page page-product-id\">\n                  <ShowProduct\n                    productFromApp={() =>\n                      this.getProduct(props.match.params.id)\n                    }\n                    product={this.state.product}\n                    fromApp={() => this.fetchUser()}\n                    userId={this.state.loggedInUser._id}\n                    buyFromApp={id => this.buyProduct(id)}\n                    centerMap={this.state.position}\n                  ></ShowProduct>\n                </div>\n              );  \n            }}\n          />\n        </Switch>\n        </div>\n        {/* <FooterBar></FooterBar> */}\n        </div>\n     \n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/box.44f34020.svg\";"],"sourceRoot":""}