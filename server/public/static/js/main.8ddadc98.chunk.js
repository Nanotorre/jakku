(this.webpackJsonpgang=this.webpackJsonpgang||[]).push([[0],{188:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAABBdJREFUWAmtlkuoVmUUho+aWlFmJURBcZKwYZmFkBO7kJMaFYY4ceAwJRQpxJFI10EjB0KFEgRBBV1MAmtUUogpIjbJC+ogUEJMKLLb8+y939919jl6jr/nhfdf37e+td619tqXc0ZGrg03ED6zS5mNfRv+11n3wnPjph0Kp4jiq+Ef0Aa+7ax7/YHxaTi+oewMsmrxJex/ghb/AT4EhfZHqP8AfAwG5qszFOpI70RhF7TIebgSBrXJF3FehMa9CxfAoOrFd0U7i5OasIG9onJrOXPUxgrj5zar9ucjTHI2Fr9xySnuy8v+6FdwdBoq9hm8Fwb16hXOuOezfgeacwx+2a3PYNULJrxFETHoQfg1VOgXuBwGNdlJ2ECwlsUlaN52OA+KJ6A6+tVVPxjUzeJWTt6CBsv1MLBYxmh8ncQy9j9Dc3xTapHapHrRfpO19URTP+Kf4DDoCLwRCovNaVbtTy1+N67c+19ZP9eLc1LC/OSpq751rCea+gn+Hkc63cf6USM6KJQ4O98CE/tqF6NRMBflPsVd+9qqmzzriUY34gdxeOAV/QkN9jW7HQbPszgLPfsQ3gWDWrDeBvPVMUfdZ6F1rCfGNHEIx3eNu70dr7NO176mn3b7o9jHYWDxPFdOoTZQnwP1cpttwnpiXBMeVoyy+QqmmQ/K4U2sU7D/sD7F2Ykubzd2FFZMqQnFvcLgaRaHoc0o+gAM5maBHYX5NpxkbV6gnrpiSk3k4eqP169fpvIa6zSgdZ+z+nrjHnO73F9TEyaIXIFrH7T3oAXPwc2dda+/PshsRxbBPAu5uKGaUKx/3x/GdwBaXOu+4h42H0PPfSNEJjd0E61M+zTnypbgtIhW3NyakU1Y/fIVOAeKCSdRx9yGTf77LyH+jRDzWjOw8S/F/wVcA3+DwklOiGGaUCiCNiT+aU1z5S5f6Paa2fBv6FQmxLBN9MXSVAq59yPkPtPp5wz209XEQLBbWDzT6Z+N2+fvhgeONldS/eOSrsMRXevkVrbf7U7Uexc4Qp/ojDn+vk3Tsf3z7NVRv96aQT07S6FjrJfBHfA2+BdU/Gq3LGex0SJtAM/UsQF11beO9USTk8RbcNT/rF5qQtofhfKO68lY/SDthFoRv2vj05x79WxGWsd6IvUvL3DeD/dAg4/DJ2HgCJNUC3qeveeDUbM2Xx311F0Ig2hl34jX5Gc4OQVN/hzeB4N8fhXcByMcv3HGm2e+OuoF9WLiG2MdYx39y+wVkttgHbHC+vsFjEuO+UFfO/4r2lrsDqLehwpfgKuhyN+OR9pt4/fcOOPNC6pefFOy/fu7mKz90CJ74bpurf2mW3tuXDDp6BM4mZ1JQL2SVex/hxm51r3+wOLmTTu8pxG2yBvwYmfTZL9hjq+O/wFa/uUdOnSlqgAAAABJRU5ErkJggg=="},191:function(e,t,a){e.exports=a(464)},196:function(e,t,a){},462:function(e,t,a){},464:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(30),o=a.n(c),s=a(86),i=a(9),l=a(3),u=a(4),p=a(5),m=a(6),d=a(7),h=(a(196),a(41)),g=a(84),f=a.n(g),b=function e(){var t=this;Object(l.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentUser").then((function(e){return e.data}))},this.logout=function(){return t.service.get("/logout").then((function(e){return e.data}))},this.googleauth=function(e,a){return t.service.get("/auth/google",{username:e,password:a}).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat("https://jakkuapp.herokuapp.com"),withCredentials:!0})},v=a(8),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).sendLogin=function(e){e.preventDefault();var t=a.state,r=t.username,n=t.password;a.service.login(r,n).then((function(e){a.setState({username:r,password:n,error:!1}),a.props.userVerified(e)})).catch((function(e){a.setState({username:r,password:n,error:!0})}))},a.state={username:"",password:""},a.service=new b,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"changeState",value:function(e){var t=e.target,a=t.name,r=t.value;this.setState(Object(i.a)({},a,r))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"login-container"},n.a.createElement("p",null,"Login"),n.a.createElement("form",{onSubmit:this.sendLogin},n.a.createElement(v.TextInput,{value:this.state.username,placeholder:"User name",name:"username",onChange:function(t){return e.changeState(t)},type:"text"}),n.a.createElement(v.TextInput,{value:this.state.password,placeholder:"Password",name:"password",onChange:function(t){return e.changeState(t)},type:"password"}),n.a.createElement(v.Button,{type:"submit",value:"Log in"},"Login")),n.a.createElement("p",null,this.state.error?"Login failed. Please, try again o signup.":""))}}]),t}(r.Component),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this))).sendSignup=function(e){e.preventDefault();var t=a.state,r=t.username,n=t.password;a.service.signup(r,n).then((function(e){a.setState({username:"",password:""}),a.props.getUser(e.user)})).catch((function(e){a.setState({username:r,password:"",error:!0})}))},a.state={username:"",password:""},a.service=new b,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"changeState",value:function(e){var t=e.target,a=t.name,r=t.value;this.setState(Object(i.a)({},a,r))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"sign-container"},n.a.createElement("p",null,"Signup"),n.a.createElement("form",{onSubmit:this.sendSignup},n.a.createElement(v.TextInput,{label:"Nombre",value:this.state.username,type:"text",name:"username",onChange:function(t){return e.changeState(t)}}),n.a.createElement(v.TextInput,{label:"Contrase\xf1a",value:this.state.password,type:"password",name:"password",onChange:function(t){return e.changeState(t)}}),n.a.createElement(v.Button,{type:"submit",value:"Sign up"},"Signup")),n.a.createElement("p",null,this.state.error?"Something was wrong. Please, try again":""))}}]),t}(r.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).sendLogin=function(e){e.preventDefault();var t=a.state,r=t.username,n=t.password;a.service.googleauth(r,n).then((function(e){a.setState({username:r,password:n,error:!1}),a.props.getUser(e.user)})).catch((function(e){a.setState({username:r,password:n,error:!0})}))},a.state={username:"",password:""},a.service=new b,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"changeState",value:function(e){var t=e.target,a=t.name,r=t.value;this.setState(Object(i.a)({},a,r))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("h1",null,"Login with google"),n.a.createElement("form",{onSubmit:this.sendLogin},n.a.createElement("input",{value:this.state.username,placeholder:"User name",name:"username",onChange:function(t){return e.changeState(t)},type:"text"}),n.a.createElement("input",{value:this.state.password,placeholder:"Password",name:"password",onChange:function(t){return e.changeState(t)},type:"password"}),n.a.createElement("input",{type:"submit",value:"Login"})),n.a.createElement("h1",null,this.state.error?"Login failed. Please, try again o signup.":""))}}]),t}(r.Component),y=function e(){var t=this;Object(l.a)(this,e),this.errHandler=function(e){if(e.response&&e.response.data)throw e.response.data.message;throw e},this.createBid=function(e){return t.service.post("/create/new-bid",{state:e}).then((function(e){return e.data})).catch(t.errHandler)},this.createProduct=function(e){return t.service.post("/create/new-product",{state:e}).then((function(e){return e.data})).catch(t.errHandler)},this.addPicture=function(e){var a=new FormData;return a.append("photo",e),t.service.post("/create/new-product/photo",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data})).catch(t.errHandler)},this.getProduct=function(e){return t.service.get("display/product-info/".concat(e)).then((function(e){return e.data})).catch(t.errHandler)},this.buyProduct=function(e){return t.service.put("/edit/buy-product/".concat(e)).then((function(e){return e.data})).catch(t.errHandler)},this.getProducts=function(){return t.service.get("display/all-products").then((function(e){return e.data})).catch(t.errHandler)},this.start=function(){return t.service.get("display/start").then((function(e){return e.data})).catch(t.errHandler)},this.getMyBids=function(){return t.service.get("display/bid-fromuser").then((function(e){return e.data})).catch(t.errHandler)},this.getBid=function(e){return t.service.get("display/bid-info/".concat(e)).then((function(e){return e.data})).catch(t.errHandler)},this.deleteProduct=function(e){return t.service.delete("delete/product/".concat(e)).then((function(e){return e.data})).catch(t.errHandler)},this.service=f.a.create({baseURL:"".concat("https://jakkuapp.herokuapp.com"),withCredentials:!0})},w=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"modal-first-container"},n.a.createElement(v.Modal,{header:this.props.passText,fixedFooter:!0,trigger:n.a.createElement("a",{class:"btn-floating btn-large waves-effect waves-light red"},n.a.createElement("i",{class:"material-icons"},"add")),actions:n.a.createElement(v.Button,{waves:"green",modal:"close",flat:!0},"Cerrar")},n.a.createElement("div",{className:"auth-container"},n.a.createElement("p",null,"Accede con tu cuenta de google"),n.a.createElement(v.Button,{waves:"light",className:"blue google-auth"},n.a.createElement("a",{href:"".concat("https://jakkuapp.herokuapp.com","/auth/google")},"Google Login")),n.a.createElement(O,null),n.a.createElement(E,null))))}}]),t}(r.Component),P=(r.Component,function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"search-bar"},n.a.createElement("form",null,n.a.createElement("div",{className:"input-field col s6"},n.a.createElement(v.TextInput,{onChange:function(t){return e.props.updateSearch(t.target.value)},type:"text",name:"search",id:"search",label:"Busca lo que necesites",className:"input-search"}))))}}]),t}(r.Component)),k=a(31),S=a(11),C=a(12),N=a.n(C);a(83);N.a.locale("es");var M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).transformDate=function(){N.a.lang("es");var e=N()(a.props.bid.deadLine).fromNow();return console.log(e),n.a.createElement("p",null,e)},a.state={},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"card-map-container"},n.a.createElement(v.Card,{className:"blue-grey darken-1",textClassName:"white-text",title:"",actions:[n.a.createElement(S.b,{to:"/bid/".concat(this.props.bid._id)},"Ir a la Mudanza")]},n.a.createElement("p",null,"Esta mudanza acaba ",this.transformDate())))}}]),t}(r.Component),A=a(188),D=a.n(A),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).toggleOpen=function(){a.setState({isOpen:!a.state.isOpen},(function(){a.state.isOpen?a.props.closeMarkers(a.props.id):a.setState({activeMarker:!1},(function(){a.props.closeMarkers(null)}))}))},a.state={isOpen:!1,activeMarker:!0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(k.Marker,{onClick:this.toggleOpen,position:this.props.location,icon:D.a},this.state.isOpen&&this.state.activeMarker?n.a.createElement(k.InfoWindow,{maxWidth:800,defaultPosition:this.props.location,onCloseClick:this.props.onToggleOpen},n.a.createElement(M,{toggleShowPage:this.props.toggleShowPage,bid:this.props.bid})):null)}}]),t}(n.a.Component),U=Object(k.withScriptjs)(Object(k.withGoogleMap)((function(e){var t=12;e.zoomMap&&(t=e.zoomMap);var a=e.bids.map((function(t,a){var r;return n.a.createElement(I,(r={bid:t,key:a,id:t._id,closeMarkers:e.closeOtherMarkers,location:{lat:t.location.coordinates[1],lng:t.location.coordinates[0]},toggleShowPage:e.toggleShowPage},Object(i.a)(r,"closeMarkers",e.closeOtherMarkers),Object(i.a)(r,"activeMarker",t._id===e.activeMarker),r))}));return n.a.createElement(k.GoogleMap,{defaultZoom:t,center:{lat:e.centerMap.lat,lng:e.centerMap.lng}},a)})));function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).closeOtherMarkers=function(e){a.setState({activeMarker:e})},a.componentDidMount=function(){a.props.centerBid?a.setState(F({},a.state,{centerMap:a.props.centerBid})):a.setState(F({},a.state,{centerMap:a.props.centerMap}))},a.state={activeMarker:null},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(U,{bids:this.props.bids,centerMap:this.state.centerMap,googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyDUeQXCyJDlhOtCB8JwWAk8zCxpjk6k-jo&libraries=geometry,drawing,places",loadingElement:n.a.createElement("div",{style:{height:"100%"}}),containerElement:n.a.createElement("div",{style:{height:"600px",width:"600px"}}),mapElement:n.a.createElement("div",{style:{height:"100%"}}),zoomMap:this.props.zoomMap,activeMarker:this.state.activeMarker,closeOtherMarkers:this.closeOtherMarkers,toggleShowPage:this.props.toggleShowPage})}}]),t}(n.a.Component),B=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{class:"card"},n.a.createElement(S.b,{to:"/product/".concat(this.props.product._id),className:"product-card ".concat(this.props.idx)},this.props.product.active?n.a.createElement("div",{class:"card-image"},n.a.createElement("img",{src:this.props.product.imgPath1}),n.a.createElement("span",{class:"card-title"},this.props.product.name)):n.a.createElement("div",{class:"card-image"},n.a.createElement("div",{className:"selled-badge"},n.a.createElement("i",{class:"medium material-icons"},"done")),n.a.createElement("p",{className:"vendido"},"Vendido"),n.a.createElement("img",{className:"selled-img",src:this.props.product.imgPath1}),n.a.createElement("span",{class:"card-title"},this.props.product.name)),n.a.createElement("div",{class:"card-content"},n.a.createElement("p",{className:"card-price"},this.props.product.price," \u20ac"))),n.a.createElement("div",{class:"card-action"},n.a.createElement("a",{href:"/bid/".concat(this.props.product.bid._id),onClick:function(){return console.log(e.props.product)}},"Otras cajas en la misma mudanza")))}}]),t}(r.Component),z=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,this.props.products.map((function(e,t){return n.a.createElement(B,{product:e,idx:t})})))}}]),t}(r.Component);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var _=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={products:e.products,searchProducts:e.products},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"makeSearch",value:function(e){var t=this.state.products.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));this.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.state,{searchProducts:t}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"container-all-search"},n.a.createElement(P,{updateSearch:function(t){return e.makeSearch(t)}}),this.props.title?n.a.createElement("p",null,this.props.title):n.a.createElement("h6",null,"Selecciona un marcador del mapa para ver mudanzas disponibles"),n.a.createElement(x,{bids:this.props.bids,centerMap:this.props.centerMap,centerBid:this.props.centerBid,zoomMap:this.props.zoomMap}),n.a.createElement("div",{className:"card-container"},n.a.createElement(z,{products:this.state.searchProducts})))}}]),t}(r.Component),R=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(v.Preloader,{className:"preloader",color:"red",size:"big"}))}}]),t}(r.Component);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={bids:null,products:null},a.router=new y,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.router.getProducts().then((function(t){var a=t.map((function(e){return e.bid}));a.forEach((function(e){return e.productsList.map((function(e){return t.filter((function(t){return t._id===e}))}))}));var r=[];a=a.filter((function(e){return!r.includes(e._id)&&(r.push(e._id),!0)})),e.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.state,{products:t,bids:a,centerMap:e.props.centerMap}))}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"home"},n.a.createElement("div",{className:"title-container"},n.a.createElement("h1",null,"Si te acabas de mudar o est\xe1s a punto de mudarte, podemos ayudarte"),n.a.createElement("img",{src:"bkg-img.svg",alt:"background image"})),n.a.createElement(v.Tabs,{className:"tab-demo z-depth-1 tabs-fixed-width tab-container"},n.a.createElement(v.Tab,{title:"Me voy a mudar",className:"me-mudo"},n.a.createElement("div",{className:"mudo-container"},n.a.createElement("h3",null,"\xbfTienes demasiadas cosas y no vas a llevarlas a tu nuevo hogar?"),n.a.createElement("h3",null,"Est\xe1s de enhorabuena."),n.a.createElement("p",null,"Tenemos el escaparate perfecto para venderlo todo el d\xeda exacto que t\xfa decidas.")),n.a.createElement("main",{className:"timeline"},n.a.createElement("ul",null,n.a.createElement("li",{className:"li-r"},n.a.createElement("i",{class:"medium material-icons"},"event_available"),n.a.createElement("p",{className:"number-r"},"1"),n.a.createElement("h4",null,"Fija el d\xeda"),n.a.createElement("p",null,"Decide cuando quieres vaciar tu vivienda. Te liberas de lo que no necesitas justo cuando te mudas. Ni antes, ni despu\xe9s.")),n.a.createElement("li",{className:"li-l"},n.a.createElement("i",{class:"medium material-icons"},"camera_alt"),n.a.createElement("p",{className:"number-l"},"2"),n.a.createElement("h4",null,"Separa lo que no te vas a llevar"),n.a.createElement("p",null,"Hazle fotos y descr\xedbelo brevemente. Puedes una sola cosa en cada caja, como una mesa, o meter el sal\xf3n completo. \xa1En nuestras cajas cabe todo!")),n.a.createElement("li",{className:"li-r"},n.a.createElement("i",{class:"medium material-icons"},"euro_symbol"),n.a.createElement("p",{className:"number-3"},"3"),n.a.createElement("h4",null,"Ponles precio"),n.a.createElement("p",null,"Desde 1 c\xe9ntimo hasta lo que t\xfa juzgues.")),n.a.createElement("li",{className:"li-l"},n.a.createElement("i",{class:"medium material-icons"},"thumb_up"),n.a.createElement("p",{className:"number-4"},"4"),n.a.createElement("h4",null,"V\xe9ndelo"),n.a.createElement("p",null,"Los compradores ir\xe1n a recogerlo el d\xeda acordado. Listo para tu mudanza.")))),n.a.createElement("div",{className:"create-bid-container"},n.a.createElement("label",{className:"label-crear"},"Crear mudanza"),n.a.createElement(w,{passText:"Tienes que identificarte para continuar"}))),n.a.createElement(v.Tab,{title:"Me acabo de mudar",active:!0},n.a.createElement("div",{className:"mudare-container"},n.a.createElement("div",{className:"mudo-container"},n.a.createElement("h3",null,"\xbfTe faltan cosas en tu nueva casa?"),n.a.createElement("p",null,"B\xfascalo. Seguro que alguien se est\xe1 mudando y le sobra.")),this.state.products&&this.state.bids&&this.state.centerMap?n.a.createElement(n.a.Fragment,null,n.a.createElement(_,{bids:this.state.bids,centerMap:this.props.centerMap,products:this.props.products})):n.a.createElement(R,null)))))}}]),t}(r.Component),V=Object(h.f)(G),H=Object(k.withScriptjs)(Object(k.withGoogleMap)((function(e){var t=12;e.zoomMap&&(t=e.zoomMap);var a=e.products.map((function(t,a){var r;return n.a.createElement(I,(r={product:t,key:a,id:t._id,closeMarkers:e.closeOtherMarkers,location:{lat:t.bid.location.coordinates[1],lng:t.bid.location.coordinates[0]},toggleShowPage:e.toggleShowPage},Object(i.a)(r,"closeMarkers",e.closeOtherMarkers),Object(i.a)(r,"activeMarker",t._id===e.activeMarker),r))}));return n.a.createElement(k.GoogleMap,{defaultZoom:t,center:{lat:e.centerMap.lat,lng:e.centerMap.lng}},a)}))),X=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).closeOtherMarkers=function(e){a.setState({activeMarker:e})},a.state={activeMarker:null},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(H,{products:this.props.products,centerMap:this.props.centerMap,googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyDUeQXCyJDlhOtCB8JwWAk8zCxpjk6k-jo&libraries=geometry,drawing,places",loadingElement:n.a.createElement("div",{style:{height:"100%"}}),containerElement:n.a.createElement("div",{style:{height:"600px",width:"600px"}}),mapElement:n.a.createElement("div",{style:{height:"100%"}}),zoomMap:this.props.zoomMap,activeMarker:this.state.activeMarker,closeOtherMarkers:this.closeOtherMarkers,toggleShowPage:this.props.toggleShowPage})}}]),t}(n.a.Component),q=function(e){function t(e){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.bid?n.a.createElement("div",{className:"create-bid-container"},n.a.createElement("label",{className:"label-crear"},"Crear mudanza"),n.a.createElement(S.b,{to:"/create-bid",class:"btn-floating btn-large waves-effect waves-light red"},n.a.createElement("i",{class:"material-icons"},"add"))):n.a.createElement("div",{className:"create-bid-container"},n.a.createElement("label",{className:"label-crear"},"Crear caja"),n.a.createElement(S.b,{to:"/create-product",class:"btn-floating btn-large waves-effect waves-light red"},n.a.createElement("i",{class:"material-icons"},"add")))}}]),t}(r.Component),W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={products:a.props.products},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return this.props.products&&this.props.user?n.a.createElement("div",{className:"collapsible-container"},n.a.createElement(v.Collapsible,{accordion:!1},this.props.products.map((function(t,a){return t.buyer==e.props.user._id?n.a.createElement(v.CollapsibleItem,{header:t.name,icon:n.a.createElement("i",{class:"medium material-icons"},"done")},n.a.createElement("div",{className:"collaps-open"},n.a.createElement("img",{src:t.imgPath1,alt:"Product image"}),n.a.createElement("p",null,t.description),n.a.createElement("p",null,t.price," \u20ac"))):n.a.createElement(v.CollapsibleItem,{header:t.name,icon:t.active?n.a.createElement("div",null,n.a.createElement("p",null,"Disponible")):n.a.createElement("div",null,n.a.createElement("i",{class:"medium material-icons"},"done"),n.a.createElement("p",null,"Vendido"))},n.a.createElement("div",{className:"collaps-open"},n.a.createElement("img",{src:t.imgPath1,alt:"Product image"}),n.a.createElement("p",null,t.price," \u20ac"),n.a.createElement("p",null,t.description),n.a.createElement("div",{className:"borrar"},n.a.createElement("i",{class:"medium material-icons"},"cancel"),n.a.createElement("p",null,"Borrar"))))})))):n.a.createElement(R,null)}}]),t}(r.Component);N.a.locale("es");var Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){},a.goBack=function(){a.props.history.push("/")},a.transformDate=function(){N.a.lang("es");var e=N()(a.props.user.bid.deadLine).format("LL");return n.a.createElement("p",null,e)},a.state={},a.router=new y,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"extractCoordinates",value:function(e){return[{lat:e[0],lng:e[1]}]}},{key:"render",value:function(){return this.props.user.bid?this.props.user.products?n.a.createElement("div",{className:"your-bid-container"},n.a.createElement("a",{className:"back-btn"},n.a.createElement("i",{class:"medium material-icons",onClick:this.goBack},"arrow_back")),n.a.createElement("h1",null,"Panel de control de tu mudanza"),n.a.createElement("p",null,this.props.user.username),n.a.createElement("p",null,"Recoger\xe1n las cosas el d\xeda ",this.transformDate()," entre las"," ",this.props.user.bid.from," y las ",this.props.user.bid.to),n.a.createElement(q,{product:!0}),n.a.createElement("h2",null,"Tus cajas"),n.a.createElement(W,{products:this.props.products,user:this.props.user})):n.a.createElement(R,null):n.a.createElement("div",{className:"your-bid-container"},n.a.createElement("p",null,"No tienes ninguna mudanza creada."),n.a.createElement(q,{bid:!0}))}}]),t}(r.Component),Z=Object(h.f)(Y);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={products:e.products,searchProducts:e.products,bids:null},a.router=new y,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.router.getProducts().then((function(t){var a=t.map((function(e){return e.bid}));a.forEach((function(e){return e.productsList.map((function(e){return t.filter((function(t){return t._id===e}))}))}));var r=[];a=a.filter((function(e){return!r.includes(e._id)&&(r.push(e._id),!0)})),t.sort((function(e,t){return Math.random()-.5})),e.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.state,{products:t,bids:a,centerMap:e.props.centerMap,loaded:!0}))}))}},{key:"render",value:function(){return this.props.user.bid?n.a.createElement("div",{className:"home"},n.a.createElement("div",{className:"title-container"},n.a.createElement("h1",null,"Crea nuevas cajas o busca en otras mudanzas"),n.a.createElement("img",{src:"bkg-img.svg",alt:"background image"})),n.a.createElement(q,{product:!0}),this.state.loaded&&this.state.bids&&this.state.products&&this.state.centerMap?n.a.createElement(_,{bids:this.state.bids,centerMap:this.state.centerMap,products:this.state.products}):n.a.createElement(R,null)):n.a.createElement("div",{className:"home"},n.a.createElement("div",null,n.a.createElement("div",{className:"title-container"},n.a.createElement("h1",null,"Si te acabas de mudar o est\xe1s a punto de mudarte, podemos ayudarte"),n.a.createElement("img",{src:"bkg-img.svg",alt:"background image"})),n.a.createElement(v.Tabs,{className:"tab-demo z-depth-1 tabs-fixed-width tab-container"},n.a.createElement(v.Tab,{title:"Me voy a mudar",className:"me-mudo"},n.a.createElement("div",{className:"mudo-container-login"},n.a.createElement(q,{bid:!0}))),n.a.createElement(v.Tab,{title:"Me acabo de mudar",active:!0},this.state.products&&this.state.bids&&this.state.centerMap?n.a.createElement(_,{bids:this.state.bids,centerMap:this.props.centerMap,products:this.props.products}):n.a.createElement(R,null)))))}}]),t}(r.Component),$=Object(h.f)(K),ee=a(481),te=(a(463),a(88)),ae=a.n(te);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(ne({},a.state,{address:e}))},a.handleSelect=function(e){Object(te.geocodeByAddress)(e).then((function(e){Object(te.getLatLng)(e[0]).then((function(t){a.setState(ne({},a.state,{address:e[0].formatted_address,lat:t.lat,lng:t.lng})),a.changeValue()}))})).catch((function(e){return console.error("Error",e)}))},a.state={address:"",lat:null,lng:null},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"changeValue",value:function(){this.props.changeState(this.state)}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(ae.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect},(function(e){var t=e.getInputProps,a=e.suggestions,r=e.getSuggestionItemProps,c=e.loading;return n.a.createElement("div",null,n.a.createElement("input",t({placeholder:"Search Places ...",className:"location-search-input"})),n.a.createElement("div",{className:"autocomplete-dropdown-container"},c&&n.a.createElement("div",null,"Loading..."),a.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return n.a.createElement("div",r(e,{className:t,style:a}),n.a.createElement("span",null,e.description))}))))})))}}]),t}(n.a.Component);function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this))).transformDate=function(){N.a.lang("es");var e=N()(a.state.deadLine).format("LLLL");return console.log(e),n.a.createElement("p",null,e)},a.componentDidMount=function(){a.props.user.bid&&a.setState(se({},a.state,{isBid:!0}))},a.state={sent:!1,isBid:!1},a.routes=new y,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"updateFormData",value:function(e,t){var a=se({},this.state);a[t]=e.target.value,this.setState(a)}},{key:"sendState",value:function(e){var t=this;e.preventDefault(),this.setState(se({},this.state,{sent:!0})),this.routes.createBid(this.state).then((function(){t.props.fromApp(t.state)})).catch((function(e){return console.log(e)}))}},{key:"changeState",value:function(e){this.setState(se({},this.state,{location:{lat:e.lat,lng:e.lng,address:e.address}}))}},{key:"render",value:function(){var e=this;return this.state.isBid?n.a.createElement("div",{className:"page"},n.a.createElement("h1",null,"Ya tienes una subasta activa"),n.a.createElement(q,null)):this.state.sent?n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Tu mudanza"),n.a.createElement("h3",null,"Finaliza el d\xeda ",this.transformDate()),n.a.createElement("h3",null,"Los compradores ir\xe1n a recogerlo de ",this.state.from," a ",this.state.to),n.a.createElement("h3",null,"en ",this.state.location.address),n.a.createElement("p",null,"Ya puedes a\xf1adir cajas a tu mudanza"),n.a.createElement(S.b,{to:"/create-product"},"A\xf1adir caja")):n.a.createElement(n.a.Fragment,null,n.a.createElement("form",null,n.a.createElement("label",{htmlFor:"input-day"},"D\xeda de finalizaci\xf3n"),n.a.createElement("input",{type:"date",placeholder:"Cuando quieres que se lo lleven",name:"dia",id:"input-day",onChange:function(t){return e.updateFormData(t,"deadLine")}}),n.a.createElement("label",{htmlFor:"hora"},"Hora de recogida"),n.a.createElement("input",{type:"time",placeholder:"Hora de comienzo de recogida",name:"hora",onChange:function(t){return e.updateFormData(t,"from")}}),n.a.createElement("label",{htmlFor:"fin"},"Finalizaci\xf3n de recogida"),n.a.createElement("input",{type:"time",placeholder:"Hora de finalizaci\xf3n de recogida",name:"fin",onChange:function(t){return e.updateFormData(t,"to")}}),n.a.createElement("label",{htmlFor:"location"},"Lugar de recogida"),n.a.createElement(ce,{changeState:function(t){return e.changeState(t)},value:this.state.value,name:"location",placeholder:"Calle o barrio",onChange:function(t){return e.updateFormData(t,"location")}}),n.a.createElement("button",{onClick:function(t){return e.sendState(t)}},"Submit")))}}]),t}(r.Component),le=Object(h.f)(ie);function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).goBack=function(){a.props.history.goBack()},a.state={file:null,imgPath1:"https://screenshotlayer.com/images/assets/placeholder.png",bid:null},a.routes=new y,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"updateFormData",value:function(e,t){var a=pe({},this.state);a[t]=e.target.value,this.setState(a)}},{key:"sendState",value:function(e){var t=this;e.preventDefault(),this.routes.createProduct(this.state).then((function(){t.props.fromApp(),t.props.fromAppRefreshProducts(),t.props.history.push("/your-bid")}))}},{key:"handleChange",value:function(e){this.setState(pe({},this.state,{file:e.target.files[0]}))}},{key:"handleSubmit",value:function(e,t){var a=this;e.preventDefault(),this.routes.addPicture(this.state.file).then((function(e){a.setState(pe({},a.state,Object(i.a)({},t,e)))}))}},{key:"componentDidMount",value:function(){var e=this;this.routes.getMyBids().then((function(t){e.setState(pe({},e.state,{bid:t[0]._id}))}))}},{key:"render",value:function(){var e=this;return this.props.bid?n.a.createElement(n.a.Fragment,null,n.a.createElement("a",{className:"back-btn"},n.a.createElement("i",{class:"medium material-icons",onClick:this.goBack},"arrow_back")),n.a.createElement("h1",null,"Contenido de la caja"),n.a.createElement("div",{className:"container-photo-input"},n.a.createElement("h2",null,"Foto 1"),n.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t,"imgPath1")}},n.a.createElement("input",{type:"file",onChange:function(t){return e.handleChange(t)}})," ",n.a.createElement("br",null),n.a.createElement("button",{type:"submit"},"Guardar foto")),n.a.createElement("img",{src:this.state.imgPath1,alt:"product picture"})),n.a.createElement("form",null,n.a.createElement("label",{htmlFor:"name"},"Nombre"),n.a.createElement("input",{type:"text",placeholder:"Contenido de la caja a la venta",name:"name",id:"input-name",onChange:function(t){return e.updateFormData(t,"name")}}),n.a.createElement("label",{htmlFor:"description"},"Descripci\xf3n"),n.a.createElement("input",{type:"text",placeholder:"Breve descripci\xf3n",name:"description",onChange:function(t){return e.updateFormData(t,"description")},maxlength:"100"}),n.a.createElement("label",{htmlFor:"price"},"Precio"),n.a.createElement("input",{type:"number",placeholder:"Precio",name:"price",onChange:function(t){return e.updateFormData(t,"price")}}),n.a.createElement("a",{onClick:function(t){return e.sendState(t)}},"Submit"))):n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Tienes que crear una mudanza para poder tener cajas con productos"),n.a.createElement(q,{bid:!0}))}}]),t}(r.Component),de=Object(h.f)(me);function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}N.a.locale("es");var ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).goBack=function(){a.props.history.goBack()},a.transformDate=function(){N.a.lang("es");var e=N()(a.state.bid.deadLine).format("LL");return n.a.createElement("p",null,e)},a.state={bid:null},a.router=new y,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.router.getBid(this.props.id).then((function(t){var a={lat:t.location.coordinates[1],lng:t.location.coordinates[0]};e.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.state,{bid:t,centerBid:a,centerMap:e.props.centerMap}))}))}},{key:"render",value:function(){return this.state.bid&&this.state.centerMap?n.a.createElement("div",null,n.a.createElement("a",{className:"back-btn"},n.a.createElement("i",{class:"medium material-icons",onClick:this.goBack},"arrow_back")),n.a.createElement("p",null,"Recoger\xe1n las cosas el d\xeda ",this.transformDate()," entre las"," ",this.state.bid.from," y las ",this.state.bid.to),n.a.createElement(_,{title:"Localizaci\xf3n de la subasta",bids:[this.state.bid],centerMap:this.state.centerMap,centerBid:this.state.centerBid,products:this.state.bid.productsList,zoomMap:16})):n.a.createElement(R,null)}}]),t}(r.Component),fe=Object(h.f)(ge),be=a(59),ve=a.n(be),Ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).logout=function(e){a.props.logMeOut(e),a.props.history.push("/")},a.signup=function(e){a.props.history.push("/signup")},a.yourbid=function(){a.props.history.push("/your-bid")},a.yourPurchases=function(){a.props.history.push("/my-purchases")},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return this.props.user?n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",null,n.a.createElement("div",{class:"nav-wrapper"},n.a.createElement(S.b,{to:"/",className:"brand-logo"},n.a.createElement("img",{src:ve.a,className:"logo-img"}),"Jakku"),n.a.createElement("ul",{class:"right hide-on-med-and-down"},n.a.createElement("li",null,n.a.createElement("a",{href:"#",className:"profile-container"},this.props.user.username,n.a.createElement("img",{className:"profile-image",src:this.props.user.imgPath,alt:"User profile image"})))),n.a.createElement("div",null,n.a.createElement("a",{href:"#","data-target":"mobile-demo",className:"profile-container sidenav-trigger"},this.props.user.username,n.a.createElement("img",{className:"profile-image",src:this.props.user.imgPath,alt:"User profile image"})),n.a.createElement(v.SideNav,{className:"sidenav",id:"mobile-demo",trigger:n.a.createElement("i",{class:"material-icons"}),options:{edge:"right"}},n.a.createElement(v.SideNavItem,{userView:!0,user:{background:"".concat(this.props.user.imgPath),image:"".concat(ve.a),name:"".concat(this.props.user.username)}}),n.a.createElement(v.SideNavItem,{href:"#!icon",icon:"account_circle"},"Tu perfil"),n.a.createElement(v.SideNavItem,{waves:!0,onClick:this.yourPurchases},"Cajas compradas"),n.a.createElement(v.SideNavItem,{waves:!0,onClick:this.yourbid},"Tu mudanza"),n.a.createElement(v.SideNavItem,{divider:!0}),n.a.createElement(v.SideNavItem,{waves:!0,onClick:this.logout},"Salir")))))):n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",null,n.a.createElement("div",{class:"nav-wrapper"},n.a.createElement(S.b,{to:"/",className:"brand-logo"},n.a.createElement("img",{src:ve.a,className:"logo-img"}),"Jakku"),n.a.createElement("ul",{class:"right hide-on-med-and-down"},n.a.createElement("li",null,n.a.createElement(S.b,{to:"/signin"},"Acceder"))),n.a.createElement("div",null,n.a.createElement("a",{href:"#","data-target":"mobile-demo",class:"sidenav-trigger"},n.a.createElement("i",{class:"material-icons"},"menu")),n.a.createElement(v.SideNav,{className:"sidenav",id:"mobile-demo",trigger:n.a.createElement("i",{class:"material-icons"}),options:{edge:"right"}},n.a.createElement(v.SideNavItem,{userView:!0,user:{background:"https://www.sackettwaconia.com/wp-content/uploads/default-profile.png",image:"".concat(ve.a),name:"Invitado"}}),n.a.createElement(v.SideNavItem,{href:"#!icon",icon:"account_circle",onClick:function(t){return e.signup(t)}},"Acceder"))))))}}]),t}(r.Component),Oe=Object(h.f)(Ee);function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={product:{}},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.fromApp();var t=this.props.user.products.filter((function(t){return t._id==e.props.productId}))[0];this.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.state,{product:t}))}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Mostrar caja"),n.a.createElement("div",null,n.a.createElement("img",{src:this.state.product.imgPath1,alt:"product image"}),n.a.createElement("h1",null,this.state.product.name),n.a.createElement("p",null,this.state.product.description),n.a.createElement("p",null,"Precio: ",this.state.product.price," \u20ac"),n.a.createElement("button",{onClick:function(t){return e.change(t)}},"Editar")))}}]),t}(r.Component);function we(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).getmyproducts=function(){var e=a.props.products.filter((function(e){return!!e.buyer&&e.buyer==a.props.user._id}));a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?we(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):we(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,{products:e}))},a.goBack=function(){a.props.history.push("/")},a.state={products:null},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.props.products&&this.props.user?this.props.products.length>0?n.a.createElement("div",{className:"my-purchases"},n.a.createElement("a",{className:"back-btn"},n.a.createElement("i",{class:"medium material-icons",onClick:this.goBack},"arrow_back")),n.a.createElement("h2",null,"Tus cajas compradas"),n.a.createElement(W,{products:this.props.products,user:this.props.user})):n.a.createElement("h2",null,"Todav\xeda no has comprado nada"):n.a.createElement(R,null)}}]),t}(r.Component),ke=Object(h.f)(Pe),Se=a(189),Ce=a.n(Se),Ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={showButton:!1},window.React=n.a,window.ReactDOM=o.a,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isScriptLoaded,a=e.isScriptLoadSucceed;t&&a&&this.setState({showButton:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,a=e.isScriptLoadSucceed;!this.state.showButton&&!this.props.isScriptLoaded&&t&&a&&this.setState({showButton:!0})}},{key:"render",value:function(){var e=window.PAYPAL,t=this.props,a=t.total,r=t.currency,c=t.env,o=t.commit,s=t.client,i=t.onSuccess,l=t.onError,u=t.onCancel,p=this.state.showButton;return n.a.createElement("div",null,p&&n.a.createElement(e.Button.react,{env:c,client:s,commit:o,payment:function(){return e.rest.payment.create(c,s,{transactions:[{amount:{total:a,currency:r}}]})},onAuthorize:function(e,t){return t.payment.execute().then((function(){var t={paid:!0,cancelled:!1,payerID:e.payerID,paymentID:e.paymentID,paymentToken:e.paymentToken,returnUrl:e.returnUrl};i(t)}))},onCancel:u,onError:l,style:{size:"medium",color:"black",shape:"rect",label:"pay",tagline:"true"}}))}}]),t}(n.a.Component),Me=Ce()("https://www.paypalobjects.com/api/checkout.js")(Ne);function Ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ae(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}N.a.locale("es");Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"https://jakkuapp.herokuapp.com",REACT_APP_PAYPAL_CLIENT_ID:"AQcrq4YDWyfXU3sXAPunwF77twdTo_JaPFx2en6b48mJfwpzw1vRXcuJVcOD4P7CUcxstryIVCRj2_bB"}).PAYPAL_CLIENT_ID;var Ie={sandbox:"AQcrq4YDWyfXU3sXAPunwF77twdTo_JaPFx2en6b48mJfwpzw1vRXcuJVcOD4P7CUcxstryIVCRj2_bB"},Ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).goBack=function(){a.props.history.goBack()},a.transformDate=function(){return N.a.locale("es"),N()(a.props.product.bid.deadLine).format("LL")},a.state={product:a.props.product},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.productFromApp().then((function(t){e.setState(De({},e.state,{product:e.props.product})),console.log("showproductmount",e.props.product)}))}},{key:"change",value:function(){this.props.productFromApp(),this.setState(De({},this.state,{product:this.props.product})),console.log("%%%%",this.state)}},{key:"buy",value:function(){this.props.buyFromApp(this.props.product._id)}},{key:"render",value:function(){var e=this;console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"https://jakkuapp.herokuapp.com",REACT_APP_PAYPAL_CLIENT_ID:"AQcrq4YDWyfXU3sXAPunwF77twdTo_JaPFx2en6b48mJfwpzw1vRXcuJVcOD4P7CUcxstryIVCRj2_bB"}));var t;return console.log(Ie),this.props.product?n.a.createElement("div",{className:"display-product"},n.a.createElement("a",{className:"back-btn"},n.a.createElement("i",{class:"medium material-icons",onClick:this.goBack},"arrow_back")),n.a.createElement("h1",{className:"title"},"Contenido de la caja"),n.a.createElement("div",{className:"container-product-display"},n.a.createElement("img",{src:this.props.product.imgPath1,alt:"product image"}),n.a.createElement("h3",null,this.props.product.name),n.a.createElement("p",null,this.props.product.description),n.a.createElement("p",null,"La mudanza de esta caja ser\xe1 el ",this.transformDate()," de ",this.props.product.bid.from," a ",this.props.product.bid.to),n.a.createElement("p",null,"Precio: ",this.props.product.price," \u20ac"),this.props.product.active&&this.props.product.owner._id!==this.props.userId?n.a.createElement(Me,(t={client:Ie,env:"sandbox",commit:!0,currency:"EUR",total:this.props.product.price},Object(i.a)(t,"total",1),Object(i.a)(t,"onSuccess",(function(t){e.props.buyFromApp(e.props.product._id).then((function(){return console.log("Successful payment!",t)}))})),Object(i.a)(t,"onError",(function(e){return console.log("Erroneous payment OR failed to load script!",e)})),Object(i.a)(t,"onCancel",(function(e){return console.log("Cancelled payment!",e)})),t)):this.props.product.buyer==this.props.userId?n.a.createElement("p",null):n.a.createElement("p",null,"Esta caja es tuya"),n.a.createElement("span",null,this.props.product.active||this.props.userId!=this.props.product.buyer?this.props.product.active?"":"Vendido":"Comprado! Enhorabuena"),n.a.createElement("div",{className:"owner-container"},n.a.createElement("div",{className:"profile-image"},n.a.createElement("img",{src:this.props.product.owner.imgPath})),n.a.createElement("p",null,this.props.product.owner.username)),n.a.createElement("p",null,"Localizaci\xf3n: ",this.props.product.bid.location.address),n.a.createElement(X,{products:[this.props.product],zoomMap:18,centerMap:{lat:this.props.product.bid.location.coordinates[1],lng:this.props.product.bid.location.coordinates[0]}}))):n.a.createElement(R,null)}}]),t}(r.Component),Le=Object(h.f)(Ue),Fe=(a(462),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"auth-standalone"},n.a.createElement("div",{className:"auth-container"},n.a.createElement("p",null,"Accede con tu cuenta de google"),n.a.createElement(v.Button,{waves:"light",className:"blue google-auth"},n.a.createElement("a",{href:"".concat("https://jakkuapp.herokuapp.com","/auth/google")},"Google Login")),n.a.createElement(O,null),n.a.createElement(E,null)))}}]),t}(r.Component)),xe=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"footer"},n.a.createElement("footer",null,"Fer 2019")))}}]),t}(r.Component);function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this))).getUser=function(e){a.setState(ze({},a.state,{loggedInUser:e}))},a.logout=function(){console.log("logout done"),a.service.logout().then((function(){a.setState(ze({},a.state,{loggedInUser:null}))}))},a.fetchUser=function(){return a.service.loggedin().then((function(e){a.setState(ze({},a.state,{loggedInUser:e}),console.log("fetch/////",a.state))})).catch((function(e){a.setState(ze({},a.state,{loggedInUser:!1}))}))},a.getGeoLocation=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){a.setState(ze({},a.state,{position:{lat:e.coords.latitude,lng:e.coords.longitude}}))}))},a.state={loggedInUser:null,bid:null,product:null,products:null,position:{lat:40.3923071,lng:-3.6996187}},a.service=new b,a.router=new y,a.fetchUser(),a.getProducts(),a.getGeoLocation(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"changeStateBid",value:function(e){this.fetchUser(),console.log(e),console.log("bid actualizada",this.state)}},{key:"getProduct",value:function(e){var t=this;return this.router.getProduct(e).then((function(e){t.setState(ze({},t.state,{product:e})),console.log("vuelta de productid",t.state)})).catch((function(e){return console.log(e)}))}},{key:"buyProduct",value:function(e){var t=this;return this.router.buyProduct(e).then((function(e){t.setState(ze({},t.state,{product:e})),t.getProducts()}))}},{key:"getProducts",value:function(){var e=this;return this.router.getProducts().then((function(t){t.sort((function(e,t){return Math.random()-.5})),e.setState(ze({},e.state,{products:t}))}))}},{key:"shuffleProducts",value:function(){var e=Object(s.a)(this.props.products).sort((function(e,t){return Math.random()-.5}));this.setState(ze({},this.state,{products:e})),console.log("logged props",this.props)}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?n.a.createElement("div",{className:"render-login"},n.a.createElement("div",{className:"body-render-login"},n.a.createElement(Oe,{className:"nav-logged",user:this.state.loggedInUser,logMeOut:this.logout}),n.a.createElement(h.c,null,n.a.createElement(h.a,{exact:!0,path:"/",render:function(){return n.a.createElement("div",{className:"page"},n.a.createElement($,{user:e.state.loggedInUser,productsFromApp:function(){e.getProducts()},centerMap:e.state.position,products:e.state.products}))}}),n.a.createElement(h.a,{exact:!0,path:"/create-bid",render:function(){return n.a.createElement("div",{className:"page"},n.a.createElement(le,{fromApp:function(t){return e.changeStateBid(t)},user:e.state.loggedInUser}))}}),n.a.createElement(h.a,{exact:!0,path:"/create-product",render:function(){return console.log("llama create product",e.state.loggedInUser),n.a.createElement("div",{className:"page"},n.a.createElement(de,{user:e.state.loggedInUser,fromApp:function(){return e.fetchUser()},fromAppRefreshProducts:function(){return e.getProducts()},bid:e.state.loggedInUser.bid?e.state.loggedInUser.bid._id:null}))}}),n.a.createElement(h.a,{exact:!0,path:"/your-bid",render:function(){return n.a.createElement("div",{className:"page"},n.a.createElement(Z,{fromApp:function(){return e.fetchUser()},user:e.state.loggedInUser,products:e.state.loggedInUser.products}))}}),n.a.createElement(h.a,{path:"/bid/:id",render:function(t){return n.a.createElement("div",{className:"page"},n.a.createElement(fe,{id:t.match.params.id,user:e.state.loggedInUser,centerMap:e.state.position}))}}),n.a.createElement(h.a,{path:"/product/:id",render:function(t){return n.a.createElement("div",{className:"page"},n.a.createElement(Le,{productFromApp:function(){return e.getProduct(t.match.params.id)},product:e.state.product,fromApp:function(){return e.fetchUser()},userId:e.state.loggedInUser._id,buyFromApp:function(t){return e.buyProduct(t)},centerMap:e.state.position}))}}),n.a.createElement(h.a,{path:"/my-product/:id",render:function(t){var a=t.match.params.id;return n.a.createElement("div",{className:"page"},n.a.createElement(ye,{productId:a,fromApp:function(){return e.fetchUser()},user:e.state.loggedInUser,product:null}))}}),n.a.createElement(h.a,{exact:!0,path:"/my-purchases",render:function(t){var a=e.state.products.filter((function(t){return!!t.buyer&&t.buyer==e.state.loggedInUser._id}));return n.a.createElement("div",{className:"page"},n.a.createElement(ke,{fromApp:function(){return e.fetchUser()},user:e.state.loggedInUser,products:a}))}}))),n.a.createElement(xe,null)):n.a.createElement("div",{className:"render-nologin"},n.a.createElement("div",{className:"body-render-nologin"},n.a.createElement(Oe,{className:"nav-logged",logMeOut:this.logout}),n.a.createElement(h.c,null,n.a.createElement(h.a,{exact:!0,path:"/",render:function(){return n.a.createElement(V,{productsFromApp:function(){e.getProducts()},centerMap:e.state.position,products:e.state.products})}}),n.a.createElement(h.a,{exact:!0,path:"/signup",render:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(Fe,null))}}),n.a.createElement(h.a,{exact:!0,path:"/create-bid",render:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(Fe,null))}}),n.a.createElement(h.a,{exact:!0,path:"/create-product",render:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Tienes que estar registrado y tener una mudanza activa para poder crear cajas con productos"," "),n.a.createElement(E,{getUser:e.getUser}),n.a.createElement(O,{getUser:e.getUser}),n.a.createElement(j,{getUser:e.getUser}),n.a.createElement("a",{href:"http://localhost:3010/auth/google"},"Sign In with Google"),n.a.createElement(ee.a,{variant:"contained",color:"primary"}))}}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(S.a,null,n.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},59:function(e,t,a){e.exports=a.p+"static/media/box.44f34020.svg"}},[[191,1,2]]]);
//# sourceMappingURL=main.8ddadc98.chunk.js.map